{"ast":null,"code":"/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"pdfjs-dist/build/pdf\", [], factory);else if (typeof exports === 'object') exports[\"pdfjs-dist/build/pdf\"] = factory();else root[\"pdfjs-dist/build/pdf\"] = root.pdfjsDistBuildPdf = factory();\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/\n      var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __w_pdfjs_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/\n      __w_pdfjs_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/\n      __w_pdfjs_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/\n      __w_pdfjs_require__.d = function (exports, name, getter) {\n        /******/if (!__w_pdfjs_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/\n          });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/\n      __w_pdfjs_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ? /******/function getDefault() {\n          return module['default'];\n        } : /******/function getModuleExports() {\n          return module;\n        };\n        /******/\n        __w_pdfjs_require__.d(getter, 'a', getter);\n        /******/\n        return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/\n      __w_pdfjs_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/\n      __w_pdfjs_require__.p = \"\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/\n      return __w_pdfjs_require__(__w_pdfjs_require__.s = 62);\n      /******/\n    }\n    /************************************************************************/\n    /******/([/* 0 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.unreachable = exports.warn = exports.utf8StringToString = exports.stringToUTF8String = exports.stringToPDFString = exports.stringToBytes = exports.string32 = exports.shadow = exports.setVerbosityLevel = exports.ReadableStream = exports.removeNullCharacters = exports.readUint32 = exports.readUint16 = exports.readInt8 = exports.log2 = exports.loadJpegStream = exports.isEvalSupported = exports.isLittleEndian = exports.createValidAbsoluteUrl = exports.isSameOrigin = exports.isNodeJS = exports.isSpace = exports.isString = exports.isNum = exports.isEmptyObj = exports.isBool = exports.isArrayBuffer = exports.info = exports.getVerbosityLevel = exports.getLookupTableFactory = exports.deprecated = exports.createObjectURL = exports.createPromiseCapability = exports.createBlob = exports.bytesToString = exports.assert = exports.arraysToBytes = exports.arrayByteLength = exports.FormatError = exports.XRefParseException = exports.Util = exports.UnknownErrorException = exports.UnexpectedResponseException = exports.TextRenderingMode = exports.StreamType = exports.StatTimer = exports.PasswordResponses = exports.PasswordException = exports.PageViewport = exports.NotImplementedException = exports.NativeImageDecoding = exports.MissingPDFException = exports.MissingDataException = exports.MessageHandler = exports.InvalidPDFException = exports.AbortException = exports.CMapCompressionType = exports.ImageKind = exports.FontType = exports.AnnotationType = exports.AnnotationFlag = exports.AnnotationFieldFlag = exports.AnnotationBorderStyleType = exports.UNSUPPORTED_FEATURES = exports.VERBOSITY_LEVELS = exports.OPS = exports.IDENTITY_MATRIX = exports.FONT_IDENTITY_MATRIX = undefined;\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      __w_pdfjs_require__(63);\n      var _streams_polyfill = __w_pdfjs_require__(110);\n      var FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n      var NativeImageDecoding = {\n        NONE: 'none',\n        DECODE: 'decode',\n        DISPLAY: 'display'\n      };\n      var TextRenderingMode = {\n        FILL: 0,\n        STROKE: 1,\n        FILL_STROKE: 2,\n        INVISIBLE: 3,\n        FILL_ADD_TO_PATH: 4,\n        STROKE_ADD_TO_PATH: 5,\n        FILL_STROKE_ADD_TO_PATH: 6,\n        ADD_TO_PATH: 7,\n        FILL_STROKE_MASK: 3,\n        ADD_TO_PATH_FLAG: 4\n      };\n      var ImageKind = {\n        GRAYSCALE_1BPP: 1,\n        RGB_24BPP: 2,\n        RGBA_32BPP: 3\n      };\n      var AnnotationType = {\n        TEXT: 1,\n        LINK: 2,\n        FREETEXT: 3,\n        LINE: 4,\n        SQUARE: 5,\n        CIRCLE: 6,\n        POLYGON: 7,\n        POLYLINE: 8,\n        HIGHLIGHT: 9,\n        UNDERLINE: 10,\n        SQUIGGLY: 11,\n        STRIKEOUT: 12,\n        STAMP: 13,\n        CARET: 14,\n        INK: 15,\n        POPUP: 16,\n        FILEATTACHMENT: 17,\n        SOUND: 18,\n        MOVIE: 19,\n        WIDGET: 20,\n        SCREEN: 21,\n        PRINTERMARK: 22,\n        TRAPNET: 23,\n        WATERMARK: 24,\n        THREED: 25,\n        REDACT: 26\n      };\n      var AnnotationFlag = {\n        INVISIBLE: 0x01,\n        HIDDEN: 0x02,\n        PRINT: 0x04,\n        NOZOOM: 0x08,\n        NOROTATE: 0x10,\n        NOVIEW: 0x20,\n        READONLY: 0x40,\n        LOCKED: 0x80,\n        TOGGLENOVIEW: 0x100,\n        LOCKEDCONTENTS: 0x200\n      };\n      var AnnotationFieldFlag = {\n        READONLY: 0x0000001,\n        REQUIRED: 0x0000002,\n        NOEXPORT: 0x0000004,\n        MULTILINE: 0x0001000,\n        PASSWORD: 0x0002000,\n        NOTOGGLETOOFF: 0x0004000,\n        RADIO: 0x0008000,\n        PUSHBUTTON: 0x0010000,\n        COMBO: 0x0020000,\n        EDIT: 0x0040000,\n        SORT: 0x0080000,\n        FILESELECT: 0x0100000,\n        MULTISELECT: 0x0200000,\n        DONOTSPELLCHECK: 0x0400000,\n        DONOTSCROLL: 0x0800000,\n        COMB: 0x1000000,\n        RICHTEXT: 0x2000000,\n        RADIOSINUNISON: 0x2000000,\n        COMMITONSELCHANGE: 0x4000000\n      };\n      var AnnotationBorderStyleType = {\n        SOLID: 1,\n        DASHED: 2,\n        BEVELED: 3,\n        INSET: 4,\n        UNDERLINE: 5\n      };\n      var StreamType = {\n        UNKNOWN: 0,\n        FLATE: 1,\n        LZW: 2,\n        DCT: 3,\n        JPX: 4,\n        JBIG: 5,\n        A85: 6,\n        AHX: 7,\n        CCF: 8,\n        RL: 9\n      };\n      var FontType = {\n        UNKNOWN: 0,\n        TYPE1: 1,\n        TYPE1C: 2,\n        CIDFONTTYPE0: 3,\n        CIDFONTTYPE0C: 4,\n        TRUETYPE: 5,\n        CIDFONTTYPE2: 6,\n        TYPE3: 7,\n        OPENTYPE: 8,\n        TYPE0: 9,\n        MMTYPE1: 10\n      };\n      var VERBOSITY_LEVELS = {\n        errors: 0,\n        warnings: 1,\n        infos: 5\n      };\n      var CMapCompressionType = {\n        NONE: 0,\n        BINARY: 1,\n        STREAM: 2\n      };\n      var OPS = {\n        dependency: 1,\n        setLineWidth: 2,\n        setLineCap: 3,\n        setLineJoin: 4,\n        setMiterLimit: 5,\n        setDash: 6,\n        setRenderingIntent: 7,\n        setFlatness: 8,\n        setGState: 9,\n        save: 10,\n        restore: 11,\n        transform: 12,\n        moveTo: 13,\n        lineTo: 14,\n        curveTo: 15,\n        curveTo2: 16,\n        curveTo3: 17,\n        closePath: 18,\n        rectangle: 19,\n        stroke: 20,\n        closeStroke: 21,\n        fill: 22,\n        eoFill: 23,\n        fillStroke: 24,\n        eoFillStroke: 25,\n        closeFillStroke: 26,\n        closeEOFillStroke: 27,\n        endPath: 28,\n        clip: 29,\n        eoClip: 30,\n        beginText: 31,\n        endText: 32,\n        setCharSpacing: 33,\n        setWordSpacing: 34,\n        setHScale: 35,\n        setLeading: 36,\n        setFont: 37,\n        setTextRenderingMode: 38,\n        setTextRise: 39,\n        moveText: 40,\n        setLeadingMoveText: 41,\n        setTextMatrix: 42,\n        nextLine: 43,\n        showText: 44,\n        showSpacedText: 45,\n        nextLineShowText: 46,\n        nextLineSetSpacingShowText: 47,\n        setCharWidth: 48,\n        setCharWidthAndBounds: 49,\n        setStrokeColorSpace: 50,\n        setFillColorSpace: 51,\n        setStrokeColor: 52,\n        setStrokeColorN: 53,\n        setFillColor: 54,\n        setFillColorN: 55,\n        setStrokeGray: 56,\n        setFillGray: 57,\n        setStrokeRGBColor: 58,\n        setFillRGBColor: 59,\n        setStrokeCMYKColor: 60,\n        setFillCMYKColor: 61,\n        shadingFill: 62,\n        beginInlineImage: 63,\n        beginImageData: 64,\n        endInlineImage: 65,\n        paintXObject: 66,\n        markPoint: 67,\n        markPointProps: 68,\n        beginMarkedContent: 69,\n        beginMarkedContentProps: 70,\n        endMarkedContent: 71,\n        beginCompat: 72,\n        endCompat: 73,\n        paintFormXObjectBegin: 74,\n        paintFormXObjectEnd: 75,\n        beginGroup: 76,\n        endGroup: 77,\n        beginAnnotations: 78,\n        endAnnotations: 79,\n        beginAnnotation: 80,\n        endAnnotation: 81,\n        paintJpegXObject: 82,\n        paintImageMaskXObject: 83,\n        paintImageMaskXObjectGroup: 84,\n        paintImageXObject: 85,\n        paintInlineImageXObject: 86,\n        paintInlineImageXObjectGroup: 87,\n        paintImageXObjectRepeat: 88,\n        paintImageMaskXObjectRepeat: 89,\n        paintSolidColorImageMask: 90,\n        constructPath: 91\n      };\n      var verbosity = VERBOSITY_LEVELS.warnings;\n      function setVerbosityLevel(level) {\n        verbosity = level;\n      }\n      function getVerbosityLevel() {\n        return verbosity;\n      }\n      function info(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.infos) {\n          console.log('Info: ' + msg);\n        }\n      }\n      function warn(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.warnings) {\n          console.log('Warning: ' + msg);\n        }\n      }\n      function deprecated(details) {\n        console.log('Deprecated API usage: ' + details);\n      }\n      function unreachable(msg) {\n        throw new Error(msg);\n      }\n      function assert(cond, msg) {\n        if (!cond) {\n          unreachable(msg);\n        }\n      }\n      var UNSUPPORTED_FEATURES = {\n        unknown: 'unknown',\n        forms: 'forms',\n        javaScript: 'javaScript',\n        smask: 'smask',\n        shadingPattern: 'shadingPattern',\n        font: 'font'\n      };\n      function isSameOrigin(baseUrl, otherUrl) {\n        try {\n          var base = new URL(baseUrl);\n          if (!base.origin || base.origin === 'null') {\n            return false;\n          }\n        } catch (e) {\n          return false;\n        }\n        var other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      }\n      function isValidProtocol(url) {\n        if (!url) {\n          return false;\n        }\n        switch (url.protocol) {\n          case 'http:':\n          case 'https:':\n          case 'ftp:':\n          case 'mailto:':\n          case 'tel:':\n            return true;\n          default:\n            return false;\n        }\n      }\n      function createValidAbsoluteUrl(url, baseUrl) {\n        if (!url) {\n          return null;\n        }\n        try {\n          var absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n          if (isValidProtocol(absoluteUrl)) {\n            return absoluteUrl;\n          }\n        } catch (ex) {}\n        return null;\n      }\n      function shadow(obj, prop, value) {\n        Object.defineProperty(obj, prop, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n        return value;\n      }\n      function getLookupTableFactory(initializer) {\n        var lookup;\n        return function () {\n          if (initializer) {\n            lookup = Object.create(null);\n            initializer(lookup);\n            initializer = null;\n          }\n          return lookup;\n        };\n      }\n      var PasswordResponses = {\n        NEED_PASSWORD: 1,\n        INCORRECT_PASSWORD: 2\n      };\n      var PasswordException = function PasswordExceptionClosure() {\n        function PasswordException(msg, code) {\n          this.name = 'PasswordException';\n          this.message = msg;\n          this.code = code;\n        }\n        PasswordException.prototype = new Error();\n        PasswordException.constructor = PasswordException;\n        return PasswordException;\n      }();\n      var UnknownErrorException = function UnknownErrorExceptionClosure() {\n        function UnknownErrorException(msg, details) {\n          this.name = 'UnknownErrorException';\n          this.message = msg;\n          this.details = details;\n        }\n        UnknownErrorException.prototype = new Error();\n        UnknownErrorException.constructor = UnknownErrorException;\n        return UnknownErrorException;\n      }();\n      var InvalidPDFException = function InvalidPDFExceptionClosure() {\n        function InvalidPDFException(msg) {\n          this.name = 'InvalidPDFException';\n          this.message = msg;\n        }\n        InvalidPDFException.prototype = new Error();\n        InvalidPDFException.constructor = InvalidPDFException;\n        return InvalidPDFException;\n      }();\n      var MissingPDFException = function MissingPDFExceptionClosure() {\n        function MissingPDFException(msg) {\n          this.name = 'MissingPDFException';\n          this.message = msg;\n        }\n        MissingPDFException.prototype = new Error();\n        MissingPDFException.constructor = MissingPDFException;\n        return MissingPDFException;\n      }();\n      var UnexpectedResponseException = function UnexpectedResponseExceptionClosure() {\n        function UnexpectedResponseException(msg, status) {\n          this.name = 'UnexpectedResponseException';\n          this.message = msg;\n          this.status = status;\n        }\n        UnexpectedResponseException.prototype = new Error();\n        UnexpectedResponseException.constructor = UnexpectedResponseException;\n        return UnexpectedResponseException;\n      }();\n      var NotImplementedException = function NotImplementedExceptionClosure() {\n        function NotImplementedException(msg) {\n          this.message = msg;\n        }\n        NotImplementedException.prototype = new Error();\n        NotImplementedException.prototype.name = 'NotImplementedException';\n        NotImplementedException.constructor = NotImplementedException;\n        return NotImplementedException;\n      }();\n      var MissingDataException = function MissingDataExceptionClosure() {\n        function MissingDataException(begin, end) {\n          this.begin = begin;\n          this.end = end;\n          this.message = 'Missing data [' + begin + ', ' + end + ')';\n        }\n        MissingDataException.prototype = new Error();\n        MissingDataException.prototype.name = 'MissingDataException';\n        MissingDataException.constructor = MissingDataException;\n        return MissingDataException;\n      }();\n      var XRefParseException = function XRefParseExceptionClosure() {\n        function XRefParseException(msg) {\n          this.message = msg;\n        }\n        XRefParseException.prototype = new Error();\n        XRefParseException.prototype.name = 'XRefParseException';\n        XRefParseException.constructor = XRefParseException;\n        return XRefParseException;\n      }();\n      var FormatError = function FormatErrorClosure() {\n        function FormatError(msg) {\n          this.message = msg;\n        }\n        FormatError.prototype = new Error();\n        FormatError.prototype.name = 'FormatError';\n        FormatError.constructor = FormatError;\n        return FormatError;\n      }();\n      var AbortException = function AbortExceptionClosure() {\n        function AbortException(msg) {\n          this.name = 'AbortException';\n          this.message = msg;\n        }\n        AbortException.prototype = new Error();\n        AbortException.constructor = AbortException;\n        return AbortException;\n      }();\n      var NullCharactersRegExp = /\\x00/g;\n      function removeNullCharacters(str) {\n        if (typeof str !== 'string') {\n          warn('The argument for removeNullCharacters must be a string.');\n          return str;\n        }\n        return str.replace(NullCharactersRegExp, '');\n      }\n      function bytesToString(bytes) {\n        assert(bytes !== null && (typeof bytes === 'undefined' ? 'undefined' : _typeof(bytes)) === 'object' && bytes.length !== undefined, 'Invalid argument for bytesToString');\n        var length = bytes.length;\n        var MAX_ARGUMENT_COUNT = 8192;\n        if (length < MAX_ARGUMENT_COUNT) {\n          return String.fromCharCode.apply(null, bytes);\n        }\n        var strBuf = [];\n        for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n          var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n          var chunk = bytes.subarray(i, chunkEnd);\n          strBuf.push(String.fromCharCode.apply(null, chunk));\n        }\n        return strBuf.join('');\n      }\n      function stringToBytes(str) {\n        assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n        var length = str.length;\n        var bytes = new Uint8Array(length);\n        for (var i = 0; i < length; ++i) {\n          bytes[i] = str.charCodeAt(i) & 0xFF;\n        }\n        return bytes;\n      }\n      function arrayByteLength(arr) {\n        if (arr.length !== undefined) {\n          return arr.length;\n        }\n        assert(arr.byteLength !== undefined);\n        return arr.byteLength;\n      }\n      function arraysToBytes(arr) {\n        if (arr.length === 1 && arr[0] instanceof Uint8Array) {\n          return arr[0];\n        }\n        var resultLength = 0;\n        var i,\n          ii = arr.length;\n        var item, itemLength;\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n          itemLength = arrayByteLength(item);\n          resultLength += itemLength;\n        }\n        var pos = 0;\n        var data = new Uint8Array(resultLength);\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n          if (!(item instanceof Uint8Array)) {\n            if (typeof item === 'string') {\n              item = stringToBytes(item);\n            } else {\n              item = new Uint8Array(item);\n            }\n          }\n          itemLength = item.byteLength;\n          data.set(item, pos);\n          pos += itemLength;\n        }\n        return data;\n      }\n      function string32(value) {\n        return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n      }\n      function log2(x) {\n        var n = 1,\n          i = 0;\n        while (x > n) {\n          n <<= 1;\n          i++;\n        }\n        return i;\n      }\n      function readInt8(data, start) {\n        return data[start] << 24 >> 24;\n      }\n      function readUint16(data, offset) {\n        return data[offset] << 8 | data[offset + 1];\n      }\n      function readUint32(data, offset) {\n        return (data[offset] << 24 | data[offset + 1] << 16 | data[offset + 2] << 8 | data[offset + 3]) >>> 0;\n      }\n      function isLittleEndian() {\n        var buffer8 = new Uint8Array(4);\n        buffer8[0] = 1;\n        var view32 = new Uint32Array(buffer8.buffer, 0, 1);\n        return view32[0] === 1;\n      }\n      function isEvalSupported() {\n        try {\n          new Function('');\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      var IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n      var Util = function UtilClosure() {\n        function Util() {}\n        var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n        Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n          rgbBuf[1] = r;\n          rgbBuf[3] = g;\n          rgbBuf[5] = b;\n          return rgbBuf.join('');\n        };\n        Util.transform = function Util_transform(m1, m2) {\n          return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n        };\n        Util.applyTransform = function Util_applyTransform(p, m) {\n          var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n          var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n          return [xt, yt];\n        };\n        Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n          var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n          return [xt, yt];\n        };\n        Util.getAxialAlignedBoundingBox = function Util_getAxialAlignedBoundingBox(r, m) {\n          var p1 = Util.applyTransform(r, m);\n          var p2 = Util.applyTransform(r.slice(2, 4), m);\n          var p3 = Util.applyTransform([r[0], r[3]], m);\n          var p4 = Util.applyTransform([r[2], r[1]], m);\n          return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n        };\n        Util.inverseTransform = function Util_inverseTransform(m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n        };\n        Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n          return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[3] * v[0] + m[4] * v[1] + m[5] * v[2], m[6] * v[0] + m[7] * v[1] + m[8] * v[2]];\n        };\n        Util.singularValueDecompose2dScale = function Util_singularValueDecompose2dScale(m) {\n          var transpose = [m[0], m[2], m[1], m[3]];\n          var a = m[0] * transpose[0] + m[1] * transpose[2];\n          var b = m[0] * transpose[1] + m[1] * transpose[3];\n          var c = m[2] * transpose[0] + m[3] * transpose[2];\n          var d = m[2] * transpose[1] + m[3] * transpose[3];\n          var first = (a + d) / 2;\n          var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n          var sx = first + second || 1;\n          var sy = first - second || 1;\n          return [Math.sqrt(sx), Math.sqrt(sy)];\n        };\n        Util.normalizeRect = function Util_normalizeRect(rect) {\n          var r = rect.slice(0);\n          if (rect[0] > rect[2]) {\n            r[0] = rect[2];\n            r[2] = rect[0];\n          }\n          if (rect[1] > rect[3]) {\n            r[1] = rect[3];\n            r[3] = rect[1];\n          }\n          return r;\n        };\n        Util.intersect = function Util_intersect(rect1, rect2) {\n          function compare(a, b) {\n            return a - b;\n          }\n          var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n            orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n            result = [];\n          rect1 = Util.normalizeRect(rect1);\n          rect2 = Util.normalizeRect(rect2);\n          if (orderedX[0] === rect1[0] && orderedX[1] === rect2[0] || orderedX[0] === rect2[0] && orderedX[1] === rect1[0]) {\n            result[0] = orderedX[1];\n            result[2] = orderedX[2];\n          } else {\n            return false;\n          }\n          if (orderedY[0] === rect1[1] && orderedY[1] === rect2[1] || orderedY[0] === rect2[1] && orderedY[1] === rect1[1]) {\n            result[1] = orderedY[1];\n            result[3] = orderedY[2];\n          } else {\n            return false;\n          }\n          return result;\n        };\n        var ROMAN_NUMBER_MAP = ['', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM', '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC', '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'];\n        Util.toRoman = function Util_toRoman(number, lowerCase) {\n          assert(Number.isInteger(number) && number > 0, 'The number should be a positive integer.');\n          var pos,\n            romanBuf = [];\n          while (number >= 1000) {\n            number -= 1000;\n            romanBuf.push('M');\n          }\n          pos = number / 100 | 0;\n          number %= 100;\n          romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n          pos = number / 10 | 0;\n          number %= 10;\n          romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n          romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n          var romanStr = romanBuf.join('');\n          return lowerCase ? romanStr.toLowerCase() : romanStr;\n        };\n        Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n          Array.prototype.push.apply(arr1, arr2);\n        };\n        Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n          Array.prototype.unshift.apply(arr1, arr2);\n        };\n        Util.extendObj = function extendObj(obj1, obj2) {\n          for (var key in obj2) {\n            obj1[key] = obj2[key];\n          }\n        };\n        Util.getInheritableProperty = function Util_getInheritableProperty(dict, name, getArray) {\n          while (dict && !dict.has(name)) {\n            dict = dict.get('Parent');\n          }\n          if (!dict) {\n            return null;\n          }\n          return getArray ? dict.getArray(name) : dict.get(name);\n        };\n        Util.inherit = function Util_inherit(sub, base, prototype) {\n          sub.prototype = Object.create(base.prototype);\n          sub.prototype.constructor = sub;\n          for (var prop in prototype) {\n            sub.prototype[prop] = prototype[prop];\n          }\n        };\n        Util.loadScript = function Util_loadScript(src, callback) {\n          var script = document.createElement('script');\n          var loaded = false;\n          script.setAttribute('src', src);\n          if (callback) {\n            script.onload = function () {\n              if (!loaded) {\n                callback();\n              }\n              loaded = true;\n            };\n          }\n          document.getElementsByTagName('head')[0].appendChild(script);\n        };\n        return Util;\n      }();\n      var PageViewport = function PageViewportClosure() {\n        function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n          this.viewBox = viewBox;\n          this.scale = scale;\n          this.rotation = rotation;\n          this.offsetX = offsetX;\n          this.offsetY = offsetY;\n          var centerX = (viewBox[2] + viewBox[0]) / 2;\n          var centerY = (viewBox[3] + viewBox[1]) / 2;\n          var rotateA, rotateB, rotateC, rotateD;\n          rotation = rotation % 360;\n          rotation = rotation < 0 ? rotation + 360 : rotation;\n          switch (rotation) {\n            case 180:\n              rotateA = -1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = 1;\n              break;\n            case 90:\n              rotateA = 0;\n              rotateB = 1;\n              rotateC = 1;\n              rotateD = 0;\n              break;\n            case 270:\n              rotateA = 0;\n              rotateB = -1;\n              rotateC = -1;\n              rotateD = 0;\n              break;\n            default:\n              rotateA = 1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = -1;\n              break;\n          }\n          if (dontFlip) {\n            rotateC = -rotateC;\n            rotateD = -rotateD;\n          }\n          var offsetCanvasX, offsetCanvasY;\n          var width, height;\n          if (rotateA === 0) {\n            offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n            width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n            height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n          } else {\n            offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n            width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n            height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n          }\n          this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n          this.width = width;\n          this.height = height;\n          this.fontScale = scale;\n        }\n        PageViewport.prototype = {\n          clone: function PageViewPort_clone(args) {\n            args = args || {};\n            var scale = 'scale' in args ? args.scale : this.scale;\n            var rotation = 'rotation' in args ? args.rotation : this.rotation;\n            return new PageViewport(this.viewBox.slice(), scale, rotation, this.offsetX, this.offsetY, args.dontFlip);\n          },\n          convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n            return Util.applyTransform([x, y], this.transform);\n          },\n          convertToViewportRectangle: function PageViewport_convertToViewportRectangle(rect) {\n            var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n            var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n            return [tl[0], tl[1], br[0], br[1]];\n          },\n          convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n            return Util.applyInverseTransform([x, y], this.transform);\n          }\n        };\n        return PageViewport;\n      }();\n      var PDFStringTranslateTable = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C, 0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160, 0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC];\n      function stringToPDFString(str) {\n        var i,\n          n = str.length,\n          strBuf = [];\n        if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n          for (i = 2; i < n; i += 2) {\n            strBuf.push(String.fromCharCode(str.charCodeAt(i) << 8 | str.charCodeAt(i + 1)));\n          }\n        } else {\n          for (i = 0; i < n; ++i) {\n            var code = PDFStringTranslateTable[str.charCodeAt(i)];\n            strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n          }\n        }\n        return strBuf.join('');\n      }\n      function stringToUTF8String(str) {\n        return decodeURIComponent(escape(str));\n      }\n      function utf8StringToString(str) {\n        return unescape(encodeURIComponent(str));\n      }\n      function isEmptyObj(obj) {\n        for (var key in obj) {\n          return false;\n        }\n        return true;\n      }\n      function isBool(v) {\n        return typeof v === 'boolean';\n      }\n      function isNum(v) {\n        return typeof v === 'number';\n      }\n      function isString(v) {\n        return typeof v === 'string';\n      }\n      function isArrayBuffer(v) {\n        return (typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object' && v !== null && v.byteLength !== undefined;\n      }\n      function isSpace(ch) {\n        return ch === 0x20 || ch === 0x09 || ch === 0x0D || ch === 0x0A;\n      }\n      function isNodeJS() {\n        return (typeof process === 'undefined' ? 'undefined' : _typeof(process)) === 'object' && process + '' === '[object process]';\n      }\n      function createPromiseCapability() {\n        var capability = {};\n        capability.promise = new Promise(function (resolve, reject) {\n          capability.resolve = resolve;\n          capability.reject = reject;\n        });\n        return capability;\n      }\n      var StatTimer = function StatTimerClosure() {\n        function rpad(str, pad, length) {\n          while (str.length < length) {\n            str += pad;\n          }\n          return str;\n        }\n        function StatTimer() {\n          this.started = Object.create(null);\n          this.times = [];\n          this.enabled = true;\n        }\n        StatTimer.prototype = {\n          time: function StatTimer_time(name) {\n            if (!this.enabled) {\n              return;\n            }\n            if (name in this.started) {\n              warn('Timer is already running for ' + name);\n            }\n            this.started[name] = Date.now();\n          },\n          timeEnd: function StatTimer_timeEnd(name) {\n            if (!this.enabled) {\n              return;\n            }\n            if (!(name in this.started)) {\n              warn('Timer has not been started for ' + name);\n            }\n            this.times.push({\n              'name': name,\n              'start': this.started[name],\n              'end': Date.now()\n            });\n            delete this.started[name];\n          },\n          toString: function StatTimer_toString() {\n            var i, ii;\n            var times = this.times;\n            var out = '';\n            var longest = 0;\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var name = times[i]['name'];\n              if (name.length > longest) {\n                longest = name.length;\n              }\n            }\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var span = times[i];\n              var duration = span.end - span.start;\n              out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n            }\n            return out;\n          }\n        };\n        return StatTimer;\n      }();\n      var createBlob = function createBlob(data, contentType) {\n        if (typeof Blob !== 'undefined') {\n          return new Blob([data], {\n            type: contentType\n          });\n        }\n        throw new Error('The \"Blob\" constructor is not supported.');\n      };\n      var createObjectURL = function createObjectURLClosure() {\n        var digits = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        return function createObjectURL(data, contentType) {\n          var forceDataSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n          if (!forceDataSchema && URL.createObjectURL) {\n            var blob = createBlob(data, contentType);\n            return URL.createObjectURL(blob);\n          }\n          var buffer = 'data:' + contentType + ';base64,';\n          for (var i = 0, ii = data.length; i < ii; i += 3) {\n            var b1 = data[i] & 0xFF;\n            var b2 = data[i + 1] & 0xFF;\n            var b3 = data[i + 2] & 0xFF;\n            var d1 = b1 >> 2,\n              d2 = (b1 & 3) << 4 | b2 >> 4;\n            var d3 = i + 1 < ii ? (b2 & 0xF) << 2 | b3 >> 6 : 64;\n            var d4 = i + 2 < ii ? b3 & 0x3F : 64;\n            buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n          }\n          return buffer;\n        };\n      }();\n      function resolveCall(fn, args) {\n        var thisArg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (!fn) {\n          return Promise.resolve(undefined);\n        }\n        return new Promise(function (resolve, reject) {\n          resolve(fn.apply(thisArg, args));\n        });\n      }\n      function wrapReason(reason) {\n        if ((typeof reason === 'undefined' ? 'undefined' : _typeof(reason)) !== 'object') {\n          return reason;\n        }\n        switch (reason.name) {\n          case 'AbortException':\n            return new AbortException(reason.message);\n          case 'MissingPDFException':\n            return new MissingPDFException(reason.message);\n          case 'UnexpectedResponseException':\n            return new UnexpectedResponseException(reason.message, reason.status);\n          default:\n            return new UnknownErrorException(reason.message, reason.details);\n        }\n      }\n      function makeReasonSerializable(reason) {\n        if (!(reason instanceof Error) || reason instanceof AbortException || reason instanceof MissingPDFException || reason instanceof UnexpectedResponseException || reason instanceof UnknownErrorException) {\n          return reason;\n        }\n        return new UnknownErrorException(reason.message, reason.toString());\n      }\n      function resolveOrReject(capability, success, reason) {\n        if (success) {\n          capability.resolve();\n        } else {\n          capability.reject(reason);\n        }\n      }\n      function finalize(promise) {\n        return Promise.resolve(promise).catch(function () {});\n      }\n      function MessageHandler(sourceName, targetName, comObj) {\n        var _this = this;\n        this.sourceName = sourceName;\n        this.targetName = targetName;\n        this.comObj = comObj;\n        this.callbackId = 1;\n        this.streamId = 1;\n        this.postMessageTransfers = true;\n        this.streamSinks = Object.create(null);\n        this.streamControllers = Object.create(null);\n        var callbacksCapabilities = this.callbacksCapabilities = Object.create(null);\n        var ah = this.actionHandler = Object.create(null);\n        this._onComObjOnMessage = function (event) {\n          var data = event.data;\n          if (data.targetName !== _this.sourceName) {\n            return;\n          }\n          if (data.stream) {\n            _this._processStreamMessage(data);\n          } else if (data.isReply) {\n            var callbackId = data.callbackId;\n            if (data.callbackId in callbacksCapabilities) {\n              var callback = callbacksCapabilities[callbackId];\n              delete callbacksCapabilities[callbackId];\n              if ('error' in data) {\n                callback.reject(wrapReason(data.error));\n              } else {\n                callback.resolve(data.data);\n              }\n            } else {\n              throw new Error('Cannot resolve callback ' + callbackId);\n            }\n          } else if (data.action in ah) {\n            var action = ah[data.action];\n            if (data.callbackId) {\n              var _sourceName = _this.sourceName;\n              var _targetName = data.sourceName;\n              Promise.resolve().then(function () {\n                return action[0].call(action[1], data.data);\n              }).then(function (result) {\n                comObj.postMessage({\n                  sourceName: _sourceName,\n                  targetName: _targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  data: result\n                });\n              }, function (reason) {\n                comObj.postMessage({\n                  sourceName: _sourceName,\n                  targetName: _targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  error: makeReasonSerializable(reason)\n                });\n              });\n            } else if (data.streamId) {\n              _this._createStreamSink(data);\n            } else {\n              action[0].call(action[1], data.data);\n            }\n          } else {\n            throw new Error('Unknown action from worker: ' + data.action);\n          }\n        };\n        comObj.addEventListener('message', this._onComObjOnMessage);\n      }\n      MessageHandler.prototype = {\n        on: function on(actionName, handler, scope) {\n          var ah = this.actionHandler;\n          if (ah[actionName]) {\n            throw new Error('There is already an actionName called \"' + actionName + '\"');\n          }\n          ah[actionName] = [handler, scope];\n        },\n        send: function send(actionName, data, transfers) {\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data\n          };\n          this.postMessage(message, transfers);\n        },\n        sendWithPromise: function sendWithPromise(actionName, data, transfers) {\n          var callbackId = this.callbackId++;\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data,\n            callbackId: callbackId\n          };\n          var capability = createPromiseCapability();\n          this.callbacksCapabilities[callbackId] = capability;\n          try {\n            this.postMessage(message, transfers);\n          } catch (e) {\n            capability.reject(e);\n          }\n          return capability.promise;\n        },\n        sendWithStream: function sendWithStream(actionName, data, queueingStrategy, transfers) {\n          var _this2 = this;\n          var streamId = this.streamId++;\n          var sourceName = this.sourceName;\n          var targetName = this.targetName;\n          return new _streams_polyfill.ReadableStream({\n            start: function start(controller) {\n              var startCapability = createPromiseCapability();\n              _this2.streamControllers[streamId] = {\n                controller: controller,\n                startCall: startCapability,\n                isClosed: false\n              };\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                action: actionName,\n                streamId: streamId,\n                data: data,\n                desiredSize: controller.desiredSize\n              });\n              return startCapability.promise;\n            },\n            pull: function pull(controller) {\n              var pullCapability = createPromiseCapability();\n              _this2.streamControllers[streamId].pullCall = pullCapability;\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                stream: 'pull',\n                streamId: streamId,\n                desiredSize: controller.desiredSize\n              });\n              return pullCapability.promise;\n            },\n            cancel: function cancel(reason) {\n              var cancelCapability = createPromiseCapability();\n              _this2.streamControllers[streamId].cancelCall = cancelCapability;\n              _this2.streamControllers[streamId].isClosed = true;\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                stream: 'cancel',\n                reason: reason,\n                streamId: streamId\n              });\n              return cancelCapability.promise;\n            }\n          }, queueingStrategy);\n        },\n        _createStreamSink: function _createStreamSink(data) {\n          var _this3 = this;\n          var self = this;\n          var action = this.actionHandler[data.action];\n          var streamId = data.streamId;\n          var desiredSize = data.desiredSize;\n          var sourceName = this.sourceName;\n          var targetName = data.sourceName;\n          var capability = createPromiseCapability();\n          var sendStreamRequest = function sendStreamRequest(_ref) {\n            var stream = _ref.stream,\n              chunk = _ref.chunk,\n              transfers = _ref.transfers,\n              success = _ref.success,\n              reason = _ref.reason;\n            _this3.postMessage({\n              sourceName: sourceName,\n              targetName: targetName,\n              stream: stream,\n              streamId: streamId,\n              chunk: chunk,\n              success: success,\n              reason: reason\n            }, transfers);\n          };\n          var streamSink = {\n            enqueue: function enqueue(chunk) {\n              var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var transfers = arguments[2];\n              if (this.isCancelled) {\n                return;\n              }\n              var lastDesiredSize = this.desiredSize;\n              this.desiredSize -= size;\n              if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n                this.sinkCapability = createPromiseCapability();\n                this.ready = this.sinkCapability.promise;\n              }\n              sendStreamRequest({\n                stream: 'enqueue',\n                chunk: chunk,\n                transfers: transfers\n              });\n            },\n            close: function close() {\n              if (this.isCancelled) {\n                return;\n              }\n              this.isCancelled = true;\n              sendStreamRequest({\n                stream: 'close'\n              });\n              delete self.streamSinks[streamId];\n            },\n            error: function error(reason) {\n              if (this.isCancelled) {\n                return;\n              }\n              this.isCancelled = true;\n              sendStreamRequest({\n                stream: 'error',\n                reason: reason\n              });\n            },\n            sinkCapability: capability,\n            onPull: null,\n            onCancel: null,\n            isCancelled: false,\n            desiredSize: desiredSize,\n            ready: null\n          };\n          streamSink.sinkCapability.resolve();\n          streamSink.ready = streamSink.sinkCapability.promise;\n          this.streamSinks[streamId] = streamSink;\n          resolveCall(action[0], [data.data, streamSink], action[1]).then(function () {\n            sendStreamRequest({\n              stream: 'start_complete',\n              success: true\n            });\n          }, function (reason) {\n            sendStreamRequest({\n              stream: 'start_complete',\n              success: false,\n              reason: reason\n            });\n          });\n        },\n        _processStreamMessage: function _processStreamMessage(data) {\n          var _this4 = this;\n          var sourceName = this.sourceName;\n          var targetName = data.sourceName;\n          var streamId = data.streamId;\n          var sendStreamResponse = function sendStreamResponse(_ref2) {\n            var stream = _ref2.stream,\n              success = _ref2.success,\n              reason = _ref2.reason;\n            _this4.comObj.postMessage({\n              sourceName: sourceName,\n              targetName: targetName,\n              stream: stream,\n              success: success,\n              streamId: streamId,\n              reason: reason\n            });\n          };\n          var deleteStreamController = function deleteStreamController() {\n            Promise.all([_this4.streamControllers[data.streamId].startCall, _this4.streamControllers[data.streamId].pullCall, _this4.streamControllers[data.streamId].cancelCall].map(function (capability) {\n              return capability && finalize(capability.promise);\n            })).then(function () {\n              delete _this4.streamControllers[data.streamId];\n            });\n          };\n          switch (data.stream) {\n            case 'start_complete':\n              resolveOrReject(this.streamControllers[data.streamId].startCall, data.success, wrapReason(data.reason));\n              break;\n            case 'pull_complete':\n              resolveOrReject(this.streamControllers[data.streamId].pullCall, data.success, wrapReason(data.reason));\n              break;\n            case 'pull':\n              if (!this.streamSinks[data.streamId]) {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: true\n                });\n                break;\n              }\n              if (this.streamSinks[data.streamId].desiredSize <= 0 && data.desiredSize > 0) {\n                this.streamSinks[data.streamId].sinkCapability.resolve();\n              }\n              this.streamSinks[data.streamId].desiredSize = data.desiredSize;\n              resolveCall(this.streamSinks[data.streamId].onPull).then(function () {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: true\n                });\n              }, function (reason) {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: false,\n                  reason: reason\n                });\n              });\n              break;\n            case 'enqueue':\n              assert(this.streamControllers[data.streamId], 'enqueue should have stream controller');\n              if (!this.streamControllers[data.streamId].isClosed) {\n                this.streamControllers[data.streamId].controller.enqueue(data.chunk);\n              }\n              break;\n            case 'close':\n              assert(this.streamControllers[data.streamId], 'close should have stream controller');\n              if (this.streamControllers[data.streamId].isClosed) {\n                break;\n              }\n              this.streamControllers[data.streamId].isClosed = true;\n              this.streamControllers[data.streamId].controller.close();\n              deleteStreamController();\n              break;\n            case 'error':\n              assert(this.streamControllers[data.streamId], 'error should have stream controller');\n              this.streamControllers[data.streamId].controller.error(wrapReason(data.reason));\n              deleteStreamController();\n              break;\n            case 'cancel_complete':\n              resolveOrReject(this.streamControllers[data.streamId].cancelCall, data.success, wrapReason(data.reason));\n              deleteStreamController();\n              break;\n            case 'cancel':\n              if (!this.streamSinks[data.streamId]) {\n                break;\n              }\n              resolveCall(this.streamSinks[data.streamId].onCancel, [wrapReason(data.reason)]).then(function () {\n                sendStreamResponse({\n                  stream: 'cancel_complete',\n                  success: true\n                });\n              }, function (reason) {\n                sendStreamResponse({\n                  stream: 'cancel_complete',\n                  success: false,\n                  reason: reason\n                });\n              });\n              this.streamSinks[data.streamId].sinkCapability.reject(wrapReason(data.reason));\n              this.streamSinks[data.streamId].isCancelled = true;\n              delete this.streamSinks[data.streamId];\n              break;\n            default:\n              throw new Error('Unexpected stream case');\n          }\n        },\n        postMessage: function postMessage(message, transfers) {\n          if (transfers && this.postMessageTransfers) {\n            this.comObj.postMessage(message, transfers);\n          } else {\n            this.comObj.postMessage(message);\n          }\n        },\n        destroy: function destroy() {\n          this.comObj.removeEventListener('message', this._onComObjOnMessage);\n        }\n      };\n      function loadJpegStream(id, imageUrl, objs) {\n        var img = new Image();\n        img.onload = function loadJpegStream_onloadClosure() {\n          objs.resolve(id, img);\n        };\n        img.onerror = function loadJpegStream_onerrorClosure() {\n          objs.resolve(id, null);\n          warn('Error during JPEG image loading');\n        };\n        img.src = imageUrl;\n      }\n      exports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\n      exports.IDENTITY_MATRIX = IDENTITY_MATRIX;\n      exports.OPS = OPS;\n      exports.VERBOSITY_LEVELS = VERBOSITY_LEVELS;\n      exports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\n      exports.AnnotationBorderStyleType = AnnotationBorderStyleType;\n      exports.AnnotationFieldFlag = AnnotationFieldFlag;\n      exports.AnnotationFlag = AnnotationFlag;\n      exports.AnnotationType = AnnotationType;\n      exports.FontType = FontType;\n      exports.ImageKind = ImageKind;\n      exports.CMapCompressionType = CMapCompressionType;\n      exports.AbortException = AbortException;\n      exports.InvalidPDFException = InvalidPDFException;\n      exports.MessageHandler = MessageHandler;\n      exports.MissingDataException = MissingDataException;\n      exports.MissingPDFException = MissingPDFException;\n      exports.NativeImageDecoding = NativeImageDecoding;\n      exports.NotImplementedException = NotImplementedException;\n      exports.PageViewport = PageViewport;\n      exports.PasswordException = PasswordException;\n      exports.PasswordResponses = PasswordResponses;\n      exports.StatTimer = StatTimer;\n      exports.StreamType = StreamType;\n      exports.TextRenderingMode = TextRenderingMode;\n      exports.UnexpectedResponseException = UnexpectedResponseException;\n      exports.UnknownErrorException = UnknownErrorException;\n      exports.Util = Util;\n      exports.XRefParseException = XRefParseException;\n      exports.FormatError = FormatError;\n      exports.arrayByteLength = arrayByteLength;\n      exports.arraysToBytes = arraysToBytes;\n      exports.assert = assert;\n      exports.bytesToString = bytesToString;\n      exports.createBlob = createBlob;\n      exports.createPromiseCapability = createPromiseCapability;\n      exports.createObjectURL = createObjectURL;\n      exports.deprecated = deprecated;\n      exports.getLookupTableFactory = getLookupTableFactory;\n      exports.getVerbosityLevel = getVerbosityLevel;\n      exports.info = info;\n      exports.isArrayBuffer = isArrayBuffer;\n      exports.isBool = isBool;\n      exports.isEmptyObj = isEmptyObj;\n      exports.isNum = isNum;\n      exports.isString = isString;\n      exports.isSpace = isSpace;\n      exports.isNodeJS = isNodeJS;\n      exports.isSameOrigin = isSameOrigin;\n      exports.createValidAbsoluteUrl = createValidAbsoluteUrl;\n      exports.isLittleEndian = isLittleEndian;\n      exports.isEvalSupported = isEvalSupported;\n      exports.loadJpegStream = loadJpegStream;\n      exports.log2 = log2;\n      exports.readInt8 = readInt8;\n      exports.readUint16 = readUint16;\n      exports.readUint32 = readUint32;\n      exports.removeNullCharacters = removeNullCharacters;\n      exports.ReadableStream = _streams_polyfill.ReadableStream;\n      exports.setVerbosityLevel = setVerbosityLevel;\n      exports.shadow = shadow;\n      exports.string32 = string32;\n      exports.stringToBytes = stringToBytes;\n      exports.stringToPDFString = stringToPDFString;\n      exports.stringToUTF8String = stringToUTF8String;\n      exports.utf8StringToString = utf8StringToString;\n      exports.warn = warn;\n      exports.unreachable = unreachable;\n\n      /***/\n    }, /* 1 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      module.exports = function (it) {\n        return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) === 'object' ? it !== null : typeof it === 'function';\n      };\n\n      /***/\n    }, /* 2 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var store = __w_pdfjs_require__(42)('wks');\n      var uid = __w_pdfjs_require__(20);\n      var _Symbol = __w_pdfjs_require__(3).Symbol;\n      var USE_SYMBOL = typeof _Symbol == 'function';\n      var $exports = module.exports = function (name) {\n        return store[name] || (store[name] = USE_SYMBOL && _Symbol[name] || (USE_SYMBOL ? _Symbol : uid)('Symbol.' + name));\n      };\n      $exports.store = store;\n\n      /***/\n    }, /* 3 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n      if (typeof __g == 'number') __g = global;\n\n      /***/\n    }, /* 4 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var core = __w_pdfjs_require__(5);\n      var hide = __w_pdfjs_require__(11);\n      var redefine = __w_pdfjs_require__(8);\n      var ctx = __w_pdfjs_require__(9);\n      var PROTOTYPE = 'prototype';\n      var $export = function $export(type, name, source) {\n        var IS_FORCED = type & $export.F;\n        var IS_GLOBAL = type & $export.G;\n        var IS_STATIC = type & $export.S;\n        var IS_PROTO = type & $export.P;\n        var IS_BIND = type & $export.B;\n        var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n        var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n        var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n        var key, own, out, exp;\n        if (IS_GLOBAL) source = name;\n        for (key in source) {\n          own = !IS_FORCED && target && target[key] !== undefined;\n          out = (own ? target : source)[key];\n          exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n          if (target) redefine(target, key, out, type & $export.U);\n          if (exports[key] != out) hide(exports, key, exp);\n          if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n        }\n      };\n      global.core = core;\n      $export.F = 1;\n      $export.G = 2;\n      $export.S = 4;\n      $export.P = 8;\n      $export.B = 16;\n      $export.W = 32;\n      $export.U = 64;\n      $export.R = 128;\n      module.exports = $export;\n\n      /***/\n    }, /* 5 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var core = module.exports = {\n        version: '2.5.1'\n      };\n      if (typeof __e == 'number') __e = core;\n\n      /***/\n    }, /* 6 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      module.exports = function (it) {\n        if (!isObject(it)) throw TypeError(it + ' is not an object!');\n        return it;\n      };\n\n      /***/\n    }, /* 7 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var hasOwnProperty = {}.hasOwnProperty;\n      module.exports = function (it, key) {\n        return hasOwnProperty.call(it, key);\n      };\n\n      /***/\n    }, /* 8 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var hide = __w_pdfjs_require__(11);\n      var has = __w_pdfjs_require__(7);\n      var SRC = __w_pdfjs_require__(20)('src');\n      var TO_STRING = 'toString';\n      var $toString = Function[TO_STRING];\n      var TPL = ('' + $toString).split(TO_STRING);\n      __w_pdfjs_require__(5).inspectSource = function (it) {\n        return $toString.call(it);\n      };\n      (module.exports = function (O, key, val, safe) {\n        var isFunction = typeof val == 'function';\n        if (isFunction) has(val, 'name') || hide(val, 'name', key);\n        if (O[key] === val) return;\n        if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n        if (O === global) {\n          O[key] = val;\n        } else if (!safe) {\n          delete O[key];\n          hide(O, key, val);\n        } else if (O[key]) {\n          O[key] = val;\n        } else {\n          hide(O, key, val);\n        }\n      })(Function.prototype, TO_STRING, function toString() {\n        return typeof this == 'function' && this[SRC] || $toString.call(this);\n      });\n\n      /***/\n    }, /* 9 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var aFunction = __w_pdfjs_require__(16);\n      module.exports = function (fn, that, length) {\n        aFunction(fn);\n        if (that === undefined) return fn;\n        switch (length) {\n          case 1:\n            return function (a) {\n              return fn.call(that, a);\n            };\n          case 2:\n            return function (a, b) {\n              return fn.call(that, a, b);\n            };\n          case 3:\n            return function (a, b, c) {\n              return fn.call(that, a, b, c);\n            };\n        }\n        return function () {\n          return fn.apply(that, arguments);\n        };\n      };\n\n      /***/\n    }, /* 10 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SimpleXMLParser = exports.DOMSVGFactory = exports.DOMCMapReaderFactory = exports.DOMCanvasFactory = exports.DEFAULT_LINK_REL = exports.getDefaultSetting = exports.LinkTarget = exports.getFilenameFromUrl = exports.isExternalLinkTargetSet = exports.addLinkAttributes = exports.RenderingCancelledException = exports.CustomStyle = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _util = __w_pdfjs_require__(0);\n      var _global_scope = __w_pdfjs_require__(14);\n      var _global_scope2 = _interopRequireDefault(_global_scope);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\n      var SVG_NS = 'http://www.w3.org/2000/svg';\n      var DOMCanvasFactory = function () {\n        function DOMCanvasFactory() {\n          _classCallCheck(this, DOMCanvasFactory);\n        }\n        _createClass(DOMCanvasFactory, [{\n          key: 'create',\n          value: function create(width, height) {\n            if (width <= 0 || height <= 0) {\n              throw new Error('invalid canvas size');\n            }\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n            canvas.width = width;\n            canvas.height = height;\n            return {\n              canvas: canvas,\n              context: context\n            };\n          }\n        }, {\n          key: 'reset',\n          value: function reset(canvasAndContext, width, height) {\n            if (!canvasAndContext.canvas) {\n              throw new Error('canvas is not specified');\n            }\n            if (width <= 0 || height <= 0) {\n              throw new Error('invalid canvas size');\n            }\n            canvasAndContext.canvas.width = width;\n            canvasAndContext.canvas.height = height;\n          }\n        }, {\n          key: 'destroy',\n          value: function destroy(canvasAndContext) {\n            if (!canvasAndContext.canvas) {\n              throw new Error('canvas is not specified');\n            }\n            canvasAndContext.canvas.width = 0;\n            canvasAndContext.canvas.height = 0;\n            canvasAndContext.canvas = null;\n            canvasAndContext.context = null;\n          }\n        }]);\n        return DOMCanvasFactory;\n      }();\n      var DOMCMapReaderFactory = function () {\n        function DOMCMapReaderFactory(_ref) {\n          var _ref$baseUrl = _ref.baseUrl,\n            baseUrl = _ref$baseUrl === undefined ? null : _ref$baseUrl,\n            _ref$isCompressed = _ref.isCompressed,\n            isCompressed = _ref$isCompressed === undefined ? false : _ref$isCompressed;\n          _classCallCheck(this, DOMCMapReaderFactory);\n          this.baseUrl = baseUrl;\n          this.isCompressed = isCompressed;\n        }\n        _createClass(DOMCMapReaderFactory, [{\n          key: 'fetch',\n          value: function fetch(_ref2) {\n            var _this = this;\n            var name = _ref2.name;\n            if (!this.baseUrl) {\n              return Promise.reject(new Error('CMap baseUrl must be specified, ' + 'see \"PDFJS.cMapUrl\" (and also \"PDFJS.cMapPacked\").'));\n            }\n            if (!name) {\n              return Promise.reject(new Error('CMap name must be specified.'));\n            }\n            return new Promise(function (resolve, reject) {\n              var url = _this.baseUrl + name + (_this.isCompressed ? '.bcmap' : '');\n              var request = new XMLHttpRequest();\n              request.open('GET', url, true);\n              if (_this.isCompressed) {\n                request.responseType = 'arraybuffer';\n              }\n              request.onreadystatechange = function () {\n                if (request.readyState !== XMLHttpRequest.DONE) {\n                  return;\n                }\n                if (request.status === 200 || request.status === 0) {\n                  var data = void 0;\n                  if (_this.isCompressed && request.response) {\n                    data = new Uint8Array(request.response);\n                  } else if (!_this.isCompressed && request.responseText) {\n                    data = (0, _util.stringToBytes)(request.responseText);\n                  }\n                  if (data) {\n                    resolve({\n                      cMapData: data,\n                      compressionType: _this.isCompressed ? _util.CMapCompressionType.BINARY : _util.CMapCompressionType.NONE\n                    });\n                    return;\n                  }\n                }\n                reject(new Error('Unable to load ' + (_this.isCompressed ? 'binary ' : '') + 'CMap at: ' + url));\n              };\n              request.send(null);\n            });\n          }\n        }]);\n        return DOMCMapReaderFactory;\n      }();\n      var DOMSVGFactory = function () {\n        function DOMSVGFactory() {\n          _classCallCheck(this, DOMSVGFactory);\n        }\n        _createClass(DOMSVGFactory, [{\n          key: 'create',\n          value: function create(width, height) {\n            (0, _util.assert)(width > 0 && height > 0, 'Invalid SVG dimensions');\n            var svg = document.createElementNS(SVG_NS, 'svg:svg');\n            svg.setAttribute('version', '1.1');\n            svg.setAttribute('width', width + 'px');\n            svg.setAttribute('height', height + 'px');\n            svg.setAttribute('preserveAspectRatio', 'none');\n            svg.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n            return svg;\n          }\n        }, {\n          key: 'createElement',\n          value: function createElement(type) {\n            (0, _util.assert)(typeof type === 'string', 'Invalid SVG element type');\n            return document.createElementNS(SVG_NS, type);\n          }\n        }]);\n        return DOMSVGFactory;\n      }();\n      var SimpleDOMNode = function () {\n        function SimpleDOMNode(nodeName, nodeValue) {\n          _classCallCheck(this, SimpleDOMNode);\n          this.nodeName = nodeName;\n          this.nodeValue = nodeValue;\n          Object.defineProperty(this, 'parentNode', {\n            value: null,\n            writable: true\n          });\n        }\n        _createClass(SimpleDOMNode, [{\n          key: 'hasChildNodes',\n          value: function hasChildNodes() {\n            return this.childNodes && this.childNodes.length > 0;\n          }\n        }, {\n          key: 'firstChild',\n          get: function get() {\n            return this.childNodes[0];\n          }\n        }, {\n          key: 'nextSibling',\n          get: function get() {\n            var index = this.parentNode.childNodes.indexOf(this);\n            return this.parentNode.childNodes[index + 1];\n          }\n        }, {\n          key: 'textContent',\n          get: function get() {\n            if (!this.childNodes) {\n              return this.nodeValue || '';\n            }\n            return this.childNodes.map(function (child) {\n              return child.textContent;\n            }).join('');\n          }\n        }]);\n        return SimpleDOMNode;\n      }();\n      var SimpleXMLParser = function () {\n        function SimpleXMLParser() {\n          _classCallCheck(this, SimpleXMLParser);\n        }\n        _createClass(SimpleXMLParser, [{\n          key: 'parseFromString',\n          value: function parseFromString(data) {\n            var _this2 = this;\n            var nodes = [];\n            data = data.replace(/<\\?[\\s\\S]*?\\?>|<!--[\\s\\S]*?-->/g, '').trim();\n            data = data.replace(/<!DOCTYPE[^>\\[]+(\\[[^\\]]+)?[^>]+>/g, '').trim();\n            data = data.replace(/>([^<][\\s\\S]*?)</g, function (all, text) {\n              var length = nodes.length;\n              var node = new SimpleDOMNode('#text', _this2._decodeXML(text));\n              nodes.push(node);\n              if (node.textContent.trim().length === 0) {\n                return '><';\n              }\n              return '>' + length + ',<';\n            });\n            data = data.replace(/<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>/g, function (all, text) {\n              var length = nodes.length;\n              var node = new SimpleDOMNode('#text', text);\n              nodes.push(node);\n              return length + ',';\n            });\n            var regex = /<([\\w\\:]+)((?:[\\s\\w:=]|'[^']*'|\"[^\"]*\")*)(?:\\/>|>([\\d,]*)<\\/[^>]+>)/g;\n            var lastLength = void 0;\n            do {\n              lastLength = nodes.length;\n              data = data.replace(regex, function (all, name, attrs, data) {\n                var length = nodes.length;\n                var node = new SimpleDOMNode(name);\n                var children = [];\n                if (data) {\n                  data = data.split(',');\n                  data.pop();\n                  data.forEach(function (child) {\n                    var childNode = nodes[+child];\n                    childNode.parentNode = node;\n                    children.push(childNode);\n                  });\n                }\n                node.childNodes = children;\n                nodes.push(node);\n                return length + ',';\n              });\n            } while (lastLength < nodes.length);\n            return {\n              documentElement: nodes.pop()\n            };\n          }\n        }, {\n          key: '_decodeXML',\n          value: function _decodeXML(text) {\n            if (text.indexOf('&') < 0) {\n              return text;\n            }\n            return text.replace(/&(#(x[0-9a-f]+|\\d+)|\\w+);/gi, function (all, entityName, number) {\n              if (number) {\n                if (number[0] === 'x') {\n                  number = parseInt(number.substring(1), 16);\n                } else {\n                  number = +number;\n                }\n                return String.fromCharCode(number);\n              }\n              switch (entityName) {\n                case 'amp':\n                  return '&';\n                case 'lt':\n                  return '<';\n                case 'gt':\n                  return '>';\n                case 'quot':\n                  return '\\\"';\n                case 'apos':\n                  return '\\'';\n              }\n              return '&' + entityName + ';';\n            });\n          }\n        }]);\n        return SimpleXMLParser;\n      }();\n      var CustomStyle = function CustomStyleClosure() {\n        var prefixes = ['ms', 'Moz', 'Webkit', 'O'];\n        var _cache = Object.create(null);\n        function CustomStyle() {}\n        CustomStyle.getProp = function get(propName, element) {\n          if (arguments.length === 1 && typeof _cache[propName] === 'string') {\n            return _cache[propName];\n          }\n          element = element || document.documentElement;\n          var style = element.style,\n            prefixed,\n            uPropName;\n          if (typeof style[propName] === 'string') {\n            return _cache[propName] = propName;\n          }\n          uPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\n          for (var i = 0, l = prefixes.length; i < l; i++) {\n            prefixed = prefixes[i] + uPropName;\n            if (typeof style[prefixed] === 'string') {\n              return _cache[propName] = prefixed;\n            }\n          }\n          return _cache[propName] = 'undefined';\n        };\n        CustomStyle.setProp = function set(propName, element, str) {\n          var prop = this.getProp(propName);\n          if (prop !== 'undefined') {\n            element.style[prop] = str;\n          }\n        };\n        return CustomStyle;\n      }();\n      var RenderingCancelledException = function RenderingCancelledException() {\n        function RenderingCancelledException(msg, type) {\n          this.message = msg;\n          this.type = type;\n        }\n        RenderingCancelledException.prototype = new Error();\n        RenderingCancelledException.prototype.name = 'RenderingCancelledException';\n        RenderingCancelledException.constructor = RenderingCancelledException;\n        return RenderingCancelledException;\n      }();\n      var LinkTarget = {\n        NONE: 0,\n        SELF: 1,\n        BLANK: 2,\n        PARENT: 3,\n        TOP: 4\n      };\n      var LinkTargetStringMap = ['', '_self', '_blank', '_parent', '_top'];\n      function addLinkAttributes(link, params) {\n        var url = params && params.url;\n        link.href = link.title = url ? (0, _util.removeNullCharacters)(url) : '';\n        if (url) {\n          var target = params.target;\n          if (typeof target === 'undefined') {\n            target = getDefaultSetting('externalLinkTarget');\n          }\n          link.target = LinkTargetStringMap[target];\n          var rel = params.rel;\n          if (typeof rel === 'undefined') {\n            rel = getDefaultSetting('externalLinkRel');\n          }\n          link.rel = rel;\n        }\n      }\n      function getFilenameFromUrl(url) {\n        var anchor = url.indexOf('#');\n        var query = url.indexOf('?');\n        var end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);\n        return url.substring(url.lastIndexOf('/', end) + 1, end);\n      }\n      function getDefaultSetting(id) {\n        var globalSettings = _global_scope2.default.PDFJS;\n        switch (id) {\n          case 'pdfBug':\n            return globalSettings ? globalSettings.pdfBug : false;\n          case 'disableAutoFetch':\n            return globalSettings ? globalSettings.disableAutoFetch : false;\n          case 'disableStream':\n            return globalSettings ? globalSettings.disableStream : false;\n          case 'disableRange':\n            return globalSettings ? globalSettings.disableRange : false;\n          case 'disableFontFace':\n            return globalSettings ? globalSettings.disableFontFace : false;\n          case 'disableCreateObjectURL':\n            return globalSettings ? globalSettings.disableCreateObjectURL : false;\n          case 'disableWebGL':\n            return globalSettings ? globalSettings.disableWebGL : true;\n          case 'cMapUrl':\n            return globalSettings ? globalSettings.cMapUrl : null;\n          case 'cMapPacked':\n            return globalSettings ? globalSettings.cMapPacked : false;\n          case 'postMessageTransfers':\n            return globalSettings ? globalSettings.postMessageTransfers : true;\n          case 'workerPort':\n            return globalSettings ? globalSettings.workerPort : null;\n          case 'workerSrc':\n            return globalSettings ? globalSettings.workerSrc : null;\n          case 'disableWorker':\n            return globalSettings ? globalSettings.disableWorker : false;\n          case 'maxImageSize':\n            return globalSettings ? globalSettings.maxImageSize : -1;\n          case 'imageResourcesPath':\n            return globalSettings ? globalSettings.imageResourcesPath : '';\n          case 'isEvalSupported':\n            return globalSettings ? globalSettings.isEvalSupported : true;\n          case 'externalLinkTarget':\n            if (!globalSettings) {\n              return LinkTarget.NONE;\n            }\n            switch (globalSettings.externalLinkTarget) {\n              case LinkTarget.NONE:\n              case LinkTarget.SELF:\n              case LinkTarget.BLANK:\n              case LinkTarget.PARENT:\n              case LinkTarget.TOP:\n                return globalSettings.externalLinkTarget;\n            }\n            (0, _util.warn)('PDFJS.externalLinkTarget is invalid: ' + globalSettings.externalLinkTarget);\n            globalSettings.externalLinkTarget = LinkTarget.NONE;\n            return LinkTarget.NONE;\n          case 'externalLinkRel':\n            return globalSettings ? globalSettings.externalLinkRel : DEFAULT_LINK_REL;\n          case 'enableStats':\n            return !!(globalSettings && globalSettings.enableStats);\n          default:\n            throw new Error('Unknown default setting: ' + id);\n        }\n      }\n      function isExternalLinkTargetSet() {\n        var externalLinkTarget = getDefaultSetting('externalLinkTarget');\n        switch (externalLinkTarget) {\n          case LinkTarget.NONE:\n            return false;\n          case LinkTarget.SELF:\n          case LinkTarget.BLANK:\n          case LinkTarget.PARENT:\n          case LinkTarget.TOP:\n            return true;\n        }\n      }\n      exports.CustomStyle = CustomStyle;\n      exports.RenderingCancelledException = RenderingCancelledException;\n      exports.addLinkAttributes = addLinkAttributes;\n      exports.isExternalLinkTargetSet = isExternalLinkTargetSet;\n      exports.getFilenameFromUrl = getFilenameFromUrl;\n      exports.LinkTarget = LinkTarget;\n      exports.getDefaultSetting = getDefaultSetting;\n      exports.DEFAULT_LINK_REL = DEFAULT_LINK_REL;\n      exports.DOMCanvasFactory = DOMCanvasFactory;\n      exports.DOMCMapReaderFactory = DOMCMapReaderFactory;\n      exports.DOMSVGFactory = DOMSVGFactory;\n      exports.SimpleXMLParser = SimpleXMLParser;\n\n      /***/\n    }, /* 11 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var dP = __w_pdfjs_require__(15);\n      var createDesc = __w_pdfjs_require__(25);\n      module.exports = __w_pdfjs_require__(12) ? function (object, key, value) {\n        return dP.f(object, key, createDesc(1, value));\n      } : function (object, key, value) {\n        object[key] = value;\n        return object;\n      };\n\n      /***/\n    }, /* 12 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = !__w_pdfjs_require__(13)(function () {\n        return Object.defineProperty({}, 'a', {\n          get: function get() {\n            return 7;\n          }\n        }).a != 7;\n      });\n\n      /***/\n    }, /* 13 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (exec) {\n        try {\n          return !!exec();\n        } catch (e) {\n          return true;\n        }\n      };\n\n      /***/\n    }, /* 14 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = typeof window !== 'undefined' && window.Math === Math ? window : typeof global !== 'undefined' && global.Math === Math ? global : typeof self !== 'undefined' && self.Math === Math ? self : {};\n\n      /***/\n    }, /* 15 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var anObject = __w_pdfjs_require__(6);\n      var IE8_DOM_DEFINE = __w_pdfjs_require__(39);\n      var toPrimitive = __w_pdfjs_require__(40);\n      var dP = Object.defineProperty;\n      exports.f = __w_pdfjs_require__(12) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n        anObject(O);\n        P = toPrimitive(P, true);\n        anObject(Attributes);\n        if (IE8_DOM_DEFINE) try {\n          return dP(O, P, Attributes);\n        } catch (e) {}\n        if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n        if ('value' in Attributes) O[P] = Attributes.value;\n        return O;\n      };\n\n      /***/\n    }, /* 16 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (it) {\n        if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n        return it;\n      };\n\n      /***/\n    }, /* 17 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var IObject = __w_pdfjs_require__(26);\n      var defined = __w_pdfjs_require__(27);\n      module.exports = function (it) {\n        return IObject(defined(it));\n      };\n\n      /***/\n    }, /* 18 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var toString = {}.toString;\n      module.exports = function (it) {\n        return toString.call(it).slice(8, -1);\n      };\n\n      /***/\n    }, /* 19 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = {};\n\n      /***/\n    }, /* 20 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var id = 0;\n      var px = Math.random();\n      module.exports = function (key) {\n        return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n      };\n\n      /***/\n    }, /* 21 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $keys = __w_pdfjs_require__(67);\n      var enumBugKeys = __w_pdfjs_require__(43);\n      module.exports = Object.keys || function keys(O) {\n        return $keys(O, enumBugKeys);\n      };\n\n      /***/\n    }, /* 22 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var def = __w_pdfjs_require__(15).f;\n      var has = __w_pdfjs_require__(7);\n      var TAG = __w_pdfjs_require__(2)('toStringTag');\n      module.exports = function (it, tag, stat) {\n        if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {\n          configurable: true,\n          value: tag\n        });\n      };\n\n      /***/\n    }, /* 23 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var ctx = __w_pdfjs_require__(9);\n      var call = __w_pdfjs_require__(86);\n      var isArrayIter = __w_pdfjs_require__(87);\n      var anObject = __w_pdfjs_require__(6);\n      var toLength = __w_pdfjs_require__(28);\n      var getIterFn = __w_pdfjs_require__(88);\n      var BREAK = {};\n      var RETURN = {};\n      var _exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n        var iterFn = ITERATOR ? function () {\n          return iterable;\n        } : getIterFn(iterable);\n        var f = ctx(fn, that, entries ? 2 : 1);\n        var index = 0;\n        var length, step, iterator, result;\n        if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n        if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n          result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n          if (result === BREAK || result === RETURN) return result;\n        } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n          result = call(iterator, f, step.value, entries);\n          if (result === BREAK || result === RETURN) return result;\n        }\n      };\n      _exports.BREAK = BREAK;\n      _exports.RETURN = RETURN;\n\n      /***/\n    }, /* 24 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      var document = __w_pdfjs_require__(3).document;\n      var is = isObject(document) && isObject(document.createElement);\n      module.exports = function (it) {\n        return is ? document.createElement(it) : {};\n      };\n\n      /***/\n    }, /* 25 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (bitmap, value) {\n        return {\n          enumerable: !(bitmap & 1),\n          configurable: !(bitmap & 2),\n          writable: !(bitmap & 4),\n          value: value\n        };\n      };\n\n      /***/\n    }, /* 26 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var cof = __w_pdfjs_require__(18);\n      module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n        return cof(it) == 'String' ? it.split('') : Object(it);\n      };\n\n      /***/\n    }, /* 27 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (it) {\n        if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n        return it;\n      };\n\n      /***/\n    }, /* 28 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var toInteger = __w_pdfjs_require__(29);\n      var min = Math.min;\n      module.exports = function (it) {\n        return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0;\n      };\n\n      /***/\n    }, /* 29 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var ceil = Math.ceil;\n      var floor = Math.floor;\n      module.exports = function (it) {\n        return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n      };\n\n      /***/\n    }, /* 30 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var shared = __w_pdfjs_require__(42)('keys');\n      var uid = __w_pdfjs_require__(20);\n      module.exports = function (key) {\n        return shared[key] || (shared[key] = uid(key));\n      };\n\n      /***/\n    }, /* 31 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      exports.f = {}.propertyIsEnumerable;\n\n      /***/\n    }, /* 32 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var cof = __w_pdfjs_require__(18);\n      var TAG = __w_pdfjs_require__(2)('toStringTag');\n      var ARG = cof(function () {\n        return arguments;\n      }()) == 'Arguments';\n      var tryGet = function tryGet(it, key) {\n        try {\n          return it[key];\n        } catch (e) {}\n      };\n      module.exports = function (it) {\n        var O, T, B;\n        return it === undefined ? 'Undefined' : it === null ? 'Null' : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T : ARG ? cof(O) : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n      };\n\n      /***/\n    }, /* 33 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var defined = __w_pdfjs_require__(27);\n      module.exports = function (it) {\n        return Object(defined(it));\n      };\n\n      /***/\n    }, /* 34 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (it, Constructor, name, forbiddenField) {\n        if (!(it instanceof Constructor) || forbiddenField !== undefined && forbiddenField in it) {\n          throw TypeError(name + ': incorrect invocation!');\n        }\n        return it;\n      };\n\n      /***/\n    }, /* 35 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var aFunction = __w_pdfjs_require__(16);\n      function PromiseCapability(C) {\n        var resolve, reject;\n        this.promise = new C(function ($$resolve, $$reject) {\n          if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n          resolve = $$resolve;\n          reject = $$reject;\n        });\n        this.resolve = aFunction(resolve);\n        this.reject = aFunction(reject);\n      }\n      module.exports.f = function (C) {\n        return new PromiseCapability(C);\n      };\n\n      /***/\n    }, /* 36 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var redefine = __w_pdfjs_require__(8);\n      module.exports = function (target, src, safe) {\n        for (var key in src) {\n          redefine(target, key, src[key], safe);\n        }\n        return target;\n      };\n\n      /***/\n    }, /* 37 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      var META = __w_pdfjs_require__(20)('meta');\n      var isObject = __w_pdfjs_require__(1);\n      var has = __w_pdfjs_require__(7);\n      var setDesc = __w_pdfjs_require__(15).f;\n      var id = 0;\n      var isExtensible = Object.isExtensible || function () {\n        return true;\n      };\n      var FREEZE = !__w_pdfjs_require__(13)(function () {\n        return isExtensible(Object.preventExtensions({}));\n      });\n      var setMeta = function setMeta(it) {\n        setDesc(it, META, {\n          value: {\n            i: 'O' + ++id,\n            w: {}\n          }\n        });\n      };\n      var fastKey = function fastKey(it, create) {\n        if (!isObject(it)) return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n        if (!has(it, META)) {\n          if (!isExtensible(it)) return 'F';\n          if (!create) return 'E';\n          setMeta(it);\n        }\n        return it[META].i;\n      };\n      var getWeak = function getWeak(it, create) {\n        if (!has(it, META)) {\n          if (!isExtensible(it)) return true;\n          if (!create) return false;\n          setMeta(it);\n        }\n        return it[META].w;\n      };\n      var onFreeze = function onFreeze(it) {\n        if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n        return it;\n      };\n      var meta = module.exports = {\n        KEY: META,\n        NEED: false,\n        fastKey: fastKey,\n        getWeak: getWeak,\n        onFreeze: onFreeze\n      };\n\n      /***/\n    }, /* 38 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.validateResponseStatus = exports.validateRangeRequestCapabilities = exports.createResponseStatusError = undefined;\n      var _util = __w_pdfjs_require__(0);\n      function validateRangeRequestCapabilities(_ref) {\n        var getResponseHeader = _ref.getResponseHeader,\n          isHttp = _ref.isHttp,\n          rangeChunkSize = _ref.rangeChunkSize,\n          disableRange = _ref.disableRange;\n        (0, _util.assert)(rangeChunkSize > 0);\n        var returnValues = {\n          allowRangeRequests: false,\n          suggestedLength: undefined\n        };\n        if (disableRange || !isHttp) {\n          return returnValues;\n        }\n        if (getResponseHeader('Accept-Ranges') !== 'bytes') {\n          return returnValues;\n        }\n        var contentEncoding = getResponseHeader('Content-Encoding') || 'identity';\n        if (contentEncoding !== 'identity') {\n          return returnValues;\n        }\n        var length = parseInt(getResponseHeader('Content-Length'), 10);\n        if (!Number.isInteger(length)) {\n          return returnValues;\n        }\n        returnValues.suggestedLength = length;\n        if (length <= 2 * rangeChunkSize) {\n          return returnValues;\n        }\n        returnValues.allowRangeRequests = true;\n        return returnValues;\n      }\n      function createResponseStatusError(status, url) {\n        if (status === 404 || status === 0 && /^file:/.test(url)) {\n          return new _util.MissingPDFException('Missing PDF \"' + url + '\".');\n        }\n        return new _util.UnexpectedResponseException('Unexpected server response (' + status + ') while retrieving PDF \"' + url + '\".', status);\n      }\n      function validateResponseStatus(status) {\n        return status === 200 || status === 206;\n      }\n      exports.createResponseStatusError = createResponseStatusError;\n      exports.validateRangeRequestCapabilities = validateRangeRequestCapabilities;\n      exports.validateResponseStatus = validateResponseStatus;\n\n      /***/\n    }, /* 39 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = !__w_pdfjs_require__(12) && !__w_pdfjs_require__(13)(function () {\n        return Object.defineProperty(__w_pdfjs_require__(24)('div'), 'a', {\n          get: function get() {\n            return 7;\n          }\n        }).a != 7;\n      });\n\n      /***/\n    }, /* 40 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      module.exports = function (it, S) {\n        if (!isObject(it)) return it;\n        var fn, val;\n        if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n        if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n        if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n        throw TypeError(\"Can't convert object to primitive value\");\n      };\n\n      /***/\n    }, /* 41 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var toIObject = __w_pdfjs_require__(17);\n      var toLength = __w_pdfjs_require__(28);\n      var toAbsoluteIndex = __w_pdfjs_require__(68);\n      module.exports = function (IS_INCLUDES) {\n        return function ($this, el, fromIndex) {\n          var O = toIObject($this);\n          var length = toLength(O.length);\n          var index = toAbsoluteIndex(fromIndex, length);\n          var value;\n          if (IS_INCLUDES && el != el) while (length > index) {\n            value = O[index++];\n            if (value != value) return true;\n          } else for (; length > index; index++) {\n            if (IS_INCLUDES || index in O) {\n              if (O[index] === el) return IS_INCLUDES || index || 0;\n            }\n          }\n          return !IS_INCLUDES && -1;\n        };\n      };\n\n      /***/\n    }, /* 42 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var SHARED = '__core-js_shared__';\n      var store = global[SHARED] || (global[SHARED] = {});\n      module.exports = function (key) {\n        return store[key] || (store[key] = {});\n      };\n\n      /***/\n    }, /* 43 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');\n\n      /***/\n    }, /* 44 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var UNSCOPABLES = __w_pdfjs_require__(2)('unscopables');\n      var ArrayProto = Array.prototype;\n      if (ArrayProto[UNSCOPABLES] == undefined) __w_pdfjs_require__(11)(ArrayProto, UNSCOPABLES, {});\n      module.exports = function (key) {\n        ArrayProto[UNSCOPABLES][key] = true;\n      };\n\n      /***/\n    }, /* 45 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var classof = __w_pdfjs_require__(32);\n      var test = {};\n      test[__w_pdfjs_require__(2)('toStringTag')] = 'z';\n      if (test + '' != '[object z]') {\n        __w_pdfjs_require__(8)(Object.prototype, 'toString', function toString() {\n          return '[object ' + classof(this) + ']';\n        }, true);\n      }\n\n      /***/\n    }, /* 46 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var LIBRARY = __w_pdfjs_require__(47);\n      var $export = __w_pdfjs_require__(4);\n      var redefine = __w_pdfjs_require__(8);\n      var hide = __w_pdfjs_require__(11);\n      var has = __w_pdfjs_require__(7);\n      var Iterators = __w_pdfjs_require__(19);\n      var $iterCreate = __w_pdfjs_require__(79);\n      var setToStringTag = __w_pdfjs_require__(22);\n      var getPrototypeOf = __w_pdfjs_require__(82);\n      var ITERATOR = __w_pdfjs_require__(2)('iterator');\n      var BUGGY = !([].keys && 'next' in [].keys());\n      var FF_ITERATOR = '@@iterator';\n      var KEYS = 'keys';\n      var VALUES = 'values';\n      var returnThis = function returnThis() {\n        return this;\n      };\n      module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n        $iterCreate(Constructor, NAME, next);\n        var getMethod = function getMethod(kind) {\n          if (!BUGGY && kind in proto) return proto[kind];\n          switch (kind) {\n            case KEYS:\n              return function keys() {\n                return new Constructor(this, kind);\n              };\n            case VALUES:\n              return function values() {\n                return new Constructor(this, kind);\n              };\n          }\n          return function entries() {\n            return new Constructor(this, kind);\n          };\n        };\n        var TAG = NAME + ' Iterator';\n        var DEF_VALUES = DEFAULT == VALUES;\n        var VALUES_BUG = false;\n        var proto = Base.prototype;\n        var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n        var $default = $native || getMethod(DEFAULT);\n        var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n        var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n        var methods, key, IteratorPrototype;\n        if ($anyNative) {\n          IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n          if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n            setToStringTag(IteratorPrototype, TAG, true);\n            if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n          }\n        }\n        if (DEF_VALUES && $native && $native.name !== VALUES) {\n          VALUES_BUG = true;\n          $default = function values() {\n            return $native.call(this);\n          };\n        }\n        if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n          hide(proto, ITERATOR, $default);\n        }\n        Iterators[NAME] = $default;\n        Iterators[TAG] = returnThis;\n        if (DEFAULT) {\n          methods = {\n            values: DEF_VALUES ? $default : getMethod(VALUES),\n            keys: IS_SET ? $default : getMethod(KEYS),\n            entries: $entries\n          };\n          if (FORCED) for (key in methods) {\n            if (!(key in proto)) redefine(proto, key, methods[key]);\n          } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n        }\n        return methods;\n      };\n\n      /***/\n    }, /* 47 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = false;\n\n      /***/\n    }, /* 48 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var document = __w_pdfjs_require__(3).document;\n      module.exports = document && document.documentElement;\n\n      /***/\n    }, /* 49 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $iterators = __w_pdfjs_require__(83);\n      var getKeys = __w_pdfjs_require__(21);\n      var redefine = __w_pdfjs_require__(8);\n      var global = __w_pdfjs_require__(3);\n      var hide = __w_pdfjs_require__(11);\n      var Iterators = __w_pdfjs_require__(19);\n      var wks = __w_pdfjs_require__(2);\n      var ITERATOR = wks('iterator');\n      var TO_STRING_TAG = wks('toStringTag');\n      var ArrayValues = Iterators.Array;\n      var DOMIterables = {\n        CSSRuleList: true,\n        CSSStyleDeclaration: false,\n        CSSValueList: false,\n        ClientRectList: false,\n        DOMRectList: false,\n        DOMStringList: false,\n        DOMTokenList: true,\n        DataTransferItemList: false,\n        FileList: false,\n        HTMLAllCollection: false,\n        HTMLCollection: false,\n        HTMLFormElement: false,\n        HTMLSelectElement: false,\n        MediaList: true,\n        MimeTypeArray: false,\n        NamedNodeMap: false,\n        NodeList: true,\n        PaintRequestList: false,\n        Plugin: false,\n        PluginArray: false,\n        SVGLengthList: false,\n        SVGNumberList: false,\n        SVGPathSegList: false,\n        SVGPointList: false,\n        SVGStringList: false,\n        SVGTransformList: false,\n        SourceBufferList: false,\n        StyleSheetList: true,\n        TextTrackCueList: false,\n        TextTrackList: false,\n        TouchList: false\n      };\n      for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n        var NAME = collections[i];\n        var explicit = DOMIterables[NAME];\n        var Collection = global[NAME];\n        var proto = Collection && Collection.prototype;\n        var key;\n        if (proto) {\n          if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n          if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n          Iterators[NAME] = ArrayValues;\n          if (explicit) for (key in $iterators) {\n            if (!proto[key]) redefine(proto, key, $iterators[key], true);\n          }\n        }\n      }\n\n      /***/\n    }, /* 50 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var anObject = __w_pdfjs_require__(6);\n      var aFunction = __w_pdfjs_require__(16);\n      var SPECIES = __w_pdfjs_require__(2)('species');\n      module.exports = function (O, D) {\n        var C = anObject(O).constructor;\n        var S;\n        return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n      };\n\n      /***/\n    }, /* 51 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var ctx = __w_pdfjs_require__(9);\n      var invoke = __w_pdfjs_require__(89);\n      var html = __w_pdfjs_require__(48);\n      var cel = __w_pdfjs_require__(24);\n      var global = __w_pdfjs_require__(3);\n      var process = global.process;\n      var setTask = global.setImmediate;\n      var clearTask = global.clearImmediate;\n      var MessageChannel = global.MessageChannel;\n      var Dispatch = global.Dispatch;\n      var counter = 0;\n      var queue = {};\n      var ONREADYSTATECHANGE = 'onreadystatechange';\n      var defer, channel, port;\n      var run = function run() {\n        var id = +this;\n        if (queue.hasOwnProperty(id)) {\n          var fn = queue[id];\n          delete queue[id];\n          fn();\n        }\n      };\n      var listener = function listener(event) {\n        run.call(event.data);\n      };\n      if (!setTask || !clearTask) {\n        setTask = function setImmediate(fn) {\n          var args = [];\n          var i = 1;\n          while (arguments.length > i) {\n            args.push(arguments[i++]);\n          }\n          queue[++counter] = function () {\n            invoke(typeof fn == 'function' ? fn : Function(fn), args);\n          };\n          defer(counter);\n          return counter;\n        };\n        clearTask = function clearImmediate(id) {\n          delete queue[id];\n        };\n        if (__w_pdfjs_require__(18)(process) == 'process') {\n          defer = function defer(id) {\n            process.nextTick(ctx(run, id, 1));\n          };\n        } else if (Dispatch && Dispatch.now) {\n          defer = function defer(id) {\n            Dispatch.now(ctx(run, id, 1));\n          };\n        } else if (MessageChannel) {\n          channel = new MessageChannel();\n          port = channel.port2;\n          channel.port1.onmessage = listener;\n          defer = ctx(port.postMessage, port, 1);\n        } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n          defer = function defer(id) {\n            global.postMessage(id + '', '*');\n          };\n          global.addEventListener('message', listener, false);\n        } else if (ONREADYSTATECHANGE in cel('script')) {\n          defer = function defer(id) {\n            html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n              html.removeChild(this);\n              run.call(id);\n            };\n          };\n        } else {\n          defer = function defer(id) {\n            setTimeout(ctx(run, id, 1), 0);\n          };\n        }\n      }\n      module.exports = {\n        set: setTask,\n        clear: clearTask\n      };\n\n      /***/\n    }, /* 52 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (exec) {\n        try {\n          return {\n            e: false,\n            v: exec()\n          };\n        } catch (e) {\n          return {\n            e: true,\n            v: e\n          };\n        }\n      };\n\n      /***/\n    }, /* 53 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var anObject = __w_pdfjs_require__(6);\n      var isObject = __w_pdfjs_require__(1);\n      var newPromiseCapability = __w_pdfjs_require__(35);\n      module.exports = function (C, x) {\n        anObject(C);\n        if (isObject(x) && x.constructor === C) return x;\n        var promiseCapability = newPromiseCapability.f(C);\n        var resolve = promiseCapability.resolve;\n        resolve(x);\n        return promiseCapability.promise;\n      };\n\n      /***/\n    }, /* 54 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var ITERATOR = __w_pdfjs_require__(2)('iterator');\n      var SAFE_CLOSING = false;\n      try {\n        var riter = [7][ITERATOR]();\n        riter['return'] = function () {\n          SAFE_CLOSING = true;\n        };\n        Array.from(riter, function () {\n          throw 2;\n        });\n      } catch (e) {}\n      module.exports = function (exec, skipClosing) {\n        if (!skipClosing && !SAFE_CLOSING) return false;\n        var safe = false;\n        try {\n          var arr = [7];\n          var iter = arr[ITERATOR]();\n          iter.next = function () {\n            return {\n              done: safe = true\n            };\n          };\n          arr[ITERATOR] = function () {\n            return iter;\n          };\n          exec(arr);\n        } catch (e) {}\n        return safe;\n      };\n\n      /***/\n    }, /* 55 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var ctx = __w_pdfjs_require__(9);\n      var IObject = __w_pdfjs_require__(26);\n      var toObject = __w_pdfjs_require__(33);\n      var toLength = __w_pdfjs_require__(28);\n      var asc = __w_pdfjs_require__(96);\n      module.exports = function (TYPE, $create) {\n        var IS_MAP = TYPE == 1;\n        var IS_FILTER = TYPE == 2;\n        var IS_SOME = TYPE == 3;\n        var IS_EVERY = TYPE == 4;\n        var IS_FIND_INDEX = TYPE == 6;\n        var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n        var create = $create || asc;\n        return function ($this, callbackfn, that) {\n          var O = toObject($this);\n          var self = IObject(O);\n          var f = ctx(callbackfn, that, 3);\n          var length = toLength(self.length);\n          var index = 0;\n          var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n          var val, res;\n          for (; length > index; index++) {\n            if (NO_HOLES || index in self) {\n              val = self[index];\n              res = f(val, index, O);\n              if (TYPE) {\n                if (IS_MAP) result[index] = res;else if (res) switch (TYPE) {\n                  case 3:\n                    return true;\n                  case 5:\n                    return val;\n                  case 6:\n                    return index;\n                  case 2:\n                    result.push(val);\n                } else if (IS_EVERY) return false;\n              }\n            }\n          }\n          return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n        };\n      };\n\n      /***/\n    }, /* 56 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      module.exports = function (it, TYPE) {\n        if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n        return it;\n      };\n\n      /***/\n    }, /* 57 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.build = exports.version = exports.setPDFNetworkStreamClass = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFWorker = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.getDocument = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      var _util = __w_pdfjs_require__(0);\n      var _dom_utils = __w_pdfjs_require__(10);\n      var _font_loader = __w_pdfjs_require__(113);\n      var _canvas = __w_pdfjs_require__(114);\n      var _global_scope = __w_pdfjs_require__(14);\n      var _global_scope2 = _interopRequireDefault(_global_scope);\n      var _metadata = __w_pdfjs_require__(58);\n      var _transport_stream = __w_pdfjs_require__(116);\n      var _webgl = __w_pdfjs_require__(117);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var DEFAULT_RANGE_CHUNK_SIZE = 65536;\n      var isWorkerDisabled = false;\n      var workerSrc;\n      var isPostMessageTransfersDisabled = false;\n      var pdfjsFilePath = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : null;\n      var fakeWorkerFilesLoader = null;\n      var useRequireEnsure = false;\n      {\n        if (typeof window === 'undefined') {\n          isWorkerDisabled = true;\n          if (typeof require.ensure === 'undefined') {\n            require.ensure = require('node-ensure');\n          }\n          useRequireEnsure = true;\n        } else if (typeof require !== 'undefined' && typeof require.ensure === 'function') {\n          useRequireEnsure = true;\n        }\n        if (typeof requirejs !== 'undefined' && requirejs.toUrl) {\n          workerSrc = requirejs.toUrl('pdfjs-dist/build/pdf.worker.js');\n        }\n        var dynamicLoaderSupported = typeof requirejs !== 'undefined' && requirejs.load;\n        fakeWorkerFilesLoader = useRequireEnsure ? function (callback) {\n          require.ensure([], function () {\n            var worker;\n            worker = require('./pdf.worker.js');\n            callback(worker.WorkerMessageHandler);\n          });\n        } : dynamicLoaderSupported ? function (callback) {\n          requirejs(['pdfjs-dist/build/pdf.worker'], function (worker) {\n            callback(worker.WorkerMessageHandler);\n          });\n        } : null;\n      }\n      var PDFNetworkStream;\n      function setPDFNetworkStreamClass(cls) {\n        PDFNetworkStream = cls;\n      }\n      function getDocument(src) {\n        var task = new PDFDocumentLoadingTask();\n        var source;\n        if (typeof src === 'string') {\n          source = {\n            url: src\n          };\n        } else if ((0, _util.isArrayBuffer)(src)) {\n          source = {\n            data: src\n          };\n        } else if (src instanceof PDFDataRangeTransport) {\n          source = {\n            range: src\n          };\n        } else {\n          if ((typeof src === 'undefined' ? 'undefined' : _typeof(src)) !== 'object') {\n            throw new Error('Invalid parameter in getDocument, ' + 'need either Uint8Array, string or a parameter object');\n          }\n          if (!src.url && !src.data && !src.range) {\n            throw new Error('Invalid parameter object: need either .data, .range or .url');\n          }\n          source = src;\n        }\n        var params = {};\n        var rangeTransport = null;\n        var worker = null;\n        var CMapReaderFactory = _dom_utils.DOMCMapReaderFactory;\n        for (var key in source) {\n          if (key === 'url' && typeof window !== 'undefined') {\n            params[key] = new URL(source[key], window.location).href;\n            continue;\n          } else if (key === 'range') {\n            rangeTransport = source[key];\n            continue;\n          } else if (key === 'worker') {\n            worker = source[key];\n            continue;\n          } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n            var pdfBytes = source[key];\n            if (typeof pdfBytes === 'string') {\n              params[key] = (0, _util.stringToBytes)(pdfBytes);\n            } else if ((typeof pdfBytes === 'undefined' ? 'undefined' : _typeof(pdfBytes)) === 'object' && pdfBytes !== null && !isNaN(pdfBytes.length)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else if ((0, _util.isArrayBuffer)(pdfBytes)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else {\n              throw new Error('Invalid PDF binary data: either typed array, ' + 'string or array-like object is expected in the ' + 'data property.');\n            }\n            continue;\n          } else if (key === 'CMapReaderFactory') {\n            CMapReaderFactory = source[key];\n            continue;\n          }\n          params[key] = source[key];\n        }\n        params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n        params.ignoreErrors = params.stopAtErrors !== true;\n        var nativeImageDecoderValues = Object.values(_util.NativeImageDecoding);\n        if (params.nativeImageDecoderSupport === undefined || !nativeImageDecoderValues.includes(params.nativeImageDecoderSupport)) {\n          params.nativeImageDecoderSupport = _util.NativeImageDecoding.DECODE;\n        }\n        if (!worker) {\n          var workerPort = (0, _dom_utils.getDefaultSetting)('workerPort');\n          worker = workerPort ? PDFWorker.fromPort(workerPort) : new PDFWorker();\n          task._worker = worker;\n        }\n        var docId = task.docId;\n        worker.promise.then(function () {\n          if (task.destroyed) {\n            throw new Error('Loading aborted');\n          }\n          return _fetchDocument(worker, params, rangeTransport, docId).then(function (workerId) {\n            if (task.destroyed) {\n              throw new Error('Loading aborted');\n            }\n            var networkStream = void 0;\n            if (rangeTransport) {\n              networkStream = new _transport_stream.PDFDataTransportStream(params, rangeTransport);\n            } else if (!params.data) {\n              networkStream = new PDFNetworkStream(params);\n            }\n            var messageHandler = new _util.MessageHandler(docId, workerId, worker.port);\n            messageHandler.postMessageTransfers = worker.postMessageTransfers;\n            var transport = new WorkerTransport(messageHandler, task, networkStream, CMapReaderFactory);\n            task._transport = transport;\n            messageHandler.send('Ready', null);\n          });\n        }).catch(task._capability.reject);\n        return task;\n      }\n      function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n        if (worker.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n        var apiVersion = '2.0.164';\n        source.disableRange = (0, _dom_utils.getDefaultSetting)('disableRange');\n        source.disableAutoFetch = (0, _dom_utils.getDefaultSetting)('disableAutoFetch');\n        source.disableStream = (0, _dom_utils.getDefaultSetting)('disableStream');\n        if (pdfDataRangeTransport) {\n          source.length = pdfDataRangeTransport.length;\n          source.initialData = pdfDataRangeTransport.initialData;\n        }\n        return worker.messageHandler.sendWithPromise('GetDocRequest', {\n          docId: docId,\n          apiVersion: apiVersion,\n          source: {\n            data: source.data,\n            url: source.url,\n            password: source.password,\n            disableAutoFetch: source.disableAutoFetch,\n            rangeChunkSize: source.rangeChunkSize,\n            length: source.length\n          },\n          maxImageSize: (0, _dom_utils.getDefaultSetting)('maxImageSize'),\n          disableFontFace: (0, _dom_utils.getDefaultSetting)('disableFontFace'),\n          disableCreateObjectURL: (0, _dom_utils.getDefaultSetting)('disableCreateObjectURL'),\n          postMessageTransfers: (0, _dom_utils.getDefaultSetting)('postMessageTransfers') && !isPostMessageTransfersDisabled,\n          docBaseUrl: source.docBaseUrl,\n          nativeImageDecoderSupport: source.nativeImageDecoderSupport,\n          ignoreErrors: source.ignoreErrors,\n          isEvalSupported: (0, _dom_utils.getDefaultSetting)('isEvalSupported')\n        }).then(function (workerId) {\n          if (worker.destroyed) {\n            throw new Error('Worker was destroyed');\n          }\n          return workerId;\n        });\n      }\n      var PDFDocumentLoadingTask = function PDFDocumentLoadingTaskClosure() {\n        var nextDocumentId = 0;\n        function PDFDocumentLoadingTask() {\n          this._capability = (0, _util.createPromiseCapability)();\n          this._transport = null;\n          this._worker = null;\n          this.docId = 'd' + nextDocumentId++;\n          this.destroyed = false;\n          this.onPassword = null;\n          this.onProgress = null;\n          this.onUnsupportedFeature = null;\n        }\n        PDFDocumentLoadingTask.prototype = {\n          get promise() {\n            return this._capability.promise;\n          },\n          destroy: function destroy() {\n            var _this = this;\n            this.destroyed = true;\n            var transportDestroyed = !this._transport ? Promise.resolve() : this._transport.destroy();\n            return transportDestroyed.then(function () {\n              _this._transport = null;\n              if (_this._worker) {\n                _this._worker.destroy();\n                _this._worker = null;\n              }\n            });\n          },\n          then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n            return this.promise.then.apply(this.promise, arguments);\n          }\n        };\n        return PDFDocumentLoadingTask;\n      }();\n      var PDFDataRangeTransport = function pdfDataRangeTransportClosure() {\n        function PDFDataRangeTransport(length, initialData) {\n          this.length = length;\n          this.initialData = initialData;\n          this._rangeListeners = [];\n          this._progressListeners = [];\n          this._progressiveReadListeners = [];\n          this._readyCapability = (0, _util.createPromiseCapability)();\n        }\n        PDFDataRangeTransport.prototype = {\n          addRangeListener: function PDFDataRangeTransport_addRangeListener(listener) {\n            this._rangeListeners.push(listener);\n          },\n          addProgressListener: function PDFDataRangeTransport_addProgressListener(listener) {\n            this._progressListeners.push(listener);\n          },\n          addProgressiveReadListener: function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n            this._progressiveReadListeners.push(listener);\n          },\n          onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n            var listeners = this._rangeListeners;\n            for (var i = 0, n = listeners.length; i < n; ++i) {\n              listeners[i](begin, chunk);\n            }\n          },\n          onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n            var _this2 = this;\n            this._readyCapability.promise.then(function () {\n              var listeners = _this2._progressListeners;\n              for (var i = 0, n = listeners.length; i < n; ++i) {\n                listeners[i](loaded);\n              }\n            });\n          },\n          onDataProgressiveRead: function PDFDataRangeTransport_onDataProgress(chunk) {\n            var _this3 = this;\n            this._readyCapability.promise.then(function () {\n              var listeners = _this3._progressiveReadListeners;\n              for (var i = 0, n = listeners.length; i < n; ++i) {\n                listeners[i](chunk);\n              }\n            });\n          },\n          transportReady: function PDFDataRangeTransport_transportReady() {\n            this._readyCapability.resolve();\n          },\n          requestDataRange: function PDFDataRangeTransport_requestDataRange(begin, end) {\n            throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n          },\n          abort: function PDFDataRangeTransport_abort() {}\n        };\n        return PDFDataRangeTransport;\n      }();\n      var PDFDocumentProxy = function PDFDocumentProxyClosure() {\n        function PDFDocumentProxy(pdfInfo, transport, loadingTask) {\n          this.pdfInfo = pdfInfo;\n          this.transport = transport;\n          this.loadingTask = loadingTask;\n        }\n        PDFDocumentProxy.prototype = {\n          get numPages() {\n            return this.pdfInfo.numPages;\n          },\n          get fingerprint() {\n            return this.pdfInfo.fingerprint;\n          },\n          getPage: function getPage(pageNumber) {\n            return this.transport.getPage(pageNumber);\n          },\n          getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n            return this.transport.getPageIndex(ref);\n          },\n          getDestinations: function PDFDocumentProxy_getDestinations() {\n            return this.transport.getDestinations();\n          },\n          getDestination: function PDFDocumentProxy_getDestination(id) {\n            return this.transport.getDestination(id);\n          },\n          getPageLabels: function PDFDocumentProxy_getPageLabels() {\n            return this.transport.getPageLabels();\n          },\n          getPageMode: function getPageMode() {\n            return this.transport.getPageMode();\n          },\n          getAttachments: function PDFDocumentProxy_getAttachments() {\n            return this.transport.getAttachments();\n          },\n          getJavaScript: function getJavaScript() {\n            return this.transport.getJavaScript();\n          },\n          getOutline: function PDFDocumentProxy_getOutline() {\n            return this.transport.getOutline();\n          },\n          getMetadata: function PDFDocumentProxy_getMetadata() {\n            return this.transport.getMetadata();\n          },\n          getData: function PDFDocumentProxy_getData() {\n            return this.transport.getData();\n          },\n          getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n            return this.transport.downloadInfoCapability.promise;\n          },\n          getStats: function PDFDocumentProxy_getStats() {\n            return this.transport.getStats();\n          },\n          cleanup: function PDFDocumentProxy_cleanup() {\n            this.transport.startCleanup();\n          },\n          destroy: function PDFDocumentProxy_destroy() {\n            return this.loadingTask.destroy();\n          }\n        };\n        return PDFDocumentProxy;\n      }();\n      var PDFPageProxy = function PDFPageProxyClosure() {\n        function PDFPageProxy(pageIndex, pageInfo, transport) {\n          this.pageIndex = pageIndex;\n          this.pageInfo = pageInfo;\n          this.transport = transport;\n          this.stats = new _util.StatTimer();\n          this.stats.enabled = (0, _dom_utils.getDefaultSetting)('enableStats');\n          this.commonObjs = transport.commonObjs;\n          this.objs = new PDFObjects();\n          this.cleanupAfterRender = false;\n          this.pendingCleanup = false;\n          this.intentStates = Object.create(null);\n          this.destroyed = false;\n        }\n        PDFPageProxy.prototype = {\n          get pageNumber() {\n            return this.pageIndex + 1;\n          },\n          get rotate() {\n            return this.pageInfo.rotate;\n          },\n          get ref() {\n            return this.pageInfo.ref;\n          },\n          get userUnit() {\n            return this.pageInfo.userUnit;\n          },\n          get view() {\n            return this.pageInfo.view;\n          },\n          getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n            if (arguments.length < 2) {\n              rotate = this.rotate;\n            }\n            return new _util.PageViewport(this.view, scale, rotate, 0, 0);\n          },\n          getAnnotations: function PDFPageProxy_getAnnotations(params) {\n            var intent = params && params.intent || null;\n            if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n              this.annotationsPromise = this.transport.getAnnotations(this.pageIndex, intent);\n              this.annotationsIntent = intent;\n            }\n            return this.annotationsPromise;\n          },\n          render: function PDFPageProxy_render(params) {\n            var _this4 = this;\n            var stats = this.stats;\n            stats.time('Overall');\n            this.pendingCleanup = false;\n            var renderingIntent = params.intent === 'print' ? 'print' : 'display';\n            var canvasFactory = params.canvasFactory || new _dom_utils.DOMCanvasFactory();\n            var webGLContext = new _webgl.WebGLContext({\n              enable: !(0, _dom_utils.getDefaultSetting)('disableWebGL')\n            });\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n            var intentState = this.intentStates[renderingIntent];\n            if (!intentState.displayReadyCapability) {\n              intentState.receivingOperatorList = true;\n              intentState.displayReadyCapability = (0, _util.createPromiseCapability)();\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n              this.stats.time('Page Request');\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageNumber - 1,\n                intent: renderingIntent,\n                renderInteractiveForms: params.renderInteractiveForms === true\n              });\n            }\n            var complete = function complete(error) {\n              var i = intentState.renderTasks.indexOf(internalRenderTask);\n              if (i >= 0) {\n                intentState.renderTasks.splice(i, 1);\n              }\n              if (_this4.cleanupAfterRender) {\n                _this4.pendingCleanup = true;\n              }\n              _this4._tryCleanup();\n              if (error) {\n                internalRenderTask.capability.reject(error);\n              } else {\n                internalRenderTask.capability.resolve();\n              }\n              stats.timeEnd('Rendering');\n              stats.timeEnd('Overall');\n            };\n            var internalRenderTask = new InternalRenderTask(complete, params, this.objs, this.commonObjs, intentState.operatorList, this.pageNumber, canvasFactory, webGLContext);\n            internalRenderTask.useRequestAnimationFrame = renderingIntent !== 'print';\n            if (!intentState.renderTasks) {\n              intentState.renderTasks = [];\n            }\n            intentState.renderTasks.push(internalRenderTask);\n            var renderTask = internalRenderTask.task;\n            intentState.displayReadyCapability.promise.then(function (transparency) {\n              if (_this4.pendingCleanup) {\n                complete();\n                return;\n              }\n              stats.time('Rendering');\n              internalRenderTask.initializeGraphics(transparency);\n              internalRenderTask.operatorListChanged();\n            }).catch(complete);\n            return renderTask;\n          },\n          getOperatorList: function PDFPageProxy_getOperatorList() {\n            function operatorListChanged() {\n              if (intentState.operatorList.lastChunk) {\n                intentState.opListReadCapability.resolve(intentState.operatorList);\n                var i = intentState.renderTasks.indexOf(opListTask);\n                if (i >= 0) {\n                  intentState.renderTasks.splice(i, 1);\n                }\n              }\n            }\n            var renderingIntent = 'oplist';\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n            var intentState = this.intentStates[renderingIntent];\n            var opListTask;\n            if (!intentState.opListReadCapability) {\n              opListTask = {};\n              opListTask.operatorListChanged = operatorListChanged;\n              intentState.receivingOperatorList = true;\n              intentState.opListReadCapability = (0, _util.createPromiseCapability)();\n              intentState.renderTasks = [];\n              intentState.renderTasks.push(opListTask);\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageIndex,\n                intent: renderingIntent\n              });\n            }\n            return intentState.opListReadCapability.promise;\n          },\n          streamTextContent: function streamTextContent() {\n            var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var TEXT_CONTENT_CHUNK_SIZE = 100;\n            return this.transport.messageHandler.sendWithStream('GetTextContent', {\n              pageIndex: this.pageNumber - 1,\n              normalizeWhitespace: params.normalizeWhitespace === true,\n              combineTextItems: params.disableCombineTextItems !== true\n            }, {\n              highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n              size: function size(textContent) {\n                return textContent.items.length;\n              }\n            });\n          },\n          getTextContent: function PDFPageProxy_getTextContent(params) {\n            params = params || {};\n            var readableStream = this.streamTextContent(params);\n            return new Promise(function (resolve, reject) {\n              function pump() {\n                reader.read().then(function (_ref) {\n                  var value = _ref.value,\n                    done = _ref.done;\n                  if (done) {\n                    resolve(textContent);\n                    return;\n                  }\n                  _util.Util.extendObj(textContent.styles, value.styles);\n                  _util.Util.appendToArray(textContent.items, value.items);\n                  pump();\n                }, reject);\n              }\n              var reader = readableStream.getReader();\n              var textContent = {\n                items: [],\n                styles: Object.create(null)\n              };\n              pump();\n            });\n          },\n          _destroy: function PDFPageProxy_destroy() {\n            this.destroyed = true;\n            this.transport.pageCache[this.pageIndex] = null;\n            var waitOn = [];\n            Object.keys(this.intentStates).forEach(function (intent) {\n              if (intent === 'oplist') {\n                return;\n              }\n              var intentState = this.intentStates[intent];\n              intentState.renderTasks.forEach(function (renderTask) {\n                var renderCompleted = renderTask.capability.promise.catch(function () {});\n                waitOn.push(renderCompleted);\n                renderTask.cancel();\n              });\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n            return Promise.all(waitOn);\n          },\n          cleanup: function PDFPageProxy_cleanup() {\n            this.pendingCleanup = true;\n            this._tryCleanup();\n          },\n          _tryCleanup: function PDFPageProxy_tryCleanup() {\n            if (!this.pendingCleanup || Object.keys(this.intentStates).some(function (intent) {\n              var intentState = this.intentStates[intent];\n              return intentState.renderTasks.length !== 0 || intentState.receivingOperatorList;\n            }, this)) {\n              return;\n            }\n            Object.keys(this.intentStates).forEach(function (intent) {\n              delete this.intentStates[intent];\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n          },\n          _startRenderPage: function PDFPageProxy_startRenderPage(transparency, intent) {\n            var intentState = this.intentStates[intent];\n            if (intentState.displayReadyCapability) {\n              intentState.displayReadyCapability.resolve(transparency);\n            }\n          },\n          _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk, intent) {\n            var intentState = this.intentStates[intent];\n            var i, ii;\n            for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n              intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n              intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n            }\n            intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n            for (i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n            if (operatorListChunk.lastChunk) {\n              intentState.receivingOperatorList = false;\n              this._tryCleanup();\n            }\n          }\n        };\n        return PDFPageProxy;\n      }();\n      var LoopbackPort = function () {\n        function LoopbackPort(defer) {\n          _classCallCheck(this, LoopbackPort);\n          this._listeners = [];\n          this._defer = defer;\n          this._deferred = Promise.resolve(undefined);\n        }\n        _createClass(LoopbackPort, [{\n          key: 'postMessage',\n          value: function postMessage(obj, transfers) {\n            var _this5 = this;\n            function cloneValue(value) {\n              if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object' || value === null) {\n                return value;\n              }\n              if (cloned.has(value)) {\n                return cloned.get(value);\n              }\n              var result;\n              var buffer;\n              if ((buffer = value.buffer) && (0, _util.isArrayBuffer)(buffer)) {\n                var transferable = transfers && transfers.indexOf(buffer) >= 0;\n                if (value === buffer) {\n                  result = value;\n                } else if (transferable) {\n                  result = new value.constructor(buffer, value.byteOffset, value.byteLength);\n                } else {\n                  result = new value.constructor(value);\n                }\n                cloned.set(value, result);\n                return result;\n              }\n              result = Array.isArray(value) ? [] : {};\n              cloned.set(value, result);\n              for (var i in value) {\n                var desc,\n                  p = value;\n                while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n                  p = Object.getPrototypeOf(p);\n                }\n                if (typeof desc.value === 'undefined' || typeof desc.value === 'function') {\n                  continue;\n                }\n                result[i] = cloneValue(desc.value);\n              }\n              return result;\n            }\n            if (!this._defer) {\n              this._listeners.forEach(function (listener) {\n                listener.call(this, {\n                  data: obj\n                });\n              }, this);\n              return;\n            }\n            var cloned = new WeakMap();\n            var e = {\n              data: cloneValue(obj)\n            };\n            this._deferred.then(function () {\n              _this5._listeners.forEach(function (listener) {\n                listener.call(this, e);\n              }, _this5);\n            });\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(name, listener) {\n            this._listeners.push(listener);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(name, listener) {\n            var i = this._listeners.indexOf(listener);\n            this._listeners.splice(i, 1);\n          }\n        }, {\n          key: 'terminate',\n          value: function terminate() {\n            this._listeners = [];\n          }\n        }]);\n        return LoopbackPort;\n      }();\n      var PDFWorker = function PDFWorkerClosure() {\n        var nextFakeWorkerId = 0;\n        function getWorkerSrc() {\n          if (typeof workerSrc !== 'undefined') {\n            return workerSrc;\n          }\n          if ((0, _dom_utils.getDefaultSetting)('workerSrc')) {\n            return (0, _dom_utils.getDefaultSetting)('workerSrc');\n          }\n          if (pdfjsFilePath) {\n            return pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, '.worker$1$2');\n          }\n          throw new Error('No PDFJS.workerSrc specified');\n        }\n        var fakeWorkerFilesLoadedCapability = void 0;\n        function setupFakeWorkerGlobal() {\n          var WorkerMessageHandler;\n          if (fakeWorkerFilesLoadedCapability) {\n            return fakeWorkerFilesLoadedCapability.promise;\n          }\n          fakeWorkerFilesLoadedCapability = (0, _util.createPromiseCapability)();\n          var loader = fakeWorkerFilesLoader || function (callback) {\n            _util.Util.loadScript(getWorkerSrc(), function () {\n              callback(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler);\n            });\n          };\n          loader(fakeWorkerFilesLoadedCapability.resolve);\n          return fakeWorkerFilesLoadedCapability.promise;\n        }\n        function createCDNWrapper(url) {\n          var wrapper = 'importScripts(\\'' + url + '\\');';\n          return URL.createObjectURL(new Blob([wrapper]));\n        }\n        var pdfWorkerPorts = new WeakMap();\n        function PDFWorker(name, port) {\n          if (port && pdfWorkerPorts.has(port)) {\n            throw new Error('Cannot use more than one PDFWorker per port');\n          }\n          this.name = name;\n          this.destroyed = false;\n          this.postMessageTransfers = true;\n          this._readyCapability = (0, _util.createPromiseCapability)();\n          this._port = null;\n          this._webWorker = null;\n          this._messageHandler = null;\n          if (port) {\n            pdfWorkerPorts.set(port, this);\n            this._initializeFromPort(port);\n            return;\n          }\n          this._initialize();\n        }\n        PDFWorker.prototype = {\n          get promise() {\n            return this._readyCapability.promise;\n          },\n          get port() {\n            return this._port;\n          },\n          get messageHandler() {\n            return this._messageHandler;\n          },\n          _initializeFromPort: function PDFWorker_initializeFromPort(port) {\n            this._port = port;\n            this._messageHandler = new _util.MessageHandler('main', 'worker', port);\n            this._messageHandler.on('ready', function () {});\n            this._readyCapability.resolve();\n          },\n          _initialize: function PDFWorker_initialize() {\n            var _this6 = this;\n            if (!isWorkerDisabled && !(0, _dom_utils.getDefaultSetting)('disableWorker') && typeof Worker !== 'undefined') {\n              var workerSrc = getWorkerSrc();\n              try {\n                if (!(0, _util.isSameOrigin)(window.location.href, workerSrc)) {\n                  workerSrc = createCDNWrapper(new URL(workerSrc, window.location).href);\n                }\n                var worker = new Worker(workerSrc);\n                var messageHandler = new _util.MessageHandler('main', 'worker', worker);\n                var terminateEarly = function terminateEarly() {\n                  worker.removeEventListener('error', onWorkerError);\n                  messageHandler.destroy();\n                  worker.terminate();\n                  if (_this6.destroyed) {\n                    _this6._readyCapability.reject(new Error('Worker was destroyed'));\n                  } else {\n                    _this6._setupFakeWorker();\n                  }\n                };\n                var onWorkerError = function onWorkerError() {\n                  if (!_this6._webWorker) {\n                    terminateEarly();\n                  }\n                };\n                worker.addEventListener('error', onWorkerError);\n                messageHandler.on('test', function (data) {\n                  worker.removeEventListener('error', onWorkerError);\n                  if (_this6.destroyed) {\n                    terminateEarly();\n                    return;\n                  }\n                  var supportTypedArray = data && data.supportTypedArray;\n                  if (supportTypedArray) {\n                    _this6._messageHandler = messageHandler;\n                    _this6._port = worker;\n                    _this6._webWorker = worker;\n                    if (!data.supportTransfers) {\n                      _this6.postMessageTransfers = false;\n                      isPostMessageTransfersDisabled = true;\n                    }\n                    _this6._readyCapability.resolve();\n                    messageHandler.send('configure', {\n                      verbosity: (0, _util.getVerbosityLevel)()\n                    });\n                  } else {\n                    _this6._setupFakeWorker();\n                    messageHandler.destroy();\n                    worker.terminate();\n                  }\n                });\n                messageHandler.on('ready', function (data) {\n                  worker.removeEventListener('error', onWorkerError);\n                  if (_this6.destroyed) {\n                    terminateEarly();\n                    return;\n                  }\n                  try {\n                    sendTest();\n                  } catch (e) {\n                    _this6._setupFakeWorker();\n                  }\n                });\n                var sendTest = function sendTest() {\n                  var postMessageTransfers = (0, _dom_utils.getDefaultSetting)('postMessageTransfers') && !isPostMessageTransfersDisabled;\n                  var testObj = new Uint8Array([postMessageTransfers ? 255 : 0]);\n                  try {\n                    messageHandler.send('test', testObj, [testObj.buffer]);\n                  } catch (ex) {\n                    (0, _util.info)('Cannot use postMessage transfers');\n                    testObj[0] = 0;\n                    messageHandler.send('test', testObj);\n                  }\n                };\n                sendTest();\n                return;\n              } catch (e) {\n                (0, _util.info)('The worker has been disabled.');\n              }\n            }\n            this._setupFakeWorker();\n          },\n          _setupFakeWorker: function PDFWorker_setupFakeWorker() {\n            var _this7 = this;\n            if (!isWorkerDisabled && !(0, _dom_utils.getDefaultSetting)('disableWorker')) {\n              (0, _util.warn)('Setting up fake worker.');\n              isWorkerDisabled = true;\n            }\n            setupFakeWorkerGlobal().then(function (WorkerMessageHandler) {\n              if (_this7.destroyed) {\n                _this7._readyCapability.reject(new Error('Worker was destroyed'));\n                return;\n              }\n              var isTypedArraysPresent = Uint8Array !== Float32Array;\n              var port = new LoopbackPort(isTypedArraysPresent);\n              _this7._port = port;\n              var id = 'fake' + nextFakeWorkerId++;\n              var workerHandler = new _util.MessageHandler(id + '_worker', id, port);\n              WorkerMessageHandler.setup(workerHandler, port);\n              var messageHandler = new _util.MessageHandler(id, id + '_worker', port);\n              _this7._messageHandler = messageHandler;\n              _this7._readyCapability.resolve();\n            });\n          },\n          destroy: function PDFWorker_destroy() {\n            this.destroyed = true;\n            if (this._webWorker) {\n              this._webWorker.terminate();\n              this._webWorker = null;\n            }\n            pdfWorkerPorts.delete(this._port);\n            this._port = null;\n            if (this._messageHandler) {\n              this._messageHandler.destroy();\n              this._messageHandler = null;\n            }\n          }\n        };\n        PDFWorker.fromPort = function (port) {\n          if (pdfWorkerPorts.has(port)) {\n            return pdfWorkerPorts.get(port);\n          }\n          return new PDFWorker(null, port);\n        };\n        return PDFWorker;\n      }();\n      var WorkerTransport = function WorkerTransportClosure() {\n        function WorkerTransport(messageHandler, loadingTask, networkStream, CMapReaderFactory) {\n          this.messageHandler = messageHandler;\n          this.loadingTask = loadingTask;\n          this.commonObjs = new PDFObjects();\n          this.fontLoader = new _font_loader.FontLoader(loadingTask.docId);\n          this.CMapReaderFactory = new CMapReaderFactory({\n            baseUrl: (0, _dom_utils.getDefaultSetting)('cMapUrl'),\n            isCompressed: (0, _dom_utils.getDefaultSetting)('cMapPacked')\n          });\n          this.destroyed = false;\n          this.destroyCapability = null;\n          this._passwordCapability = null;\n          this._networkStream = networkStream;\n          this._fullReader = null;\n          this._lastProgress = null;\n          this.pageCache = [];\n          this.pagePromises = [];\n          this.downloadInfoCapability = (0, _util.createPromiseCapability)();\n          this.setupMessageHandler();\n        }\n        WorkerTransport.prototype = {\n          destroy: function WorkerTransport_destroy() {\n            var _this8 = this;\n            if (this.destroyCapability) {\n              return this.destroyCapability.promise;\n            }\n            this.destroyed = true;\n            this.destroyCapability = (0, _util.createPromiseCapability)();\n            if (this._passwordCapability) {\n              this._passwordCapability.reject(new Error('Worker was destroyed during onPassword callback'));\n            }\n            var waitOn = [];\n            this.pageCache.forEach(function (page) {\n              if (page) {\n                waitOn.push(page._destroy());\n              }\n            });\n            this.pageCache = [];\n            this.pagePromises = [];\n            var terminated = this.messageHandler.sendWithPromise('Terminate', null);\n            waitOn.push(terminated);\n            Promise.all(waitOn).then(function () {\n              _this8.fontLoader.clear();\n              if (_this8._networkStream) {\n                _this8._networkStream.cancelAllRequests();\n              }\n              if (_this8.messageHandler) {\n                _this8.messageHandler.destroy();\n                _this8.messageHandler = null;\n              }\n              _this8.destroyCapability.resolve();\n            }, this.destroyCapability.reject);\n            return this.destroyCapability.promise;\n          },\n          setupMessageHandler: function WorkerTransport_setupMessageHandler() {\n            var messageHandler = this.messageHandler;\n            var loadingTask = this.loadingTask;\n            messageHandler.on('GetReader', function (data, sink) {\n              var _this9 = this;\n              (0, _util.assert)(this._networkStream);\n              this._fullReader = this._networkStream.getFullReader();\n              this._fullReader.onProgress = function (evt) {\n                _this9._lastProgress = {\n                  loaded: evt.loaded,\n                  total: evt.total\n                };\n              };\n              sink.onPull = function () {\n                _this9._fullReader.read().then(function (_ref2) {\n                  var value = _ref2.value,\n                    done = _ref2.done;\n                  if (done) {\n                    sink.close();\n                    return;\n                  }\n                  (0, _util.assert)((0, _util.isArrayBuffer)(value));\n                  sink.enqueue(new Uint8Array(value), 1, [value]);\n                }).catch(function (reason) {\n                  sink.error(reason);\n                });\n              };\n              sink.onCancel = function (reason) {\n                _this9._fullReader.cancel(reason);\n              };\n            }, this);\n            messageHandler.on('ReaderHeadersReady', function (data) {\n              var _this10 = this;\n              var headersCapability = (0, _util.createPromiseCapability)();\n              var fullReader = this._fullReader;\n              fullReader.headersReady.then(function () {\n                if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n                  if (_this10._lastProgress) {\n                    var _loadingTask = _this10.loadingTask;\n                    if (_loadingTask.onProgress) {\n                      _loadingTask.onProgress(_this10._lastProgress);\n                    }\n                  }\n                  fullReader.onProgress = function (evt) {\n                    var loadingTask = _this10.loadingTask;\n                    if (loadingTask.onProgress) {\n                      loadingTask.onProgress({\n                        loaded: evt.loaded,\n                        total: evt.total\n                      });\n                    }\n                  };\n                }\n                headersCapability.resolve({\n                  isStreamingSupported: fullReader.isStreamingSupported,\n                  isRangeSupported: fullReader.isRangeSupported,\n                  contentLength: fullReader.contentLength\n                });\n              }, headersCapability.reject);\n              return headersCapability.promise;\n            }, this);\n            messageHandler.on('GetRangeReader', function (data, sink) {\n              (0, _util.assert)(this._networkStream);\n              var _rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n              sink.onPull = function () {\n                _rangeReader.read().then(function (_ref3) {\n                  var value = _ref3.value,\n                    done = _ref3.done;\n                  if (done) {\n                    sink.close();\n                    return;\n                  }\n                  (0, _util.assert)((0, _util.isArrayBuffer)(value));\n                  sink.enqueue(new Uint8Array(value), 1, [value]);\n                }).catch(function (reason) {\n                  sink.error(reason);\n                });\n              };\n              sink.onCancel = function (reason) {\n                _rangeReader.cancel(reason);\n              };\n            }, this);\n            messageHandler.on('GetDoc', function transportDoc(data) {\n              var pdfInfo = data.pdfInfo;\n              this.numPages = data.pdfInfo.numPages;\n              var loadingTask = this.loadingTask;\n              var pdfDocument = new PDFDocumentProxy(pdfInfo, this, loadingTask);\n              this.pdfDocument = pdfDocument;\n              loadingTask._capability.resolve(pdfDocument);\n            }, this);\n            messageHandler.on('PasswordRequest', function transportPasswordRequest(exception) {\n              var _this11 = this;\n              this._passwordCapability = (0, _util.createPromiseCapability)();\n              if (loadingTask.onPassword) {\n                var updatePassword = function updatePassword(password) {\n                  _this11._passwordCapability.resolve({\n                    password: password\n                  });\n                };\n                loadingTask.onPassword(updatePassword, exception.code);\n              } else {\n                this._passwordCapability.reject(new _util.PasswordException(exception.message, exception.code));\n              }\n              return this._passwordCapability.promise;\n            }, this);\n            messageHandler.on('PasswordException', function transportPasswordException(exception) {\n              loadingTask._capability.reject(new _util.PasswordException(exception.message, exception.code));\n            }, this);\n            messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n              this.loadingTask._capability.reject(new _util.InvalidPDFException(exception.message));\n            }, this);\n            messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n              this.loadingTask._capability.reject(new _util.MissingPDFException(exception.message));\n            }, this);\n            messageHandler.on('UnexpectedResponse', function transportUnexpectedResponse(exception) {\n              this.loadingTask._capability.reject(new _util.UnexpectedResponseException(exception.message, exception.status));\n            }, this);\n            messageHandler.on('UnknownError', function transportUnknownError(exception) {\n              this.loadingTask._capability.reject(new _util.UnknownErrorException(exception.message, exception.details));\n            }, this);\n            messageHandler.on('DataLoaded', function transportPage(data) {\n              this.downloadInfoCapability.resolve(data);\n            }, this);\n            messageHandler.on('PDFManagerReady', function transportPage(data) {}, this);\n            messageHandler.on('StartRenderPage', function transportRender(data) {\n              if (this.destroyed) {\n                return;\n              }\n              var page = this.pageCache[data.pageIndex];\n              page.stats.timeEnd('Page Request');\n              page._startRenderPage(data.transparency, data.intent);\n            }, this);\n            messageHandler.on('RenderPageChunk', function transportRender(data) {\n              if (this.destroyed) {\n                return;\n              }\n              var page = this.pageCache[data.pageIndex];\n              page._renderPageChunk(data.operatorList, data.intent);\n            }, this);\n            messageHandler.on('commonobj', function transportObj(data) {\n              var _this12 = this;\n              if (this.destroyed) {\n                return;\n              }\n              var id = data[0];\n              var type = data[1];\n              if (this.commonObjs.hasData(id)) {\n                return;\n              }\n              switch (type) {\n                case 'Font':\n                  var exportedData = data[2];\n                  if ('error' in exportedData) {\n                    var exportedError = exportedData.error;\n                    (0, _util.warn)('Error during font loading: ' + exportedError);\n                    this.commonObjs.resolve(id, exportedError);\n                    break;\n                  }\n                  var fontRegistry = null;\n                  if ((0, _dom_utils.getDefaultSetting)('pdfBug') && _global_scope2.default.FontInspector && _global_scope2.default['FontInspector'].enabled) {\n                    fontRegistry = {\n                      registerFont: function registerFont(font, url) {\n                        _global_scope2.default['FontInspector'].fontAdded(font, url);\n                      }\n                    };\n                  }\n                  var font = new _font_loader.FontFaceObject(exportedData, {\n                    isEvalSupported: (0, _dom_utils.getDefaultSetting)('isEvalSupported'),\n                    disableFontFace: (0, _dom_utils.getDefaultSetting)('disableFontFace'),\n                    fontRegistry: fontRegistry\n                  });\n                  var fontReady = function fontReady(fontObjs) {\n                    _this12.commonObjs.resolve(id, font);\n                  };\n                  this.fontLoader.bind([font], fontReady);\n                  break;\n                case 'FontPath':\n                  this.commonObjs.resolve(id, data[2]);\n                  break;\n                default:\n                  throw new Error('Got unknown common object type ' + type);\n              }\n            }, this);\n            messageHandler.on('obj', function transportObj(data) {\n              if (this.destroyed) {\n                return;\n              }\n              var id = data[0];\n              var pageIndex = data[1];\n              var type = data[2];\n              var pageProxy = this.pageCache[pageIndex];\n              var imageData;\n              if (pageProxy.objs.hasData(id)) {\n                return;\n              }\n              switch (type) {\n                case 'JpegStream':\n                  imageData = data[3];\n                  (0, _util.loadJpegStream)(id, imageData, pageProxy.objs);\n                  break;\n                case 'Image':\n                  imageData = data[3];\n                  pageProxy.objs.resolve(id, imageData);\n                  var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n                  if (imageData && 'data' in imageData && imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n                    pageProxy.cleanupAfterRender = true;\n                  }\n                  break;\n                default:\n                  throw new Error('Got unknown object type ' + type);\n              }\n            }, this);\n            messageHandler.on('DocProgress', function transportDocProgress(data) {\n              if (this.destroyed) {\n                return;\n              }\n              var loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress({\n                  loaded: data.loaded,\n                  total: data.total\n                });\n              }\n            }, this);\n            messageHandler.on('PageError', function transportError(data) {\n              if (this.destroyed) {\n                return;\n              }\n              var page = this.pageCache[data.pageNum - 1];\n              var intentState = page.intentStates[data.intent];\n              if (intentState.displayReadyCapability) {\n                intentState.displayReadyCapability.reject(data.error);\n              } else {\n                throw new Error(data.error);\n              }\n              if (intentState.operatorList) {\n                intentState.operatorList.lastChunk = true;\n                for (var i = 0; i < intentState.renderTasks.length; i++) {\n                  intentState.renderTasks[i].operatorListChanged();\n                }\n              }\n            }, this);\n            messageHandler.on('UnsupportedFeature', function (data) {\n              if (this.destroyed) {\n                return;\n              }\n              var loadingTask = this.loadingTask;\n              if (loadingTask.onUnsupportedFeature) {\n                loadingTask.onUnsupportedFeature(data.featureId);\n              }\n            }, this);\n            messageHandler.on('JpegDecode', function (data) {\n              if (this.destroyed) {\n                return Promise.reject(new Error('Worker was destroyed'));\n              }\n              if (typeof document === 'undefined') {\n                return Promise.reject(new Error('\"document\" is not defined.'));\n              }\n              var imageUrl = data[0];\n              var components = data[1];\n              if (components !== 3 && components !== 1) {\n                return Promise.reject(new Error('Only 3 components or 1 component can be returned'));\n              }\n              return new Promise(function (resolve, reject) {\n                var img = new Image();\n                img.onload = function () {\n                  var width = img.width;\n                  var height = img.height;\n                  var size = width * height;\n                  var rgbaLength = size * 4;\n                  var buf = new Uint8Array(size * components);\n                  var tmpCanvas = document.createElement('canvas');\n                  tmpCanvas.width = width;\n                  tmpCanvas.height = height;\n                  var tmpCtx = tmpCanvas.getContext('2d');\n                  tmpCtx.drawImage(img, 0, 0);\n                  var data = tmpCtx.getImageData(0, 0, width, height).data;\n                  var i, j;\n                  if (components === 3) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                      buf[j] = data[i];\n                      buf[j + 1] = data[i + 1];\n                      buf[j + 2] = data[i + 2];\n                    }\n                  } else if (components === 1) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                      buf[j] = data[i];\n                    }\n                  }\n                  resolve({\n                    data: buf,\n                    width: width,\n                    height: height\n                  });\n                };\n                img.onerror = function () {\n                  reject(new Error('JpegDecode failed to load image'));\n                };\n                img.src = imageUrl;\n              });\n            }, this);\n            messageHandler.on('FetchBuiltInCMap', function (data) {\n              if (this.destroyed) {\n                return Promise.reject(new Error('Worker was destroyed'));\n              }\n              return this.CMapReaderFactory.fetch({\n                name: data.name\n              });\n            }, this);\n          },\n          getData: function WorkerTransport_getData() {\n            return this.messageHandler.sendWithPromise('GetData', null);\n          },\n          getPage: function getPage(pageNumber) {\n            var _this13 = this;\n            if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this.numPages) {\n              return Promise.reject(new Error('Invalid page request'));\n            }\n            var pageIndex = pageNumber - 1;\n            if (pageIndex in this.pagePromises) {\n              return this.pagePromises[pageIndex];\n            }\n            var promise = this.messageHandler.sendWithPromise('GetPage', {\n              pageIndex: pageIndex\n            }).then(function (pageInfo) {\n              if (_this13.destroyed) {\n                throw new Error('Transport destroyed');\n              }\n              var page = new PDFPageProxy(pageIndex, pageInfo, _this13);\n              _this13.pageCache[pageIndex] = page;\n              return page;\n            });\n            this.pagePromises[pageIndex] = promise;\n            return promise;\n          },\n          getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n            return this.messageHandler.sendWithPromise('GetPageIndex', {\n              ref: ref\n            }).catch(function (reason) {\n              return Promise.reject(new Error(reason));\n            });\n          },\n          getAnnotations: function WorkerTransport_getAnnotations(pageIndex, intent) {\n            return this.messageHandler.sendWithPromise('GetAnnotations', {\n              pageIndex: pageIndex,\n              intent: intent\n            });\n          },\n          getDestinations: function WorkerTransport_getDestinations() {\n            return this.messageHandler.sendWithPromise('GetDestinations', null);\n          },\n          getDestination: function WorkerTransport_getDestination(id) {\n            return this.messageHandler.sendWithPromise('GetDestination', {\n              id: id\n            });\n          },\n          getPageLabels: function WorkerTransport_getPageLabels() {\n            return this.messageHandler.sendWithPromise('GetPageLabels', null);\n          },\n          getPageMode: function getPageMode() {\n            return this.messageHandler.sendWithPromise('GetPageMode', null);\n          },\n          getAttachments: function WorkerTransport_getAttachments() {\n            return this.messageHandler.sendWithPromise('GetAttachments', null);\n          },\n          getJavaScript: function WorkerTransport_getJavaScript() {\n            return this.messageHandler.sendWithPromise('GetJavaScript', null);\n          },\n          getOutline: function WorkerTransport_getOutline() {\n            return this.messageHandler.sendWithPromise('GetOutline', null);\n          },\n          getMetadata: function WorkerTransport_getMetadata() {\n            return this.messageHandler.sendWithPromise('GetMetadata', null).then(function transportMetadata(results) {\n              return {\n                info: results[0],\n                metadata: results[1] ? new _metadata.Metadata(results[1]) : null\n              };\n            });\n          },\n          getStats: function WorkerTransport_getStats() {\n            return this.messageHandler.sendWithPromise('GetStats', null);\n          },\n          startCleanup: function WorkerTransport_startCleanup() {\n            var _this14 = this;\n            this.messageHandler.sendWithPromise('Cleanup', null).then(function () {\n              for (var i = 0, ii = _this14.pageCache.length; i < ii; i++) {\n                var page = _this14.pageCache[i];\n                if (page) {\n                  page.cleanup();\n                }\n              }\n              _this14.commonObjs.clear();\n              _this14.fontLoader.clear();\n            });\n          }\n        };\n        return WorkerTransport;\n      }();\n      var PDFObjects = function PDFObjectsClosure() {\n        function PDFObjects() {\n          this.objs = Object.create(null);\n        }\n        PDFObjects.prototype = {\n          ensureObj: function PDFObjects_ensureObj(objId) {\n            if (this.objs[objId]) {\n              return this.objs[objId];\n            }\n            var obj = {\n              capability: (0, _util.createPromiseCapability)(),\n              data: null,\n              resolved: false\n            };\n            this.objs[objId] = obj;\n            return obj;\n          },\n          get: function PDFObjects_get(objId, callback) {\n            if (callback) {\n              this.ensureObj(objId).capability.promise.then(callback);\n              return null;\n            }\n            var obj = this.objs[objId];\n            if (!obj || !obj.resolved) {\n              throw new Error('Requesting object that isn\\'t resolved yet ' + objId);\n            }\n            return obj.data;\n          },\n          resolve: function PDFObjects_resolve(objId, data) {\n            var obj = this.ensureObj(objId);\n            obj.resolved = true;\n            obj.data = data;\n            obj.capability.resolve(data);\n          },\n          isResolved: function PDFObjects_isResolved(objId) {\n            var objs = this.objs;\n            if (!objs[objId]) {\n              return false;\n            }\n            return objs[objId].resolved;\n          },\n          hasData: function PDFObjects_hasData(objId) {\n            return this.isResolved(objId);\n          },\n          getData: function PDFObjects_getData(objId) {\n            var objs = this.objs;\n            if (!objs[objId] || !objs[objId].resolved) {\n              return null;\n            }\n            return objs[objId].data;\n          },\n          clear: function PDFObjects_clear() {\n            this.objs = Object.create(null);\n          }\n        };\n        return PDFObjects;\n      }();\n      var RenderTask = function RenderTaskClosure() {\n        function RenderTask(internalRenderTask) {\n          this._internalRenderTask = internalRenderTask;\n          this.onContinue = null;\n        }\n        RenderTask.prototype = {\n          get promise() {\n            return this._internalRenderTask.capability.promise;\n          },\n          cancel: function RenderTask_cancel() {\n            this._internalRenderTask.cancel();\n          },\n          then: function RenderTask_then(onFulfilled, onRejected) {\n            return this.promise.then.apply(this.promise, arguments);\n          }\n        };\n        return RenderTask;\n      }();\n      var InternalRenderTask = function InternalRenderTaskClosure() {\n        var canvasInRendering = new WeakMap();\n        function InternalRenderTask(callback, params, objs, commonObjs, operatorList, pageNumber, canvasFactory, webGLContext) {\n          this.callback = callback;\n          this.params = params;\n          this.objs = objs;\n          this.commonObjs = commonObjs;\n          this.operatorListIdx = null;\n          this.operatorList = operatorList;\n          this.pageNumber = pageNumber;\n          this.canvasFactory = canvasFactory;\n          this.webGLContext = webGLContext;\n          this.running = false;\n          this.graphicsReadyCallback = null;\n          this.graphicsReady = false;\n          this.useRequestAnimationFrame = false;\n          this.cancelled = false;\n          this.capability = (0, _util.createPromiseCapability)();\n          this.task = new RenderTask(this);\n          this._continueBound = this._continue.bind(this);\n          this._scheduleNextBound = this._scheduleNext.bind(this);\n          this._nextBound = this._next.bind(this);\n          this._canvas = params.canvasContext.canvas;\n        }\n        InternalRenderTask.prototype = {\n          initializeGraphics: function InternalRenderTask_initializeGraphics(transparency) {\n            if (this._canvas) {\n              if (canvasInRendering.has(this._canvas)) {\n                throw new Error('Cannot use the same canvas during multiple render() operations. ' + 'Use different canvas or ensure previous operations were ' + 'cancelled or completed.');\n              }\n              canvasInRendering.set(this._canvas, this);\n            }\n            if (this.cancelled) {\n              return;\n            }\n            if ((0, _dom_utils.getDefaultSetting)('pdfBug') && _global_scope2.default.StepperManager && _global_scope2.default.StepperManager.enabled) {\n              this.stepper = _global_scope2.default.StepperManager.create(this.pageNumber - 1);\n              this.stepper.init(this.operatorList);\n              this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n            }\n            var params = this.params;\n            this.gfx = new _canvas.CanvasGraphics(params.canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.webGLContext, params.imageLayer);\n            this.gfx.beginDrawing({\n              transform: params.transform,\n              viewport: params.viewport,\n              transparency: transparency,\n              background: params.background\n            });\n            this.operatorListIdx = 0;\n            this.graphicsReady = true;\n            if (this.graphicsReadyCallback) {\n              this.graphicsReadyCallback();\n            }\n          },\n          cancel: function InternalRenderTask_cancel() {\n            this.running = false;\n            this.cancelled = true;\n            if (this._canvas) {\n              canvasInRendering.delete(this._canvas);\n            }\n            this.callback(new _dom_utils.RenderingCancelledException('Rendering cancelled, page ' + this.pageNumber, 'canvas'));\n          },\n          operatorListChanged: function InternalRenderTask_operatorListChanged() {\n            if (!this.graphicsReady) {\n              if (!this.graphicsReadyCallback) {\n                this.graphicsReadyCallback = this._continueBound;\n              }\n              return;\n            }\n            if (this.stepper) {\n              this.stepper.updateOperatorList(this.operatorList);\n            }\n            if (this.running) {\n              return;\n            }\n            this._continue();\n          },\n          _continue: function InternalRenderTask__continue() {\n            this.running = true;\n            if (this.cancelled) {\n              return;\n            }\n            if (this.task.onContinue) {\n              this.task.onContinue(this._scheduleNextBound);\n            } else {\n              this._scheduleNext();\n            }\n          },\n          _scheduleNext: function InternalRenderTask__scheduleNext() {\n            if (this.useRequestAnimationFrame && typeof window !== 'undefined') {\n              window.requestAnimationFrame(this._nextBound);\n            } else {\n              Promise.resolve(undefined).then(this._nextBound);\n            }\n          },\n          _next: function InternalRenderTask__next() {\n            if (this.cancelled) {\n              return;\n            }\n            this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n            if (this.operatorListIdx === this.operatorList.argsArray.length) {\n              this.running = false;\n              if (this.operatorList.lastChunk) {\n                this.gfx.endDrawing();\n                if (this._canvas) {\n                  canvasInRendering.delete(this._canvas);\n                }\n                this.callback();\n              }\n            }\n          }\n        };\n        return InternalRenderTask;\n      }();\n      var version, build;\n      {\n        exports.version = version = '2.0.164';\n        exports.build = build = 'b7fe8057';\n      }\n      exports.getDocument = getDocument;\n      exports.LoopbackPort = LoopbackPort;\n      exports.PDFDataRangeTransport = PDFDataRangeTransport;\n      exports.PDFWorker = PDFWorker;\n      exports.PDFDocumentProxy = PDFDocumentProxy;\n      exports.PDFPageProxy = PDFPageProxy;\n      exports.setPDFNetworkStreamClass = setPDFNetworkStreamClass;\n      exports.version = version;\n      exports.build = build;\n\n      /***/\n    }, /* 58 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Metadata = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _util = __w_pdfjs_require__(0);\n      var _dom_utils = __w_pdfjs_require__(10);\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var Metadata = function () {\n        function Metadata(data) {\n          _classCallCheck(this, Metadata);\n          (0, _util.assert)(typeof data === 'string', 'Metadata: input is not a string');\n          data = this._repair(data);\n          var parser = new _dom_utils.SimpleXMLParser();\n          data = parser.parseFromString(data);\n          this._metadata = Object.create(null);\n          this._parse(data);\n        }\n        _createClass(Metadata, [{\n          key: '_repair',\n          value: function _repair(data) {\n            return data.replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n              var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n                return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n              });\n              var chars = '';\n              for (var i = 0, ii = bytes.length; i < ii; i += 2) {\n                var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n                if (code >= 32 && code < 127 && code !== 60 && code !== 62 && code !== 38) {\n                  chars += String.fromCharCode(code);\n                } else {\n                  chars += '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n                }\n              }\n              return '>' + chars;\n            });\n          }\n        }, {\n          key: '_parse',\n          value: function _parse(domDocument) {\n            var rdf = domDocument.documentElement;\n            if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n              rdf = rdf.firstChild;\n              while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n                rdf = rdf.nextSibling;\n              }\n            }\n            var nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n            if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n              return;\n            }\n            var children = rdf.childNodes;\n            for (var i = 0, ii = children.length; i < ii; i++) {\n              var desc = children[i];\n              if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n                continue;\n              }\n              for (var j = 0, jj = desc.childNodes.length; j < jj; j++) {\n                if (desc.childNodes[j].nodeName.toLowerCase() !== '#text') {\n                  var entry = desc.childNodes[j];\n                  var name = entry.nodeName.toLowerCase();\n                  this._metadata[name] = entry.textContent.trim();\n                }\n              }\n            }\n          }\n        }, {\n          key: 'get',\n          value: function get(name) {\n            return this._metadata[name] || null;\n          }\n        }, {\n          key: 'getAll',\n          value: function getAll() {\n            return this._metadata;\n          }\n        }, {\n          key: 'has',\n          value: function has(name) {\n            return typeof this._metadata[name] !== 'undefined';\n          }\n        }]);\n        return Metadata;\n      }();\n      exports.Metadata = Metadata;\n\n      /***/\n    }, /* 59 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AnnotationLayer = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _dom_utils = __w_pdfjs_require__(10);\n      var _util = __w_pdfjs_require__(0);\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var AnnotationElementFactory = function () {\n        function AnnotationElementFactory() {\n          _classCallCheck(this, AnnotationElementFactory);\n        }\n        _createClass(AnnotationElementFactory, null, [{\n          key: 'create',\n          value: function create(parameters) {\n            var subtype = parameters.data.annotationType;\n            switch (subtype) {\n              case _util.AnnotationType.LINK:\n                return new LinkAnnotationElement(parameters);\n              case _util.AnnotationType.TEXT:\n                return new TextAnnotationElement(parameters);\n              case _util.AnnotationType.WIDGET:\n                var fieldType = parameters.data.fieldType;\n                switch (fieldType) {\n                  case 'Tx':\n                    return new TextWidgetAnnotationElement(parameters);\n                  case 'Btn':\n                    if (parameters.data.radioButton) {\n                      return new RadioButtonWidgetAnnotationElement(parameters);\n                    } else if (parameters.data.checkBox) {\n                      return new CheckboxWidgetAnnotationElement(parameters);\n                    }\n                    (0, _util.warn)('Unimplemented button widget annotation: pushbutton');\n                    break;\n                  case 'Ch':\n                    return new ChoiceWidgetAnnotationElement(parameters);\n                }\n                return new WidgetAnnotationElement(parameters);\n              case _util.AnnotationType.POPUP:\n                return new PopupAnnotationElement(parameters);\n              case _util.AnnotationType.LINE:\n                return new LineAnnotationElement(parameters);\n              case _util.AnnotationType.SQUARE:\n                return new SquareAnnotationElement(parameters);\n              case _util.AnnotationType.CIRCLE:\n                return new CircleAnnotationElement(parameters);\n              case _util.AnnotationType.POLYLINE:\n                return new PolylineAnnotationElement(parameters);\n              case _util.AnnotationType.POLYGON:\n                return new PolygonAnnotationElement(parameters);\n              case _util.AnnotationType.HIGHLIGHT:\n                return new HighlightAnnotationElement(parameters);\n              case _util.AnnotationType.UNDERLINE:\n                return new UnderlineAnnotationElement(parameters);\n              case _util.AnnotationType.SQUIGGLY:\n                return new SquigglyAnnotationElement(parameters);\n              case _util.AnnotationType.STRIKEOUT:\n                return new StrikeOutAnnotationElement(parameters);\n              case _util.AnnotationType.STAMP:\n                return new StampAnnotationElement(parameters);\n              case _util.AnnotationType.FILEATTACHMENT:\n                return new FileAttachmentAnnotationElement(parameters);\n              default:\n                return new AnnotationElement(parameters);\n            }\n          }\n        }]);\n        return AnnotationElementFactory;\n      }();\n      var AnnotationElement = function () {\n        function AnnotationElement(parameters) {\n          var isRenderable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n          var ignoreBorder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n          _classCallCheck(this, AnnotationElement);\n          this.isRenderable = isRenderable;\n          this.data = parameters.data;\n          this.layer = parameters.layer;\n          this.page = parameters.page;\n          this.viewport = parameters.viewport;\n          this.linkService = parameters.linkService;\n          this.downloadManager = parameters.downloadManager;\n          this.imageResourcesPath = parameters.imageResourcesPath;\n          this.renderInteractiveForms = parameters.renderInteractiveForms;\n          this.svgFactory = parameters.svgFactory;\n          if (isRenderable) {\n            this.container = this._createContainer(ignoreBorder);\n          }\n        }\n        _createClass(AnnotationElement, [{\n          key: '_createContainer',\n          value: function _createContainer() {\n            var ignoreBorder = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            var data = this.data,\n              page = this.page,\n              viewport = this.viewport;\n            var container = document.createElement('section');\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            container.setAttribute('data-annotation-id', data.id);\n            var rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n            _dom_utils.CustomStyle.setProp('transform', container, 'matrix(' + viewport.transform.join(',') + ')');\n            _dom_utils.CustomStyle.setProp('transformOrigin', container, -rect[0] + 'px ' + -rect[1] + 'px');\n            if (!ignoreBorder && data.borderStyle.width > 0) {\n              container.style.borderWidth = data.borderStyle.width + 'px';\n              if (data.borderStyle.style !== _util.AnnotationBorderStyleType.UNDERLINE) {\n                width = width - 2 * data.borderStyle.width;\n                height = height - 2 * data.borderStyle.width;\n              }\n              var horizontalRadius = data.borderStyle.horizontalCornerRadius;\n              var verticalRadius = data.borderStyle.verticalCornerRadius;\n              if (horizontalRadius > 0 || verticalRadius > 0) {\n                var radius = horizontalRadius + 'px / ' + verticalRadius + 'px';\n                _dom_utils.CustomStyle.setProp('borderRadius', container, radius);\n              }\n              switch (data.borderStyle.style) {\n                case _util.AnnotationBorderStyleType.SOLID:\n                  container.style.borderStyle = 'solid';\n                  break;\n                case _util.AnnotationBorderStyleType.DASHED:\n                  container.style.borderStyle = 'dashed';\n                  break;\n                case _util.AnnotationBorderStyleType.BEVELED:\n                  (0, _util.warn)('Unimplemented border style: beveled');\n                  break;\n                case _util.AnnotationBorderStyleType.INSET:\n                  (0, _util.warn)('Unimplemented border style: inset');\n                  break;\n                case _util.AnnotationBorderStyleType.UNDERLINE:\n                  container.style.borderBottomStyle = 'solid';\n                  break;\n                default:\n                  break;\n              }\n              if (data.color) {\n                container.style.borderColor = _util.Util.makeCssRgb(data.color[0] | 0, data.color[1] | 0, data.color[2] | 0);\n              } else {\n                container.style.borderWidth = 0;\n              }\n            }\n            container.style.left = rect[0] + 'px';\n            container.style.top = rect[1] + 'px';\n            container.style.width = width + 'px';\n            container.style.height = height + 'px';\n            return container;\n          }\n        }, {\n          key: '_createPopup',\n          value: function _createPopup(container, trigger, data) {\n            if (!trigger) {\n              trigger = document.createElement('div');\n              trigger.style.height = container.style.height;\n              trigger.style.width = container.style.width;\n              container.appendChild(trigger);\n            }\n            var popupElement = new PopupElement({\n              container: container,\n              trigger: trigger,\n              color: data.color,\n              title: data.title,\n              contents: data.contents,\n              hideWrapper: true\n            });\n            var popup = popupElement.render();\n            popup.style.left = container.style.width;\n            container.appendChild(popup);\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            throw new Error('Abstract method `AnnotationElement.render` called');\n          }\n        }]);\n        return AnnotationElement;\n      }();\n      var LinkAnnotationElement = function (_AnnotationElement) {\n        _inherits(LinkAnnotationElement, _AnnotationElement);\n        function LinkAnnotationElement(parameters) {\n          _classCallCheck(this, LinkAnnotationElement);\n          var isRenderable = !!(parameters.data.url || parameters.data.dest || parameters.data.action);\n          return _possibleConstructorReturn(this, (LinkAnnotationElement.__proto__ || Object.getPrototypeOf(LinkAnnotationElement)).call(this, parameters, isRenderable));\n        }\n        _createClass(LinkAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'linkAnnotation';\n            var link = document.createElement('a');\n            (0, _dom_utils.addLinkAttributes)(link, {\n              url: this.data.url,\n              target: this.data.newWindow ? _dom_utils.LinkTarget.BLANK : undefined\n            });\n            if (!this.data.url) {\n              if (this.data.action) {\n                this._bindNamedAction(link, this.data.action);\n              } else {\n                this._bindLink(link, this.data.dest);\n              }\n            }\n            this.container.appendChild(link);\n            return this.container;\n          }\n        }, {\n          key: '_bindLink',\n          value: function _bindLink(link, destination) {\n            var _this2 = this;\n            link.href = this.linkService.getDestinationHash(destination);\n            link.onclick = function () {\n              if (destination) {\n                _this2.linkService.navigateTo(destination);\n              }\n              return false;\n            };\n            if (destination) {\n              link.className = 'internalLink';\n            }\n          }\n        }, {\n          key: '_bindNamedAction',\n          value: function _bindNamedAction(link, action) {\n            var _this3 = this;\n            link.href = this.linkService.getAnchorUrl('');\n            link.onclick = function () {\n              _this3.linkService.executeNamedAction(action);\n              return false;\n            };\n            link.className = 'internalLink';\n          }\n        }]);\n        return LinkAnnotationElement;\n      }(AnnotationElement);\n      var TextAnnotationElement = function (_AnnotationElement2) {\n        _inherits(TextAnnotationElement, _AnnotationElement2);\n        function TextAnnotationElement(parameters) {\n          _classCallCheck(this, TextAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (TextAnnotationElement.__proto__ || Object.getPrototypeOf(TextAnnotationElement)).call(this, parameters, isRenderable));\n        }\n        _createClass(TextAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'textAnnotation';\n            var image = document.createElement('img');\n            image.style.height = this.container.style.height;\n            image.style.width = this.container.style.width;\n            image.src = this.imageResourcesPath + 'annotation-' + this.data.name.toLowerCase() + '.svg';\n            image.alt = '[{{type}} Annotation]';\n            image.dataset.l10nId = 'text_annotation_type';\n            image.dataset.l10nArgs = JSON.stringify({\n              type: this.data.name\n            });\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, image, this.data);\n            }\n            this.container.appendChild(image);\n            return this.container;\n          }\n        }]);\n        return TextAnnotationElement;\n      }(AnnotationElement);\n      var WidgetAnnotationElement = function (_AnnotationElement3) {\n        _inherits(WidgetAnnotationElement, _AnnotationElement3);\n        function WidgetAnnotationElement() {\n          _classCallCheck(this, WidgetAnnotationElement);\n          return _possibleConstructorReturn(this, (WidgetAnnotationElement.__proto__ || Object.getPrototypeOf(WidgetAnnotationElement)).apply(this, arguments));\n        }\n        _createClass(WidgetAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            return this.container;\n          }\n        }]);\n        return WidgetAnnotationElement;\n      }(AnnotationElement);\n      var TextWidgetAnnotationElement = function (_WidgetAnnotationElem) {\n        _inherits(TextWidgetAnnotationElement, _WidgetAnnotationElem);\n        function TextWidgetAnnotationElement(parameters) {\n          _classCallCheck(this, TextWidgetAnnotationElement);\n          var isRenderable = parameters.renderInteractiveForms || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n          return _possibleConstructorReturn(this, (TextWidgetAnnotationElement.__proto__ || Object.getPrototypeOf(TextWidgetAnnotationElement)).call(this, parameters, isRenderable));\n        }\n        _createClass(TextWidgetAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            var TEXT_ALIGNMENT = ['left', 'center', 'right'];\n            this.container.className = 'textWidgetAnnotation';\n            var element = null;\n            if (this.renderInteractiveForms) {\n              if (this.data.multiLine) {\n                element = document.createElement('textarea');\n                element.textContent = this.data.fieldValue;\n              } else {\n                element = document.createElement('input');\n                element.type = 'text';\n                element.setAttribute('value', this.data.fieldValue);\n              }\n              element.disabled = this.data.readOnly;\n              if (this.data.maxLen !== null) {\n                element.maxLength = this.data.maxLen;\n              }\n              if (this.data.comb) {\n                var fieldWidth = this.data.rect[2] - this.data.rect[0];\n                var combWidth = fieldWidth / this.data.maxLen;\n                element.classList.add('comb');\n                element.style.letterSpacing = 'calc(' + combWidth + 'px - 1ch)';\n              }\n            } else {\n              element = document.createElement('div');\n              element.textContent = this.data.fieldValue;\n              element.style.verticalAlign = 'middle';\n              element.style.display = 'table-cell';\n              var font = null;\n              if (this.data.fontRefName) {\n                font = this.page.commonObjs.getData(this.data.fontRefName);\n              }\n              this._setTextStyle(element, font);\n            }\n            if (this.data.textAlignment !== null) {\n              element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n            }\n            this.container.appendChild(element);\n            return this.container;\n          }\n        }, {\n          key: '_setTextStyle',\n          value: function _setTextStyle(element, font) {\n            var style = element.style;\n            style.fontSize = this.data.fontSize + 'px';\n            style.direction = this.data.fontDirection < 0 ? 'rtl' : 'ltr';\n            if (!font) {\n              return;\n            }\n            style.fontWeight = font.black ? font.bold ? '900' : 'bold' : font.bold ? 'bold' : 'normal';\n            style.fontStyle = font.italic ? 'italic' : 'normal';\n            var fontFamily = font.loadedName ? '\"' + font.loadedName + '\", ' : '';\n            var fallbackName = font.fallbackName || 'Helvetica, sans-serif';\n            style.fontFamily = fontFamily + fallbackName;\n          }\n        }]);\n        return TextWidgetAnnotationElement;\n      }(WidgetAnnotationElement);\n      var CheckboxWidgetAnnotationElement = function (_WidgetAnnotationElem2) {\n        _inherits(CheckboxWidgetAnnotationElement, _WidgetAnnotationElem2);\n        function CheckboxWidgetAnnotationElement(parameters) {\n          _classCallCheck(this, CheckboxWidgetAnnotationElement);\n          return _possibleConstructorReturn(this, (CheckboxWidgetAnnotationElement.__proto__ || Object.getPrototypeOf(CheckboxWidgetAnnotationElement)).call(this, parameters, parameters.renderInteractiveForms));\n        }\n        _createClass(CheckboxWidgetAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'buttonWidgetAnnotation checkBox';\n            var element = document.createElement('input');\n            element.disabled = this.data.readOnly;\n            element.type = 'checkbox';\n            if (this.data.fieldValue && this.data.fieldValue !== 'Off') {\n              element.setAttribute('checked', true);\n            }\n            this.container.appendChild(element);\n            return this.container;\n          }\n        }]);\n        return CheckboxWidgetAnnotationElement;\n      }(WidgetAnnotationElement);\n      var RadioButtonWidgetAnnotationElement = function (_WidgetAnnotationElem3) {\n        _inherits(RadioButtonWidgetAnnotationElement, _WidgetAnnotationElem3);\n        function RadioButtonWidgetAnnotationElement(parameters) {\n          _classCallCheck(this, RadioButtonWidgetAnnotationElement);\n          return _possibleConstructorReturn(this, (RadioButtonWidgetAnnotationElement.__proto__ || Object.getPrototypeOf(RadioButtonWidgetAnnotationElement)).call(this, parameters, parameters.renderInteractiveForms));\n        }\n        _createClass(RadioButtonWidgetAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'buttonWidgetAnnotation radioButton';\n            var element = document.createElement('input');\n            element.disabled = this.data.readOnly;\n            element.type = 'radio';\n            element.name = this.data.fieldName;\n            if (this.data.fieldValue === this.data.buttonValue) {\n              element.setAttribute('checked', true);\n            }\n            this.container.appendChild(element);\n            return this.container;\n          }\n        }]);\n        return RadioButtonWidgetAnnotationElement;\n      }(WidgetAnnotationElement);\n      var ChoiceWidgetAnnotationElement = function (_WidgetAnnotationElem4) {\n        _inherits(ChoiceWidgetAnnotationElement, _WidgetAnnotationElem4);\n        function ChoiceWidgetAnnotationElement(parameters) {\n          _classCallCheck(this, ChoiceWidgetAnnotationElement);\n          return _possibleConstructorReturn(this, (ChoiceWidgetAnnotationElement.__proto__ || Object.getPrototypeOf(ChoiceWidgetAnnotationElement)).call(this, parameters, parameters.renderInteractiveForms));\n        }\n        _createClass(ChoiceWidgetAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'choiceWidgetAnnotation';\n            var selectElement = document.createElement('select');\n            selectElement.disabled = this.data.readOnly;\n            if (!this.data.combo) {\n              selectElement.size = this.data.options.length;\n              if (this.data.multiSelect) {\n                selectElement.multiple = true;\n              }\n            }\n            for (var i = 0, ii = this.data.options.length; i < ii; i++) {\n              var option = this.data.options[i];\n              var optionElement = document.createElement('option');\n              optionElement.textContent = option.displayValue;\n              optionElement.value = option.exportValue;\n              if (this.data.fieldValue.indexOf(option.displayValue) >= 0) {\n                optionElement.setAttribute('selected', true);\n              }\n              selectElement.appendChild(optionElement);\n            }\n            this.container.appendChild(selectElement);\n            return this.container;\n          }\n        }]);\n        return ChoiceWidgetAnnotationElement;\n      }(WidgetAnnotationElement);\n      var PopupAnnotationElement = function (_AnnotationElement4) {\n        _inherits(PopupAnnotationElement, _AnnotationElement4);\n        function PopupAnnotationElement(parameters) {\n          _classCallCheck(this, PopupAnnotationElement);\n          var isRenderable = !!(parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (PopupAnnotationElement.__proto__ || Object.getPrototypeOf(PopupAnnotationElement)).call(this, parameters, isRenderable));\n        }\n        _createClass(PopupAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            var IGNORE_TYPES = ['Line', 'Square', 'Circle', 'PolyLine', 'Polygon'];\n            this.container.className = 'popupAnnotation';\n            if (IGNORE_TYPES.indexOf(this.data.parentType) >= 0) {\n              return this.container;\n            }\n            var selector = '[data-annotation-id=\"' + this.data.parentId + '\"]';\n            var parentElement = this.layer.querySelector(selector);\n            if (!parentElement) {\n              return this.container;\n            }\n            var popup = new PopupElement({\n              container: this.container,\n              trigger: parentElement,\n              color: this.data.color,\n              title: this.data.title,\n              contents: this.data.contents\n            });\n            var parentLeft = parseFloat(parentElement.style.left);\n            var parentWidth = parseFloat(parentElement.style.width);\n            _dom_utils.CustomStyle.setProp('transformOrigin', this.container, -(parentLeft + parentWidth) + 'px -' + parentElement.style.top);\n            this.container.style.left = parentLeft + parentWidth + 'px';\n            this.container.appendChild(popup.render());\n            return this.container;\n          }\n        }]);\n        return PopupAnnotationElement;\n      }(AnnotationElement);\n      var PopupElement = function () {\n        function PopupElement(parameters) {\n          _classCallCheck(this, PopupElement);\n          this.container = parameters.container;\n          this.trigger = parameters.trigger;\n          this.color = parameters.color;\n          this.title = parameters.title;\n          this.contents = parameters.contents;\n          this.hideWrapper = parameters.hideWrapper || false;\n          this.pinned = false;\n        }\n        _createClass(PopupElement, [{\n          key: 'render',\n          value: function render() {\n            var BACKGROUND_ENLIGHT = 0.7;\n            var wrapper = document.createElement('div');\n            wrapper.className = 'popupWrapper';\n            this.hideElement = this.hideWrapper ? wrapper : this.container;\n            this.hideElement.setAttribute('hidden', true);\n            var popup = document.createElement('div');\n            popup.className = 'popup';\n            var color = this.color;\n            if (color) {\n              var r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n              var g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n              var b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n              popup.style.backgroundColor = _util.Util.makeCssRgb(r | 0, g | 0, b | 0);\n            }\n            var contents = this._formatContents(this.contents);\n            var title = document.createElement('h1');\n            title.textContent = this.title;\n            this.trigger.addEventListener('click', this._toggle.bind(this));\n            this.trigger.addEventListener('mouseover', this._show.bind(this, false));\n            this.trigger.addEventListener('mouseout', this._hide.bind(this, false));\n            popup.addEventListener('click', this._hide.bind(this, true));\n            popup.appendChild(title);\n            popup.appendChild(contents);\n            wrapper.appendChild(popup);\n            return wrapper;\n          }\n        }, {\n          key: '_formatContents',\n          value: function _formatContents(contents) {\n            var p = document.createElement('p');\n            var lines = contents.split(/(?:\\r\\n?|\\n)/);\n            for (var i = 0, ii = lines.length; i < ii; ++i) {\n              var line = lines[i];\n              p.appendChild(document.createTextNode(line));\n              if (i < ii - 1) {\n                p.appendChild(document.createElement('br'));\n              }\n            }\n            return p;\n          }\n        }, {\n          key: '_toggle',\n          value: function _toggle() {\n            if (this.pinned) {\n              this._hide(true);\n            } else {\n              this._show(true);\n            }\n          }\n        }, {\n          key: '_show',\n          value: function _show() {\n            var pin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            if (pin) {\n              this.pinned = true;\n            }\n            if (this.hideElement.hasAttribute('hidden')) {\n              this.hideElement.removeAttribute('hidden');\n              this.container.style.zIndex += 1;\n            }\n          }\n        }, {\n          key: '_hide',\n          value: function _hide() {\n            var unpin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            if (unpin) {\n              this.pinned = false;\n            }\n            if (!this.hideElement.hasAttribute('hidden') && !this.pinned) {\n              this.hideElement.setAttribute('hidden', true);\n              this.container.style.zIndex -= 1;\n            }\n          }\n        }]);\n        return PopupElement;\n      }();\n      var LineAnnotationElement = function (_AnnotationElement5) {\n        _inherits(LineAnnotationElement, _AnnotationElement5);\n        function LineAnnotationElement(parameters) {\n          _classCallCheck(this, LineAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (LineAnnotationElement.__proto__ || Object.getPrototypeOf(LineAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(LineAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'lineAnnotation';\n            var data = this.data;\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            var svg = this.svgFactory.create(width, height);\n            var line = this.svgFactory.createElement('svg:line');\n            line.setAttribute('x1', data.rect[2] - data.lineCoordinates[0]);\n            line.setAttribute('y1', data.rect[3] - data.lineCoordinates[1]);\n            line.setAttribute('x2', data.rect[2] - data.lineCoordinates[2]);\n            line.setAttribute('y2', data.rect[3] - data.lineCoordinates[3]);\n            line.setAttribute('stroke-width', data.borderStyle.width);\n            line.setAttribute('stroke', 'transparent');\n            svg.appendChild(line);\n            this.container.append(svg);\n            this._createPopup(this.container, line, data);\n            return this.container;\n          }\n        }]);\n        return LineAnnotationElement;\n      }(AnnotationElement);\n      var SquareAnnotationElement = function (_AnnotationElement6) {\n        _inherits(SquareAnnotationElement, _AnnotationElement6);\n        function SquareAnnotationElement(parameters) {\n          _classCallCheck(this, SquareAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (SquareAnnotationElement.__proto__ || Object.getPrototypeOf(SquareAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(SquareAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'squareAnnotation';\n            var data = this.data;\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            var svg = this.svgFactory.create(width, height);\n            var borderWidth = data.borderStyle.width;\n            var square = this.svgFactory.createElement('svg:rect');\n            square.setAttribute('x', borderWidth / 2);\n            square.setAttribute('y', borderWidth / 2);\n            square.setAttribute('width', width - borderWidth);\n            square.setAttribute('height', height - borderWidth);\n            square.setAttribute('stroke-width', borderWidth);\n            square.setAttribute('stroke', 'transparent');\n            square.setAttribute('fill', 'none');\n            svg.appendChild(square);\n            this.container.append(svg);\n            this._createPopup(this.container, square, data);\n            return this.container;\n          }\n        }]);\n        return SquareAnnotationElement;\n      }(AnnotationElement);\n      var CircleAnnotationElement = function (_AnnotationElement7) {\n        _inherits(CircleAnnotationElement, _AnnotationElement7);\n        function CircleAnnotationElement(parameters) {\n          _classCallCheck(this, CircleAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (CircleAnnotationElement.__proto__ || Object.getPrototypeOf(CircleAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(CircleAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'circleAnnotation';\n            var data = this.data;\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            var svg = this.svgFactory.create(width, height);\n            var borderWidth = data.borderStyle.width;\n            var circle = this.svgFactory.createElement('svg:ellipse');\n            circle.setAttribute('cx', width / 2);\n            circle.setAttribute('cy', height / 2);\n            circle.setAttribute('rx', width / 2 - borderWidth / 2);\n            circle.setAttribute('ry', height / 2 - borderWidth / 2);\n            circle.setAttribute('stroke-width', borderWidth);\n            circle.setAttribute('stroke', 'transparent');\n            circle.setAttribute('fill', 'none');\n            svg.appendChild(circle);\n            this.container.append(svg);\n            this._createPopup(this.container, circle, data);\n            return this.container;\n          }\n        }]);\n        return CircleAnnotationElement;\n      }(AnnotationElement);\n      var PolylineAnnotationElement = function (_AnnotationElement8) {\n        _inherits(PolylineAnnotationElement, _AnnotationElement8);\n        function PolylineAnnotationElement(parameters) {\n          _classCallCheck(this, PolylineAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          var _this14 = _possibleConstructorReturn(this, (PolylineAnnotationElement.__proto__ || Object.getPrototypeOf(PolylineAnnotationElement)).call(this, parameters, isRenderable, true));\n          _this14.containerClassName = 'polylineAnnotation';\n          _this14.svgElementName = 'svg:polyline';\n          return _this14;\n        }\n        _createClass(PolylineAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = this.containerClassName;\n            var data = this.data;\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            var svg = this.svgFactory.create(width, height);\n            var vertices = data.vertices;\n            var points = [];\n            for (var i = 0, ii = vertices.length; i < ii; i++) {\n              var x = vertices[i].x - data.rect[0];\n              var y = data.rect[3] - vertices[i].y;\n              points.push(x + ',' + y);\n            }\n            points = points.join(' ');\n            var borderWidth = data.borderStyle.width;\n            var polyline = this.svgFactory.createElement(this.svgElementName);\n            polyline.setAttribute('points', points);\n            polyline.setAttribute('stroke-width', borderWidth);\n            polyline.setAttribute('stroke', 'transparent');\n            polyline.setAttribute('fill', 'none');\n            svg.appendChild(polyline);\n            this.container.append(svg);\n            this._createPopup(this.container, polyline, data);\n            return this.container;\n          }\n        }]);\n        return PolylineAnnotationElement;\n      }(AnnotationElement);\n      var PolygonAnnotationElement = function (_PolylineAnnotationEl) {\n        _inherits(PolygonAnnotationElement, _PolylineAnnotationEl);\n        function PolygonAnnotationElement(parameters) {\n          _classCallCheck(this, PolygonAnnotationElement);\n          var _this15 = _possibleConstructorReturn(this, (PolygonAnnotationElement.__proto__ || Object.getPrototypeOf(PolygonAnnotationElement)).call(this, parameters));\n          _this15.containerClassName = 'polygonAnnotation';\n          _this15.svgElementName = 'svg:polygon';\n          return _this15;\n        }\n        return PolygonAnnotationElement;\n      }(PolylineAnnotationElement);\n      var HighlightAnnotationElement = function (_AnnotationElement9) {\n        _inherits(HighlightAnnotationElement, _AnnotationElement9);\n        function HighlightAnnotationElement(parameters) {\n          _classCallCheck(this, HighlightAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (HighlightAnnotationElement.__proto__ || Object.getPrototypeOf(HighlightAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(HighlightAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'highlightAnnotation';\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n            return this.container;\n          }\n        }]);\n        return HighlightAnnotationElement;\n      }(AnnotationElement);\n      var UnderlineAnnotationElement = function (_AnnotationElement10) {\n        _inherits(UnderlineAnnotationElement, _AnnotationElement10);\n        function UnderlineAnnotationElement(parameters) {\n          _classCallCheck(this, UnderlineAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (UnderlineAnnotationElement.__proto__ || Object.getPrototypeOf(UnderlineAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(UnderlineAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'underlineAnnotation';\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n            return this.container;\n          }\n        }]);\n        return UnderlineAnnotationElement;\n      }(AnnotationElement);\n      var SquigglyAnnotationElement = function (_AnnotationElement11) {\n        _inherits(SquigglyAnnotationElement, _AnnotationElement11);\n        function SquigglyAnnotationElement(parameters) {\n          _classCallCheck(this, SquigglyAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (SquigglyAnnotationElement.__proto__ || Object.getPrototypeOf(SquigglyAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(SquigglyAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'squigglyAnnotation';\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n            return this.container;\n          }\n        }]);\n        return SquigglyAnnotationElement;\n      }(AnnotationElement);\n      var StrikeOutAnnotationElement = function (_AnnotationElement12) {\n        _inherits(StrikeOutAnnotationElement, _AnnotationElement12);\n        function StrikeOutAnnotationElement(parameters) {\n          _classCallCheck(this, StrikeOutAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (StrikeOutAnnotationElement.__proto__ || Object.getPrototypeOf(StrikeOutAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(StrikeOutAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'strikeoutAnnotation';\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n            return this.container;\n          }\n        }]);\n        return StrikeOutAnnotationElement;\n      }(AnnotationElement);\n      var StampAnnotationElement = function (_AnnotationElement13) {\n        _inherits(StampAnnotationElement, _AnnotationElement13);\n        function StampAnnotationElement(parameters) {\n          _classCallCheck(this, StampAnnotationElement);\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          return _possibleConstructorReturn(this, (StampAnnotationElement.__proto__ || Object.getPrototypeOf(StampAnnotationElement)).call(this, parameters, isRenderable, true));\n        }\n        _createClass(StampAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'stampAnnotation';\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n            return this.container;\n          }\n        }]);\n        return StampAnnotationElement;\n      }(AnnotationElement);\n      var FileAttachmentAnnotationElement = function (_AnnotationElement14) {\n        _inherits(FileAttachmentAnnotationElement, _AnnotationElement14);\n        function FileAttachmentAnnotationElement(parameters) {\n          _classCallCheck(this, FileAttachmentAnnotationElement);\n          var _this21 = _possibleConstructorReturn(this, (FileAttachmentAnnotationElement.__proto__ || Object.getPrototypeOf(FileAttachmentAnnotationElement)).call(this, parameters, true));\n          var file = _this21.data.file;\n          _this21.filename = (0, _dom_utils.getFilenameFromUrl)(file.filename);\n          _this21.content = file.content;\n          _this21.linkService.onFileAttachmentAnnotation({\n            id: (0, _util.stringToPDFString)(file.filename),\n            filename: file.filename,\n            content: file.content\n          });\n          return _this21;\n        }\n        _createClass(FileAttachmentAnnotationElement, [{\n          key: 'render',\n          value: function render() {\n            this.container.className = 'fileAttachmentAnnotation';\n            var trigger = document.createElement('div');\n            trigger.style.height = this.container.style.height;\n            trigger.style.width = this.container.style.width;\n            trigger.addEventListener('dblclick', this._download.bind(this));\n            if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n              this._createPopup(this.container, trigger, this.data);\n            }\n            this.container.appendChild(trigger);\n            return this.container;\n          }\n        }, {\n          key: '_download',\n          value: function _download() {\n            if (!this.downloadManager) {\n              (0, _util.warn)('Download cannot be started due to unavailable download manager');\n              return;\n            }\n            this.downloadManager.downloadData(this.content, this.filename, '');\n          }\n        }]);\n        return FileAttachmentAnnotationElement;\n      }(AnnotationElement);\n      var AnnotationLayer = function () {\n        function AnnotationLayer() {\n          _classCallCheck(this, AnnotationLayer);\n        }\n        _createClass(AnnotationLayer, null, [{\n          key: 'render',\n          value: function render(parameters) {\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n              if (!data) {\n                continue;\n              }\n              var element = AnnotationElementFactory.create({\n                data: data,\n                layer: parameters.div,\n                page: parameters.page,\n                viewport: parameters.viewport,\n                linkService: parameters.linkService,\n                downloadManager: parameters.downloadManager,\n                imageResourcesPath: parameters.imageResourcesPath || (0, _dom_utils.getDefaultSetting)('imageResourcesPath'),\n                renderInteractiveForms: parameters.renderInteractiveForms || false,\n                svgFactory: new _dom_utils.DOMSVGFactory()\n              });\n              if (element.isRenderable) {\n                parameters.div.appendChild(element.render());\n              }\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update(parameters) {\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n              var element = parameters.div.querySelector('[data-annotation-id=\"' + data.id + '\"]');\n              if (element) {\n                _dom_utils.CustomStyle.setProp('transform', element, 'matrix(' + parameters.viewport.transform.join(',') + ')');\n              }\n            }\n            parameters.div.removeAttribute('hidden');\n          }\n        }]);\n        return AnnotationLayer;\n      }();\n      exports.AnnotationLayer = AnnotationLayer;\n\n      /***/\n    }, /* 60 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.renderTextLayer = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var _dom_utils = __w_pdfjs_require__(10);\n      var renderTextLayer = function renderTextLayerClosure() {\n        var MAX_TEXT_DIVS_TO_RENDER = 100000;\n        var NonWhitespaceRegexp = /\\S/;\n        function isAllWhitespace(str) {\n          return !NonWhitespaceRegexp.test(str);\n        }\n        var styleBuf = ['left: ', 0, 'px; top: ', 0, 'px; font-size: ', 0, 'px; font-family: ', '', ';'];\n        function appendText(task, geom, styles) {\n          var textDiv = document.createElement('div');\n          var textDivProperties = {\n            style: null,\n            angle: 0,\n            canvasWidth: 0,\n            isWhitespace: false,\n            originalTransform: null,\n            paddingBottom: 0,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            scale: 1\n          };\n          task._textDivs.push(textDiv);\n          if (isAllWhitespace(geom.str)) {\n            textDivProperties.isWhitespace = true;\n            task._textDivProperties.set(textDiv, textDivProperties);\n            return;\n          }\n          var tx = _util.Util.transform(task._viewport.transform, geom.transform);\n          var angle = Math.atan2(tx[1], tx[0]);\n          var style = styles[geom.fontName];\n          if (style.vertical) {\n            angle += Math.PI / 2;\n          }\n          var fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n          var fontAscent = fontHeight;\n          if (style.ascent) {\n            fontAscent = style.ascent * fontAscent;\n          } else if (style.descent) {\n            fontAscent = (1 + style.descent) * fontAscent;\n          }\n          var left;\n          var top;\n          if (angle === 0) {\n            left = tx[4];\n            top = tx[5] - fontAscent;\n          } else {\n            left = tx[4] + fontAscent * Math.sin(angle);\n            top = tx[5] - fontAscent * Math.cos(angle);\n          }\n          styleBuf[1] = left;\n          styleBuf[3] = top;\n          styleBuf[5] = fontHeight;\n          styleBuf[7] = style.fontFamily;\n          textDivProperties.style = styleBuf.join('');\n          textDiv.setAttribute('style', textDivProperties.style);\n          textDiv.textContent = geom.str;\n          if ((0, _dom_utils.getDefaultSetting)('pdfBug')) {\n            textDiv.dataset.fontName = geom.fontName;\n          }\n          if (angle !== 0) {\n            textDivProperties.angle = angle * (180 / Math.PI);\n          }\n          if (geom.str.length > 1) {\n            if (style.vertical) {\n              textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n            } else {\n              textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n            }\n          }\n          task._textDivProperties.set(textDiv, textDivProperties);\n          if (task._textContentStream) {\n            task._layoutText(textDiv);\n          }\n          if (task._enhanceTextSelection) {\n            var angleCos = 1,\n              angleSin = 0;\n            if (angle !== 0) {\n              angleCos = Math.cos(angle);\n              angleSin = Math.sin(angle);\n            }\n            var divWidth = (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n            var divHeight = fontHeight;\n            var m, b;\n            if (angle !== 0) {\n              m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n              b = _util.Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n            } else {\n              b = [left, top, left + divWidth, top + divHeight];\n            }\n            task._bounds.push({\n              left: b[0],\n              top: b[1],\n              right: b[2],\n              bottom: b[3],\n              div: textDiv,\n              size: [divWidth, divHeight],\n              m: m\n            });\n          }\n        }\n        function render(task) {\n          if (task._canceled) {\n            return;\n          }\n          var textDivs = task._textDivs;\n          var capability = task._capability;\n          var textDivsLength = textDivs.length;\n          if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n            task._renderingDone = true;\n            capability.resolve();\n            return;\n          }\n          if (!task._textContentStream) {\n            for (var i = 0; i < textDivsLength; i++) {\n              task._layoutText(textDivs[i]);\n            }\n          }\n          task._renderingDone = true;\n          capability.resolve();\n        }\n        function expand(task) {\n          var bounds = task._bounds;\n          var viewport = task._viewport;\n          var expanded = expandBounds(viewport.width, viewport.height, bounds);\n          for (var i = 0; i < expanded.length; i++) {\n            var div = bounds[i].div;\n            var divProperties = task._textDivProperties.get(div);\n            if (divProperties.angle === 0) {\n              divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n              divProperties.paddingTop = bounds[i].top - expanded[i].top;\n              divProperties.paddingRight = expanded[i].right - bounds[i].right;\n              divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n              task._textDivProperties.set(div, divProperties);\n              continue;\n            }\n            var e = expanded[i],\n              b = bounds[i];\n            var m = b.m,\n              c = m[0],\n              s = m[1];\n            var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n            var ts = new Float64Array(64);\n            points.forEach(function (p, i) {\n              var t = _util.Util.applyTransform(p, m);\n              ts[i + 0] = c && (e.left - t[0]) / c;\n              ts[i + 4] = s && (e.top - t[1]) / s;\n              ts[i + 8] = c && (e.right - t[0]) / c;\n              ts[i + 12] = s && (e.bottom - t[1]) / s;\n              ts[i + 16] = s && (e.left - t[0]) / -s;\n              ts[i + 20] = c && (e.top - t[1]) / c;\n              ts[i + 24] = s && (e.right - t[0]) / -s;\n              ts[i + 28] = c && (e.bottom - t[1]) / c;\n              ts[i + 32] = c && (e.left - t[0]) / -c;\n              ts[i + 36] = s && (e.top - t[1]) / -s;\n              ts[i + 40] = c && (e.right - t[0]) / -c;\n              ts[i + 44] = s && (e.bottom - t[1]) / -s;\n              ts[i + 48] = s && (e.left - t[0]) / s;\n              ts[i + 52] = c && (e.top - t[1]) / -c;\n              ts[i + 56] = s && (e.right - t[0]) / s;\n              ts[i + 60] = c && (e.bottom - t[1]) / -c;\n            });\n            var findPositiveMin = function findPositiveMin(ts, offset, count) {\n              var result = 0;\n              for (var i = 0; i < count; i++) {\n                var t = ts[offset++];\n                if (t > 0) {\n                  result = result ? Math.min(t, result) : t;\n                }\n              }\n              return result;\n            };\n            var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n            divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n            divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n            divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n            divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n            task._textDivProperties.set(div, divProperties);\n          }\n        }\n        function expandBounds(width, height, boxes) {\n          var bounds = boxes.map(function (box, i) {\n            return {\n              x1: box.left,\n              y1: box.top,\n              x2: box.right,\n              y2: box.bottom,\n              index: i,\n              x1New: undefined,\n              x2New: undefined\n            };\n          });\n          expandBoundsLTR(width, bounds);\n          var expanded = new Array(boxes.length);\n          bounds.forEach(function (b) {\n            var i = b.index;\n            expanded[i] = {\n              left: b.x1New,\n              top: 0,\n              right: b.x2New,\n              bottom: 0\n            };\n          });\n          boxes.map(function (box, i) {\n            var e = expanded[i],\n              b = bounds[i];\n            b.x1 = box.top;\n            b.y1 = width - e.right;\n            b.x2 = box.bottom;\n            b.y2 = width - e.left;\n            b.index = i;\n            b.x1New = undefined;\n            b.x2New = undefined;\n          });\n          expandBoundsLTR(height, bounds);\n          bounds.forEach(function (b) {\n            var i = b.index;\n            expanded[i].top = b.x1New;\n            expanded[i].bottom = b.x2New;\n          });\n          return expanded;\n        }\n        function expandBoundsLTR(width, bounds) {\n          bounds.sort(function (a, b) {\n            return a.x1 - b.x1 || a.index - b.index;\n          });\n          var fakeBoundary = {\n            x1: -Infinity,\n            y1: -Infinity,\n            x2: 0,\n            y2: Infinity,\n            index: -1,\n            x1New: 0,\n            x2New: 0\n          };\n          var horizon = [{\n            start: -Infinity,\n            end: Infinity,\n            boundary: fakeBoundary\n          }];\n          bounds.forEach(function (boundary) {\n            var i = 0;\n            while (i < horizon.length && horizon[i].end <= boundary.y1) {\n              i++;\n            }\n            var j = horizon.length - 1;\n            while (j >= 0 && horizon[j].start >= boundary.y2) {\n              j--;\n            }\n            var horizonPart, affectedBoundary;\n            var q,\n              k,\n              maxXNew = -Infinity;\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              var xNew;\n              if (affectedBoundary.x2 > boundary.x1) {\n                xNew = affectedBoundary.index > boundary.index ? affectedBoundary.x1New : boundary.x1;\n              } else if (affectedBoundary.x2New === undefined) {\n                xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n              } else {\n                xNew = affectedBoundary.x2New;\n              }\n              if (xNew > maxXNew) {\n                maxXNew = xNew;\n              }\n            }\n            boundary.x1New = maxXNew;\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              if (affectedBoundary.x2New === undefined) {\n                if (affectedBoundary.x2 > boundary.x1) {\n                  if (affectedBoundary.index > boundary.index) {\n                    affectedBoundary.x2New = affectedBoundary.x2;\n                  }\n                } else {\n                  affectedBoundary.x2New = maxXNew;\n                }\n              } else if (affectedBoundary.x2New > maxXNew) {\n                affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n              }\n            }\n            var changedHorizon = [],\n              lastBoundary = null;\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              var useBoundary = affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n              if (lastBoundary === useBoundary) {\n                changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n              } else {\n                changedHorizon.push({\n                  start: horizonPart.start,\n                  end: horizonPart.end,\n                  boundary: useBoundary\n                });\n                lastBoundary = useBoundary;\n              }\n            }\n            if (horizon[i].start < boundary.y1) {\n              changedHorizon[0].start = boundary.y1;\n              changedHorizon.unshift({\n                start: horizon[i].start,\n                end: boundary.y1,\n                boundary: horizon[i].boundary\n              });\n            }\n            if (boundary.y2 < horizon[j].end) {\n              changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n              changedHorizon.push({\n                start: boundary.y2,\n                end: horizon[j].end,\n                boundary: horizon[j].boundary\n              });\n            }\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              if (affectedBoundary.x2New !== undefined) {\n                continue;\n              }\n              var used = false;\n              for (k = i - 1; !used && k >= 0 && horizon[k].start >= affectedBoundary.y1; k--) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n              for (k = j + 1; !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2; k++) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n              for (k = 0; !used && k < changedHorizon.length; k++) {\n                used = changedHorizon[k].boundary === affectedBoundary;\n              }\n              if (!used) {\n                affectedBoundary.x2New = maxXNew;\n              }\n            }\n            Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n          });\n          horizon.forEach(function (horizonPart) {\n            var affectedBoundary = horizonPart.boundary;\n            if (affectedBoundary.x2New === undefined) {\n              affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n            }\n          });\n        }\n        function TextLayerRenderTask(_ref) {\n          var textContent = _ref.textContent,\n            textContentStream = _ref.textContentStream,\n            container = _ref.container,\n            viewport = _ref.viewport,\n            textDivs = _ref.textDivs,\n            textContentItemsStr = _ref.textContentItemsStr,\n            enhanceTextSelection = _ref.enhanceTextSelection;\n          this._textContent = textContent;\n          this._textContentStream = textContentStream;\n          this._container = container;\n          this._viewport = viewport;\n          this._textDivs = textDivs || [];\n          this._textContentItemsStr = textContentItemsStr || [];\n          this._enhanceTextSelection = !!enhanceTextSelection;\n          this._reader = null;\n          this._layoutTextLastFontSize = null;\n          this._layoutTextLastFontFamily = null;\n          this._layoutTextCtx = null;\n          this._textDivProperties = new WeakMap();\n          this._renderingDone = false;\n          this._canceled = false;\n          this._capability = (0, _util.createPromiseCapability)();\n          this._renderTimer = null;\n          this._bounds = [];\n        }\n        TextLayerRenderTask.prototype = {\n          get promise() {\n            return this._capability.promise;\n          },\n          cancel: function TextLayer_cancel() {\n            if (this._reader) {\n              this._reader.cancel(new _util.AbortException('text layer task cancelled'));\n              this._reader = null;\n            }\n            this._canceled = true;\n            if (this._renderTimer !== null) {\n              clearTimeout(this._renderTimer);\n              this._renderTimer = null;\n            }\n            this._capability.reject('canceled');\n          },\n          _processItems: function _processItems(items, styleCache) {\n            for (var i = 0, len = items.length; i < len; i++) {\n              this._textContentItemsStr.push(items[i].str);\n              appendText(this, items[i], styleCache);\n            }\n          },\n          _layoutText: function _layoutText(textDiv) {\n            var textLayerFrag = this._container;\n            var textDivProperties = this._textDivProperties.get(textDiv);\n            if (textDivProperties.isWhitespace) {\n              return;\n            }\n            var fontSize = textDiv.style.fontSize;\n            var fontFamily = textDiv.style.fontFamily;\n            if (fontSize !== this._layoutTextLastFontSize || fontFamily !== this._layoutTextLastFontFamily) {\n              this._layoutTextCtx.font = fontSize + ' ' + fontFamily;\n              this._lastFontSize = fontSize;\n              this._lastFontFamily = fontFamily;\n            }\n            var width = this._layoutTextCtx.measureText(textDiv.textContent).width;\n            var transform = '';\n            if (textDivProperties.canvasWidth !== 0 && width > 0) {\n              textDivProperties.scale = textDivProperties.canvasWidth / width;\n              transform = 'scaleX(' + textDivProperties.scale + ')';\n            }\n            if (textDivProperties.angle !== 0) {\n              transform = 'rotate(' + textDivProperties.angle + 'deg) ' + transform;\n            }\n            if (transform !== '') {\n              textDivProperties.originalTransform = transform;\n              _dom_utils.CustomStyle.setProp('transform', textDiv, transform);\n            }\n            this._textDivProperties.set(textDiv, textDivProperties);\n            textLayerFrag.appendChild(textDiv);\n          },\n          _render: function TextLayer_render(timeout) {\n            var _this = this;\n            var capability = (0, _util.createPromiseCapability)();\n            var styleCache = Object.create(null);\n            var canvas = document.createElement('canvas');\n            canvas.mozOpaque = true;\n            this._layoutTextCtx = canvas.getContext('2d', {\n              alpha: false\n            });\n            if (this._textContent) {\n              var textItems = this._textContent.items;\n              var textStyles = this._textContent.styles;\n              this._processItems(textItems, textStyles);\n              capability.resolve();\n            } else if (this._textContentStream) {\n              var pump = function pump() {\n                _this._reader.read().then(function (_ref2) {\n                  var value = _ref2.value,\n                    done = _ref2.done;\n                  if (done) {\n                    capability.resolve();\n                    return;\n                  }\n                  _util.Util.extendObj(styleCache, value.styles);\n                  _this._processItems(value.items, styleCache);\n                  pump();\n                }, capability.reject);\n              };\n              this._reader = this._textContentStream.getReader();\n              pump();\n            } else {\n              throw new Error('Neither \"textContent\" nor \"textContentStream\"' + ' parameters specified.');\n            }\n            capability.promise.then(function () {\n              styleCache = null;\n              if (!timeout) {\n                render(_this);\n              } else {\n                _this._renderTimer = setTimeout(function () {\n                  render(_this);\n                  _this._renderTimer = null;\n                }, timeout);\n              }\n            }, this._capability.reject);\n          },\n          expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n            if (!this._enhanceTextSelection || !this._renderingDone) {\n              return;\n            }\n            if (this._bounds !== null) {\n              expand(this);\n              this._bounds = null;\n            }\n            for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n              var div = this._textDivs[i];\n              var divProperties = this._textDivProperties.get(div);\n              if (divProperties.isWhitespace) {\n                continue;\n              }\n              if (expandDivs) {\n                var transform = '',\n                  padding = '';\n                if (divProperties.scale !== 1) {\n                  transform = 'scaleX(' + divProperties.scale + ')';\n                }\n                if (divProperties.angle !== 0) {\n                  transform = 'rotate(' + divProperties.angle + 'deg) ' + transform;\n                }\n                if (divProperties.paddingLeft !== 0) {\n                  padding += ' padding-left: ' + divProperties.paddingLeft / divProperties.scale + 'px;';\n                  transform += ' translateX(' + -divProperties.paddingLeft / divProperties.scale + 'px)';\n                }\n                if (divProperties.paddingTop !== 0) {\n                  padding += ' padding-top: ' + divProperties.paddingTop + 'px;';\n                  transform += ' translateY(' + -divProperties.paddingTop + 'px)';\n                }\n                if (divProperties.paddingRight !== 0) {\n                  padding += ' padding-right: ' + divProperties.paddingRight / divProperties.scale + 'px;';\n                }\n                if (divProperties.paddingBottom !== 0) {\n                  padding += ' padding-bottom: ' + divProperties.paddingBottom + 'px;';\n                }\n                if (padding !== '') {\n                  div.setAttribute('style', divProperties.style + padding);\n                }\n                if (transform !== '') {\n                  _dom_utils.CustomStyle.setProp('transform', div, transform);\n                }\n              } else {\n                div.style.padding = 0;\n                _dom_utils.CustomStyle.setProp('transform', div, divProperties.originalTransform || '');\n              }\n            }\n          }\n        };\n        function renderTextLayer(renderParameters) {\n          var task = new TextLayerRenderTask({\n            textContent: renderParameters.textContent,\n            textContentStream: renderParameters.textContentStream,\n            container: renderParameters.container,\n            viewport: renderParameters.viewport,\n            textDivs: renderParameters.textDivs,\n            textContentItemsStr: renderParameters.textContentItemsStr,\n            enhanceTextSelection: renderParameters.enhanceTextSelection\n          });\n          task._render(renderParameters.timeout);\n          return task;\n        }\n        return renderTextLayer;\n      }();\n      exports.renderTextLayer = renderTextLayer;\n\n      /***/\n    }, /* 61 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SVGGraphics = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var _dom_utils = __w_pdfjs_require__(10);\n      var SVGGraphics = function SVGGraphics() {\n        throw new Error('Not implemented: SVGGraphics');\n      };\n      {\n        var SVG_DEFAULTS = {\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fillColor: '#000000'\n        };\n        var convertImgDataToPng = function convertImgDataToPngClosure() {\n          var PNG_HEADER = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n          var CHUNK_WRAPPER_SIZE = 12;\n          var crcTable = new Int32Array(256);\n          for (var i = 0; i < 256; i++) {\n            var c = i;\n            for (var h = 0; h < 8; h++) {\n              if (c & 1) {\n                c = 0xedB88320 ^ c >> 1 & 0x7fffffff;\n              } else {\n                c = c >> 1 & 0x7fffffff;\n              }\n            }\n            crcTable[i] = c;\n          }\n          function crc32(data, start, end) {\n            var crc = -1;\n            for (var i = start; i < end; i++) {\n              var a = (crc ^ data[i]) & 0xff;\n              var b = crcTable[a];\n              crc = crc >>> 8 ^ b;\n            }\n            return crc ^ -1;\n          }\n          function writePngChunk(type, body, data, offset) {\n            var p = offset;\n            var len = body.length;\n            data[p] = len >> 24 & 0xff;\n            data[p + 1] = len >> 16 & 0xff;\n            data[p + 2] = len >> 8 & 0xff;\n            data[p + 3] = len & 0xff;\n            p += 4;\n            data[p] = type.charCodeAt(0) & 0xff;\n            data[p + 1] = type.charCodeAt(1) & 0xff;\n            data[p + 2] = type.charCodeAt(2) & 0xff;\n            data[p + 3] = type.charCodeAt(3) & 0xff;\n            p += 4;\n            data.set(body, p);\n            p += body.length;\n            var crc = crc32(data, offset + 4, p);\n            data[p] = crc >> 24 & 0xff;\n            data[p + 1] = crc >> 16 & 0xff;\n            data[p + 2] = crc >> 8 & 0xff;\n            data[p + 3] = crc & 0xff;\n          }\n          function adler32(data, start, end) {\n            var a = 1;\n            var b = 0;\n            for (var i = start; i < end; ++i) {\n              a = (a + (data[i] & 0xff)) % 65521;\n              b = (b + a) % 65521;\n            }\n            return b << 16 | a;\n          }\n          function deflateSync(literals) {\n            if (!(0, _util.isNodeJS)()) {\n              return deflateSyncUncompressed(literals);\n            }\n            try {\n              var input;\n              if (parseInt(process.versions.node) >= 8) {\n                input = literals;\n              } else {\n                input = new Buffer(literals);\n              }\n              var output = require('zlib').deflateSync(input, {\n                level: 9\n              });\n              return output instanceof Uint8Array ? output : new Uint8Array(output);\n            } catch (e) {\n              (0, _util.warn)('Not compressing PNG because zlib.deflateSync is unavailable: ' + e);\n            }\n            return deflateSyncUncompressed(literals);\n          }\n          function deflateSyncUncompressed(literals) {\n            var len = literals.length;\n            var maxBlockLength = 0xFFFF;\n            var deflateBlocks = Math.ceil(len / maxBlockLength);\n            var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n            var pi = 0;\n            idat[pi++] = 0x78;\n            idat[pi++] = 0x9c;\n            var pos = 0;\n            while (len > maxBlockLength) {\n              idat[pi++] = 0x00;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0x00;\n              idat[pi++] = 0x00;\n              idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n              pi += maxBlockLength;\n              pos += maxBlockLength;\n              len -= maxBlockLength;\n            }\n            idat[pi++] = 0x01;\n            idat[pi++] = len & 0xff;\n            idat[pi++] = len >> 8 & 0xff;\n            idat[pi++] = ~len & 0xffff & 0xff;\n            idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n            idat.set(literals.subarray(pos), pi);\n            pi += literals.length - pos;\n            var adler = adler32(literals, 0, literals.length);\n            idat[pi++] = adler >> 24 & 0xff;\n            idat[pi++] = adler >> 16 & 0xff;\n            idat[pi++] = adler >> 8 & 0xff;\n            idat[pi++] = adler & 0xff;\n            return idat;\n          }\n          function encode(imgData, kind, forceDataSchema) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var bitDepth, colorType, lineSize;\n            var bytes = imgData.data;\n            switch (kind) {\n              case _util.ImageKind.GRAYSCALE_1BPP:\n                colorType = 0;\n                bitDepth = 1;\n                lineSize = width + 7 >> 3;\n                break;\n              case _util.ImageKind.RGB_24BPP:\n                colorType = 2;\n                bitDepth = 8;\n                lineSize = width * 3;\n                break;\n              case _util.ImageKind.RGBA_32BPP:\n                colorType = 6;\n                bitDepth = 8;\n                lineSize = width * 4;\n                break;\n              default:\n                throw new Error('invalid format');\n            }\n            var literals = new Uint8Array((1 + lineSize) * height);\n            var offsetLiterals = 0,\n              offsetBytes = 0;\n            var y, i;\n            for (y = 0; y < height; ++y) {\n              literals[offsetLiterals++] = 0;\n              literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize), offsetLiterals);\n              offsetBytes += lineSize;\n              offsetLiterals += lineSize;\n            }\n            if (kind === _util.ImageKind.GRAYSCALE_1BPP) {\n              offsetLiterals = 0;\n              for (y = 0; y < height; y++) {\n                offsetLiterals++;\n                for (i = 0; i < lineSize; i++) {\n                  literals[offsetLiterals++] ^= 0xFF;\n                }\n              }\n            }\n            var ihdr = new Uint8Array([width >> 24 & 0xff, width >> 16 & 0xff, width >> 8 & 0xff, width & 0xff, height >> 24 & 0xff, height >> 16 & 0xff, height >> 8 & 0xff, height & 0xff, bitDepth, colorType, 0x00, 0x00, 0x00]);\n            var idat = deflateSync(literals);\n            var pngLength = PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n            var data = new Uint8Array(pngLength);\n            var offset = 0;\n            data.set(PNG_HEADER, offset);\n            offset += PNG_HEADER.length;\n            writePngChunk('IHDR', ihdr, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n            writePngChunk('IDATA', idat, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + idat.length;\n            writePngChunk('IEND', new Uint8Array(0), data, offset);\n            return (0, _util.createObjectURL)(data, 'image/png', forceDataSchema);\n          }\n          return function convertImgDataToPng(imgData, forceDataSchema) {\n            var kind = imgData.kind === undefined ? _util.ImageKind.GRAYSCALE_1BPP : imgData.kind;\n            return encode(imgData, kind, forceDataSchema);\n          };\n        }();\n        var SVGExtraState = function SVGExtraStateClosure() {\n          function SVGExtraState() {\n            this.fontSizeScale = 1;\n            this.fontWeight = SVG_DEFAULTS.fontWeight;\n            this.fontSize = 0;\n            this.textMatrix = _util.IDENTITY_MATRIX;\n            this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n            this.leading = 0;\n            this.x = 0;\n            this.y = 0;\n            this.lineX = 0;\n            this.lineY = 0;\n            this.charSpacing = 0;\n            this.wordSpacing = 0;\n            this.textHScale = 1;\n            this.textRise = 0;\n            this.fillColor = SVG_DEFAULTS.fillColor;\n            this.strokeColor = '#000000';\n            this.fillAlpha = 1;\n            this.strokeAlpha = 1;\n            this.lineWidth = 1;\n            this.lineJoin = '';\n            this.lineCap = '';\n            this.miterLimit = 0;\n            this.dashArray = [];\n            this.dashPhase = 0;\n            this.dependencies = [];\n            this.activeClipUrl = null;\n            this.clipGroup = null;\n            this.maskId = '';\n          }\n          SVGExtraState.prototype = {\n            clone: function SVGExtraState_clone() {\n              return Object.create(this);\n            },\n            setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n              this.x = x;\n              this.y = y;\n            }\n          };\n          return SVGExtraState;\n        }();\n        exports.SVGGraphics = SVGGraphics = function SVGGraphicsClosure() {\n          function opListToTree(opList) {\n            var opTree = [];\n            var tmp = [];\n            var opListLen = opList.length;\n            for (var x = 0; x < opListLen; x++) {\n              if (opList[x].fn === 'save') {\n                opTree.push({\n                  'fnId': 92,\n                  'fn': 'group',\n                  'items': []\n                });\n                tmp.push(opTree);\n                opTree = opTree[opTree.length - 1].items;\n                continue;\n              }\n              if (opList[x].fn === 'restore') {\n                opTree = tmp.pop();\n              } else {\n                opTree.push(opList[x]);\n              }\n            }\n            return opTree;\n          }\n          function pf(value) {\n            if (Number.isInteger(value)) {\n              return value.toString();\n            }\n            var s = value.toFixed(10);\n            var i = s.length - 1;\n            if (s[i] !== '0') {\n              return s;\n            }\n            do {\n              i--;\n            } while (s[i] === '0');\n            return s.substr(0, s[i] === '.' ? i : i + 1);\n          }\n          function pm(m) {\n            if (m[4] === 0 && m[5] === 0) {\n              if (m[1] === 0 && m[2] === 0) {\n                if (m[0] === 1 && m[3] === 1) {\n                  return '';\n                }\n                return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n              }\n              if (m[0] === m[3] && m[1] === -m[2]) {\n                var a = Math.acos(m[0]) * 180 / Math.PI;\n                return 'rotate(' + pf(a) + ')';\n              }\n            } else {\n              if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n                return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n              }\n            }\n            return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' + pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n          }\n          function SVGGraphics(commonObjs, objs, forceDataSchema) {\n            this.svgFactory = new _dom_utils.DOMSVGFactory();\n            this.current = new SVGExtraState();\n            this.transformMatrix = _util.IDENTITY_MATRIX;\n            this.transformStack = [];\n            this.extraStack = [];\n            this.commonObjs = commonObjs;\n            this.objs = objs;\n            this.pendingClip = null;\n            this.pendingEOFill = false;\n            this.embedFonts = false;\n            this.embeddedFonts = Object.create(null);\n            this.cssStyle = null;\n            this.forceDataSchema = !!forceDataSchema;\n          }\n          var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n          var XLINK_NS = 'http://www.w3.org/1999/xlink';\n          var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n          var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n          var clipCount = 0;\n          var maskCount = 0;\n          SVGGraphics.prototype = {\n            save: function SVGGraphics_save() {\n              this.transformStack.push(this.transformMatrix);\n              var old = this.current;\n              this.extraStack.push(old);\n              this.current = old.clone();\n            },\n            restore: function SVGGraphics_restore() {\n              this.transformMatrix = this.transformStack.pop();\n              this.current = this.extraStack.pop();\n              this.pendingClip = null;\n              this.tgrp = null;\n            },\n            group: function SVGGraphics_group(items) {\n              this.save();\n              this.executeOpTree(items);\n              this.restore();\n            },\n            loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n              var _this = this;\n              var fnArray = operatorList.fnArray;\n              var fnArrayLen = fnArray.length;\n              var argsArray = operatorList.argsArray;\n              for (var i = 0; i < fnArrayLen; i++) {\n                if (_util.OPS.dependency === fnArray[i]) {\n                  var deps = argsArray[i];\n                  for (var n = 0, nn = deps.length; n < nn; n++) {\n                    var obj = deps[n];\n                    var common = obj.substring(0, 2) === 'g_';\n                    var promise;\n                    if (common) {\n                      promise = new Promise(function (resolve) {\n                        _this.commonObjs.get(obj, resolve);\n                      });\n                    } else {\n                      promise = new Promise(function (resolve) {\n                        _this.objs.get(obj, resolve);\n                      });\n                    }\n                    this.current.dependencies.push(promise);\n                  }\n                }\n              }\n              return Promise.all(this.current.dependencies);\n            },\n            transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n              var transformMatrix = [a, b, c, d, e, f];\n              this.transformMatrix = _util.Util.transform(this.transformMatrix, transformMatrix);\n              this.tgrp = null;\n            },\n            getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n              var _this2 = this;\n              this.viewport = viewport;\n              var svgElement = this._initialize(viewport);\n              return this.loadDependencies(operatorList).then(function () {\n                _this2.transformMatrix = _util.IDENTITY_MATRIX;\n                var opTree = _this2.convertOpList(operatorList);\n                _this2.executeOpTree(opTree);\n                return svgElement;\n              });\n            },\n            convertOpList: function SVGGraphics_convertOpList(operatorList) {\n              var argsArray = operatorList.argsArray;\n              var fnArray = operatorList.fnArray;\n              var fnArrayLen = fnArray.length;\n              var REVOPS = [];\n              var opList = [];\n              for (var op in _util.OPS) {\n                REVOPS[_util.OPS[op]] = op;\n              }\n              for (var x = 0; x < fnArrayLen; x++) {\n                var fnId = fnArray[x];\n                opList.push({\n                  'fnId': fnId,\n                  'fn': REVOPS[fnId],\n                  'args': argsArray[x]\n                });\n              }\n              return opListToTree(opList);\n            },\n            executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n              var opTreeLen = opTree.length;\n              for (var x = 0; x < opTreeLen; x++) {\n                var fn = opTree[x].fn;\n                var fnId = opTree[x].fnId;\n                var args = opTree[x].args;\n                switch (fnId | 0) {\n                  case _util.OPS.beginText:\n                    this.beginText();\n                    break;\n                  case _util.OPS.setLeading:\n                    this.setLeading(args);\n                    break;\n                  case _util.OPS.setLeadingMoveText:\n                    this.setLeadingMoveText(args[0], args[1]);\n                    break;\n                  case _util.OPS.setFont:\n                    this.setFont(args);\n                    break;\n                  case _util.OPS.showText:\n                    this.showText(args[0]);\n                    break;\n                  case _util.OPS.showSpacedText:\n                    this.showText(args[0]);\n                    break;\n                  case _util.OPS.endText:\n                    this.endText();\n                    break;\n                  case _util.OPS.moveText:\n                    this.moveText(args[0], args[1]);\n                    break;\n                  case _util.OPS.setCharSpacing:\n                    this.setCharSpacing(args[0]);\n                    break;\n                  case _util.OPS.setWordSpacing:\n                    this.setWordSpacing(args[0]);\n                    break;\n                  case _util.OPS.setHScale:\n                    this.setHScale(args[0]);\n                    break;\n                  case _util.OPS.setTextMatrix:\n                    this.setTextMatrix(args[0], args[1], args[2], args[3], args[4], args[5]);\n                    break;\n                  case _util.OPS.setTextRise:\n                    this.setTextRise(args[0]);\n                    break;\n                  case _util.OPS.setLineWidth:\n                    this.setLineWidth(args[0]);\n                    break;\n                  case _util.OPS.setLineJoin:\n                    this.setLineJoin(args[0]);\n                    break;\n                  case _util.OPS.setLineCap:\n                    this.setLineCap(args[0]);\n                    break;\n                  case _util.OPS.setMiterLimit:\n                    this.setMiterLimit(args[0]);\n                    break;\n                  case _util.OPS.setFillRGBColor:\n                    this.setFillRGBColor(args[0], args[1], args[2]);\n                    break;\n                  case _util.OPS.setStrokeRGBColor:\n                    this.setStrokeRGBColor(args[0], args[1], args[2]);\n                    break;\n                  case _util.OPS.setDash:\n                    this.setDash(args[0], args[1]);\n                    break;\n                  case _util.OPS.setGState:\n                    this.setGState(args[0]);\n                    break;\n                  case _util.OPS.fill:\n                    this.fill();\n                    break;\n                  case _util.OPS.eoFill:\n                    this.eoFill();\n                    break;\n                  case _util.OPS.stroke:\n                    this.stroke();\n                    break;\n                  case _util.OPS.fillStroke:\n                    this.fillStroke();\n                    break;\n                  case _util.OPS.eoFillStroke:\n                    this.eoFillStroke();\n                    break;\n                  case _util.OPS.clip:\n                    this.clip('nonzero');\n                    break;\n                  case _util.OPS.eoClip:\n                    this.clip('evenodd');\n                    break;\n                  case _util.OPS.paintSolidColorImageMask:\n                    this.paintSolidColorImageMask();\n                    break;\n                  case _util.OPS.paintJpegXObject:\n                    this.paintJpegXObject(args[0], args[1], args[2]);\n                    break;\n                  case _util.OPS.paintImageXObject:\n                    this.paintImageXObject(args[0]);\n                    break;\n                  case _util.OPS.paintInlineImageXObject:\n                    this.paintInlineImageXObject(args[0]);\n                    break;\n                  case _util.OPS.paintImageMaskXObject:\n                    this.paintImageMaskXObject(args[0]);\n                    break;\n                  case _util.OPS.paintFormXObjectBegin:\n                    this.paintFormXObjectBegin(args[0], args[1]);\n                    break;\n                  case _util.OPS.paintFormXObjectEnd:\n                    this.paintFormXObjectEnd();\n                    break;\n                  case _util.OPS.closePath:\n                    this.closePath();\n                    break;\n                  case _util.OPS.closeStroke:\n                    this.closeStroke();\n                    break;\n                  case _util.OPS.closeFillStroke:\n                    this.closeFillStroke();\n                    break;\n                  case _util.OPS.nextLine:\n                    this.nextLine();\n                    break;\n                  case _util.OPS.transform:\n                    this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n                    break;\n                  case _util.OPS.constructPath:\n                    this.constructPath(args[0], args[1]);\n                    break;\n                  case _util.OPS.endPath:\n                    this.endPath();\n                    break;\n                  case 92:\n                    this.group(opTree[x].items);\n                    break;\n                  default:\n                    (0, _util.warn)('Unimplemented operator ' + fn);\n                    break;\n                }\n              }\n            },\n            setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n              this.current.wordSpacing = wordSpacing;\n            },\n            setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n              this.current.charSpacing = charSpacing;\n            },\n            nextLine: function SVGGraphics_nextLine() {\n              this.moveText(0, this.current.leading);\n            },\n            setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n              var current = this.current;\n              this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n              this.current.x = this.current.lineX = 0;\n              this.current.y = this.current.lineY = 0;\n              current.xcoords = [];\n              current.tspan = this.svgFactory.createElement('svg:tspan');\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.txtElement = this.svgFactory.createElement('svg:text');\n              current.txtElement.appendChild(current.tspan);\n            },\n            beginText: function SVGGraphics_beginText() {\n              this.current.x = this.current.lineX = 0;\n              this.current.y = this.current.lineY = 0;\n              this.current.textMatrix = _util.IDENTITY_MATRIX;\n              this.current.lineMatrix = _util.IDENTITY_MATRIX;\n              this.current.tspan = this.svgFactory.createElement('svg:tspan');\n              this.current.txtElement = this.svgFactory.createElement('svg:text');\n              this.current.txtgrp = this.svgFactory.createElement('svg:g');\n              this.current.xcoords = [];\n            },\n            moveText: function SVGGraphics_moveText(x, y) {\n              var current = this.current;\n              this.current.x = this.current.lineX += x;\n              this.current.y = this.current.lineY += y;\n              current.xcoords = [];\n              current.tspan = this.svgFactory.createElement('svg:tspan');\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n            },\n            showText: function SVGGraphics_showText(glyphs) {\n              var current = this.current;\n              var font = current.font;\n              var fontSize = current.fontSize;\n              if (fontSize === 0) {\n                return;\n              }\n              var charSpacing = current.charSpacing;\n              var wordSpacing = current.wordSpacing;\n              var fontDirection = current.fontDirection;\n              var textHScale = current.textHScale * fontDirection;\n              var glyphsLength = glyphs.length;\n              var vertical = font.vertical;\n              var widthAdvanceScale = fontSize * current.fontMatrix[0];\n              var x = 0,\n                i;\n              for (i = 0; i < glyphsLength; ++i) {\n                var glyph = glyphs[i];\n                if (glyph === null) {\n                  x += fontDirection * wordSpacing;\n                  continue;\n                } else if ((0, _util.isNum)(glyph)) {\n                  x += -glyph * fontSize * 0.001;\n                  continue;\n                }\n                var width = glyph.width;\n                var character = glyph.fontChar;\n                var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n                var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n                if (!glyph.isInFont && !font.missingFile) {\n                  x += charWidth;\n                  continue;\n                }\n                current.xcoords.push(current.x + x * textHScale);\n                current.tspan.textContent += character;\n                x += charWidth;\n              }\n              if (vertical) {\n                current.y -= x * textHScale;\n              } else {\n                current.x += x * textHScale;\n              }\n              current.tspan.setAttributeNS(null, 'x', current.xcoords.map(pf).join(' '));\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n              if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n                current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n              }\n              if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n                current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n              }\n              if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n                current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n              }\n              var textMatrix = current.textMatrix;\n              if (current.textRise !== 0) {\n                textMatrix = textMatrix.slice();\n                textMatrix[5] += current.textRise;\n              }\n              current.txtElement.setAttributeNS(null, 'transform', pm(textMatrix) + ' scale(1, -1)');\n              current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n              current.txtElement.appendChild(current.tspan);\n              current.txtgrp.appendChild(current.txtElement);\n              this._ensureTransformGroup().appendChild(current.txtElement);\n            },\n            setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n              this.setLeading(-y);\n              this.moveText(x, y);\n            },\n            addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n              if (!this.cssStyle) {\n                this.cssStyle = this.svgFactory.createElement('svg:style');\n                this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n                this.defs.appendChild(this.cssStyle);\n              }\n              var url = (0, _util.createObjectURL)(fontObj.data, fontObj.mimetype, this.forceDataSchema);\n              this.cssStyle.textContent += '@font-face { font-family: \"' + fontObj.loadedName + '\";' + ' src: url(' + url + '); }\\n';\n            },\n            setFont: function SVGGraphics_setFont(details) {\n              var current = this.current;\n              var fontObj = this.commonObjs.get(details[0]);\n              var size = details[1];\n              this.current.font = fontObj;\n              if (this.embedFonts && fontObj.data && !this.embeddedFonts[fontObj.loadedName]) {\n                this.addFontStyle(fontObj);\n                this.embeddedFonts[fontObj.loadedName] = fontObj;\n              }\n              current.fontMatrix = fontObj.fontMatrix ? fontObj.fontMatrix : _util.FONT_IDENTITY_MATRIX;\n              var bold = fontObj.black ? fontObj.bold ? 'bolder' : 'bold' : fontObj.bold ? 'bold' : 'normal';\n              var italic = fontObj.italic ? 'italic' : 'normal';\n              if (size < 0) {\n                size = -size;\n                current.fontDirection = -1;\n              } else {\n                current.fontDirection = 1;\n              }\n              current.fontSize = size;\n              current.fontFamily = fontObj.loadedName;\n              current.fontWeight = bold;\n              current.fontStyle = italic;\n              current.tspan = this.svgFactory.createElement('svg:tspan');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.xcoords = [];\n            },\n            endText: function SVGGraphics_endText() {},\n            setLineWidth: function SVGGraphics_setLineWidth(width) {\n              this.current.lineWidth = width;\n            },\n            setLineCap: function SVGGraphics_setLineCap(style) {\n              this.current.lineCap = LINE_CAP_STYLES[style];\n            },\n            setLineJoin: function SVGGraphics_setLineJoin(style) {\n              this.current.lineJoin = LINE_JOIN_STYLES[style];\n            },\n            setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n              this.current.miterLimit = limit;\n            },\n            setStrokeAlpha: function SVGGraphics_setStrokeAlpha(strokeAlpha) {\n              this.current.strokeAlpha = strokeAlpha;\n            },\n            setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n              var color = _util.Util.makeCssRgb(r, g, b);\n              this.current.strokeColor = color;\n            },\n            setFillAlpha: function SVGGraphics_setFillAlpha(fillAlpha) {\n              this.current.fillAlpha = fillAlpha;\n            },\n            setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n              var color = _util.Util.makeCssRgb(r, g, b);\n              this.current.fillColor = color;\n              this.current.tspan = this.svgFactory.createElement('svg:tspan');\n              this.current.xcoords = [];\n            },\n            setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n              this.current.dashArray = dashArray;\n              this.current.dashPhase = dashPhase;\n            },\n            constructPath: function SVGGraphics_constructPath(ops, args) {\n              var current = this.current;\n              var x = current.x,\n                y = current.y;\n              current.path = this.svgFactory.createElement('svg:path');\n              var d = [];\n              var opLength = ops.length;\n              for (var i = 0, j = 0; i < opLength; i++) {\n                switch (ops[i] | 0) {\n                  case _util.OPS.rectangle:\n                    x = args[j++];\n                    y = args[j++];\n                    var width = args[j++];\n                    var height = args[j++];\n                    var xw = x + width;\n                    var yh = y + height;\n                    d.push('M', pf(x), pf(y), 'L', pf(xw), pf(y), 'L', pf(xw), pf(yh), 'L', pf(x), pf(yh), 'Z');\n                    break;\n                  case _util.OPS.moveTo:\n                    x = args[j++];\n                    y = args[j++];\n                    d.push('M', pf(x), pf(y));\n                    break;\n                  case _util.OPS.lineTo:\n                    x = args[j++];\n                    y = args[j++];\n                    d.push('L', pf(x), pf(y));\n                    break;\n                  case _util.OPS.curveTo:\n                    x = args[j + 4];\n                    y = args[j + 5];\n                    d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]), pf(x), pf(y));\n                    j += 6;\n                    break;\n                  case _util.OPS.curveTo2:\n                    x = args[j + 2];\n                    y = args[j + 3];\n                    d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]));\n                    j += 4;\n                    break;\n                  case _util.OPS.curveTo3:\n                    x = args[j + 2];\n                    y = args[j + 3];\n                    d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n                    j += 4;\n                    break;\n                  case _util.OPS.closePath:\n                    d.push('Z');\n                    break;\n                }\n              }\n              current.path.setAttributeNS(null, 'd', d.join(' '));\n              current.path.setAttributeNS(null, 'fill', 'none');\n              this._ensureTransformGroup().appendChild(current.path);\n              current.element = current.path;\n              current.setCurrentPoint(x, y);\n            },\n            endPath: function SVGGraphics_endPath() {\n              if (!this.pendingClip) {\n                return;\n              }\n              var current = this.current;\n              var clipId = 'clippath' + clipCount;\n              clipCount++;\n              var clipPath = this.svgFactory.createElement('svg:clipPath');\n              clipPath.setAttributeNS(null, 'id', clipId);\n              clipPath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n              var clipElement = current.element.cloneNode();\n              if (this.pendingClip === 'evenodd') {\n                clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n              } else {\n                clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n              }\n              this.pendingClip = null;\n              clipPath.appendChild(clipElement);\n              this.defs.appendChild(clipPath);\n              if (current.activeClipUrl) {\n                current.clipGroup = null;\n                this.extraStack.forEach(function (prev) {\n                  prev.clipGroup = null;\n                });\n              }\n              current.activeClipUrl = 'url(#' + clipId + ')';\n              this.tgrp = null;\n            },\n            clip: function SVGGraphics_clip(type) {\n              this.pendingClip = type;\n            },\n            closePath: function SVGGraphics_closePath() {\n              var current = this.current;\n              if (current.path) {\n                var d = current.path.getAttributeNS(null, 'd');\n                d += 'Z';\n                current.path.setAttributeNS(null, 'd', d);\n              }\n            },\n            setLeading: function SVGGraphics_setLeading(leading) {\n              this.current.leading = -leading;\n            },\n            setTextRise: function SVGGraphics_setTextRise(textRise) {\n              this.current.textRise = textRise;\n            },\n            setHScale: function SVGGraphics_setHScale(scale) {\n              this.current.textHScale = scale / 100;\n            },\n            setGState: function SVGGraphics_setGState(states) {\n              for (var i = 0, ii = states.length; i < ii; i++) {\n                var state = states[i];\n                var key = state[0];\n                var value = state[1];\n                switch (key) {\n                  case 'LW':\n                    this.setLineWidth(value);\n                    break;\n                  case 'LC':\n                    this.setLineCap(value);\n                    break;\n                  case 'LJ':\n                    this.setLineJoin(value);\n                    break;\n                  case 'ML':\n                    this.setMiterLimit(value);\n                    break;\n                  case 'D':\n                    this.setDash(value[0], value[1]);\n                    break;\n                  case 'Font':\n                    this.setFont(value);\n                    break;\n                  case 'CA':\n                    this.setStrokeAlpha(value);\n                    break;\n                  case 'ca':\n                    this.setFillAlpha(value);\n                    break;\n                  default:\n                    (0, _util.warn)('Unimplemented graphic state ' + key);\n                    break;\n                }\n              }\n            },\n            fill: function SVGGraphics_fill() {\n              var current = this.current;\n              if (current.element) {\n                current.element.setAttributeNS(null, 'fill', current.fillColor);\n                current.element.setAttributeNS(null, 'fill-opacity', current.fillAlpha);\n              }\n            },\n            stroke: function SVGGraphics_stroke() {\n              var current = this.current;\n              if (current.element) {\n                current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n                current.element.setAttributeNS(null, 'stroke-opacity', current.strokeAlpha);\n                current.element.setAttributeNS(null, 'stroke-miterlimit', pf(current.miterLimit));\n                current.element.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n                current.element.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n                current.element.setAttributeNS(null, 'stroke-width', pf(current.lineWidth) + 'px');\n                current.element.setAttributeNS(null, 'stroke-dasharray', current.dashArray.map(pf).join(' '));\n                current.element.setAttributeNS(null, 'stroke-dashoffset', pf(current.dashPhase) + 'px');\n                current.element.setAttributeNS(null, 'fill', 'none');\n              }\n            },\n            eoFill: function SVGGraphics_eoFill() {\n              if (this.current.element) {\n                this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n              }\n              this.fill();\n            },\n            fillStroke: function SVGGraphics_fillStroke() {\n              this.stroke();\n              this.fill();\n            },\n            eoFillStroke: function SVGGraphics_eoFillStroke() {\n              if (this.current.element) {\n                this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n              }\n              this.fillStroke();\n            },\n            closeStroke: function SVGGraphics_closeStroke() {\n              this.closePath();\n              this.stroke();\n            },\n            closeFillStroke: function SVGGraphics_closeFillStroke() {\n              this.closePath();\n              this.fillStroke();\n            },\n            paintSolidColorImageMask: function SVGGraphics_paintSolidColorImageMask() {\n              var current = this.current;\n              var rect = this.svgFactory.createElement('svg:rect');\n              rect.setAttributeNS(null, 'x', '0');\n              rect.setAttributeNS(null, 'y', '0');\n              rect.setAttributeNS(null, 'width', '1px');\n              rect.setAttributeNS(null, 'height', '1px');\n              rect.setAttributeNS(null, 'fill', current.fillColor);\n              this._ensureTransformGroup().appendChild(rect);\n            },\n            paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n              var imgObj = this.objs.get(objId);\n              var imgEl = this.svgFactory.createElement('svg:image');\n              imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n              imgEl.setAttributeNS(null, 'width', pf(w));\n              imgEl.setAttributeNS(null, 'height', pf(h));\n              imgEl.setAttributeNS(null, 'x', '0');\n              imgEl.setAttributeNS(null, 'y', pf(-h));\n              imgEl.setAttributeNS(null, 'transform', 'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n              this._ensureTransformGroup().appendChild(imgEl);\n            },\n            paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n              var imgData = this.objs.get(objId);\n              if (!imgData) {\n                (0, _util.warn)('Dependent image isn\\'t ready yet');\n                return;\n              }\n              this.paintInlineImageXObject(imgData);\n            },\n            paintInlineImageXObject: function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n              var width = imgData.width;\n              var height = imgData.height;\n              var imgSrc = convertImgDataToPng(imgData, this.forceDataSchema);\n              var cliprect = this.svgFactory.createElement('svg:rect');\n              cliprect.setAttributeNS(null, 'x', '0');\n              cliprect.setAttributeNS(null, 'y', '0');\n              cliprect.setAttributeNS(null, 'width', pf(width));\n              cliprect.setAttributeNS(null, 'height', pf(height));\n              this.current.element = cliprect;\n              this.clip('nonzero');\n              var imgEl = this.svgFactory.createElement('svg:image');\n              imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n              imgEl.setAttributeNS(null, 'x', '0');\n              imgEl.setAttributeNS(null, 'y', pf(-height));\n              imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n              imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n              imgEl.setAttributeNS(null, 'transform', 'scale(' + pf(1 / width) + ' ' + pf(-1 / height) + ')');\n              if (mask) {\n                mask.appendChild(imgEl);\n              } else {\n                this._ensureTransformGroup().appendChild(imgEl);\n              }\n            },\n            paintImageMaskXObject: function SVGGraphics_paintImageMaskXObject(imgData) {\n              var current = this.current;\n              var width = imgData.width;\n              var height = imgData.height;\n              var fillColor = current.fillColor;\n              current.maskId = 'mask' + maskCount++;\n              var mask = this.svgFactory.createElement('svg:mask');\n              mask.setAttributeNS(null, 'id', current.maskId);\n              var rect = this.svgFactory.createElement('svg:rect');\n              rect.setAttributeNS(null, 'x', '0');\n              rect.setAttributeNS(null, 'y', '0');\n              rect.setAttributeNS(null, 'width', pf(width));\n              rect.setAttributeNS(null, 'height', pf(height));\n              rect.setAttributeNS(null, 'fill', fillColor);\n              rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId + ')');\n              this.defs.appendChild(mask);\n              this._ensureTransformGroup().appendChild(rect);\n              this.paintInlineImageXObject(imgData, mask);\n            },\n            paintFormXObjectBegin: function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n              if (Array.isArray(matrix) && matrix.length === 6) {\n                this.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n              }\n              if (Array.isArray(bbox) && bbox.length === 4) {\n                var width = bbox[2] - bbox[0];\n                var height = bbox[3] - bbox[1];\n                var cliprect = this.svgFactory.createElement('svg:rect');\n                cliprect.setAttributeNS(null, 'x', bbox[0]);\n                cliprect.setAttributeNS(null, 'y', bbox[1]);\n                cliprect.setAttributeNS(null, 'width', pf(width));\n                cliprect.setAttributeNS(null, 'height', pf(height));\n                this.current.element = cliprect;\n                this.clip('nonzero');\n                this.endPath();\n              }\n            },\n            paintFormXObjectEnd: function SVGGraphics_paintFormXObjectEnd() {},\n            _initialize: function _initialize(viewport) {\n              var svg = this.svgFactory.create(viewport.width, viewport.height);\n              var definitions = this.svgFactory.createElement('svg:defs');\n              svg.appendChild(definitions);\n              this.defs = definitions;\n              var rootGroup = this.svgFactory.createElement('svg:g');\n              rootGroup.setAttributeNS(null, 'transform', pm(viewport.transform));\n              svg.appendChild(rootGroup);\n              this.svg = rootGroup;\n              return svg;\n            },\n            _ensureClipGroup: function SVGGraphics_ensureClipGroup() {\n              if (!this.current.clipGroup) {\n                var clipGroup = this.svgFactory.createElement('svg:g');\n                clipGroup.setAttributeNS(null, 'clip-path', this.current.activeClipUrl);\n                this.svg.appendChild(clipGroup);\n                this.current.clipGroup = clipGroup;\n              }\n              return this.current.clipGroup;\n            },\n            _ensureTransformGroup: function SVGGraphics_ensureTransformGroup() {\n              if (!this.tgrp) {\n                this.tgrp = this.svgFactory.createElement('svg:g');\n                this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n                if (this.current.activeClipUrl) {\n                  this._ensureClipGroup().appendChild(this.tgrp);\n                } else {\n                  this.svg.appendChild(this.tgrp);\n                }\n              }\n              return this.tgrp;\n            }\n          };\n          return SVGGraphics;\n        }();\n      }\n      exports.SVGGraphics = SVGGraphics;\n\n      /***/\n    }, /* 62 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var pdfjsVersion = '2.0.164';\n      var pdfjsBuild = 'b7fe8057';\n      var pdfjsSharedUtil = __w_pdfjs_require__(0);\n      var pdfjsDisplayGlobal = __w_pdfjs_require__(112);\n      var pdfjsDisplayAPI = __w_pdfjs_require__(57);\n      var pdfjsDisplayTextLayer = __w_pdfjs_require__(60);\n      var pdfjsDisplayAnnotationLayer = __w_pdfjs_require__(59);\n      var pdfjsDisplayDOMUtils = __w_pdfjs_require__(10);\n      var pdfjsDisplaySVG = __w_pdfjs_require__(61);\n      {\n        if (pdfjsSharedUtil.isNodeJS()) {\n          var PDFNodeStream = __w_pdfjs_require__(118).PDFNodeStream;\n          pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFNodeStream);\n        } else if (typeof Response !== 'undefined' && 'body' in Response.prototype && typeof ReadableStream !== 'undefined') {\n          var PDFFetchStream = __w_pdfjs_require__(119).PDFFetchStream;\n          pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFFetchStream);\n        } else {\n          var PDFNetworkStream = __w_pdfjs_require__(120).PDFNetworkStream;\n          pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFNetworkStream);\n        }\n      }\n      exports.PDFJS = pdfjsDisplayGlobal.PDFJS;\n      exports.build = pdfjsDisplayAPI.build;\n      exports.version = pdfjsDisplayAPI.version;\n      exports.getDocument = pdfjsDisplayAPI.getDocument;\n      exports.LoopbackPort = pdfjsDisplayAPI.LoopbackPort;\n      exports.PDFDataRangeTransport = pdfjsDisplayAPI.PDFDataRangeTransport;\n      exports.PDFWorker = pdfjsDisplayAPI.PDFWorker;\n      exports.renderTextLayer = pdfjsDisplayTextLayer.renderTextLayer;\n      exports.AnnotationLayer = pdfjsDisplayAnnotationLayer.AnnotationLayer;\n      exports.CustomStyle = pdfjsDisplayDOMUtils.CustomStyle;\n      exports.createPromiseCapability = pdfjsSharedUtil.createPromiseCapability;\n      exports.PasswordResponses = pdfjsSharedUtil.PasswordResponses;\n      exports.InvalidPDFException = pdfjsSharedUtil.InvalidPDFException;\n      exports.MissingPDFException = pdfjsSharedUtil.MissingPDFException;\n      exports.SVGGraphics = pdfjsDisplaySVG.SVGGraphics;\n      exports.NativeImageDecoding = pdfjsSharedUtil.NativeImageDecoding;\n      exports.UnexpectedResponseException = pdfjsSharedUtil.UnexpectedResponseException;\n      exports.OPS = pdfjsSharedUtil.OPS;\n      exports.UNSUPPORTED_FEATURES = pdfjsSharedUtil.UNSUPPORTED_FEATURES;\n      exports.createValidAbsoluteUrl = pdfjsSharedUtil.createValidAbsoluteUrl;\n      exports.createObjectURL = pdfjsSharedUtil.createObjectURL;\n      exports.removeNullCharacters = pdfjsSharedUtil.removeNullCharacters;\n      exports.shadow = pdfjsSharedUtil.shadow;\n      exports.createBlob = pdfjsSharedUtil.createBlob;\n      exports.RenderingCancelledException = pdfjsDisplayDOMUtils.RenderingCancelledException;\n      exports.getFilenameFromUrl = pdfjsDisplayDOMUtils.getFilenameFromUrl;\n      exports.addLinkAttributes = pdfjsDisplayDOMUtils.addLinkAttributes;\n      exports.StatTimer = pdfjsSharedUtil.StatTimer;\n\n      /***/\n    }, /* 63 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      if (typeof PDFJS === 'undefined' || !PDFJS.compatibilityChecked) {\n        var globalScope = __w_pdfjs_require__(14);\n        var userAgent = typeof navigator !== 'undefined' && navigator.userAgent || '';\n        var isAndroid = /Android/.test(userAgent);\n        var isAndroidPre5 = /Android\\s[0-4][^\\d]/.test(userAgent);\n        var isChrome = userAgent.indexOf('Chrom') >= 0;\n        var isIOSChrome = userAgent.indexOf('CriOS') >= 0;\n        var isIE = userAgent.indexOf('Trident') >= 0;\n        var isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent);\n        var isSafari = /Safari\\//.test(userAgent) && !/(Chrome\\/|Android\\s)/.test(userAgent);\n        var hasDOM = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && (typeof document === 'undefined' ? 'undefined' : _typeof(document)) === 'object';\n        if (typeof PDFJS === 'undefined') {\n          globalScope.PDFJS = {};\n        }\n        PDFJS.compatibilityChecked = true;\n        (function normalizeURLObject() {\n          if (!globalScope.URL) {\n            globalScope.URL = globalScope.webkitURL;\n          }\n        })();\n        (function checkXMLHttpRequestResponseCompatibility() {\n          if (typeof XMLHttpRequest === 'undefined') {\n            return;\n          }\n          var xhrPrototype = XMLHttpRequest.prototype;\n          var xhr = new XMLHttpRequest();\n          if (!('overrideMimeType' in xhr)) {\n            Object.defineProperty(xhrPrototype, 'overrideMimeType', {\n              value: function xmlHttpRequestOverrideMimeType(mimeType) {}\n            });\n          }\n          if ('responseType' in xhr) {\n            return;\n          }\n          Object.defineProperty(xhrPrototype, 'responseType', {\n            get: function xmlHttpRequestGetResponseType() {\n              return this._responseType || 'text';\n            },\n            set: function xmlHttpRequestSetResponseType(value) {\n              if (value === 'text' || value === 'arraybuffer') {\n                this._responseType = value;\n                if (value === 'arraybuffer' && typeof this.overrideMimeType === 'function') {\n                  this.overrideMimeType('text/plain; charset=x-user-defined');\n                }\n              }\n            }\n          });\n          Object.defineProperty(xhrPrototype, 'response', {\n            get: function xmlHttpRequestResponseGet() {\n              if (this.responseType !== 'arraybuffer') {\n                return this.responseText;\n              }\n              var text = this.responseText;\n              var i,\n                n = text.length;\n              var result = new Uint8Array(n);\n              for (i = 0; i < n; ++i) {\n                result[i] = text.charCodeAt(i) & 0xFF;\n              }\n              return result.buffer;\n            }\n          });\n        })();\n        (function checkDatasetProperty() {\n          if (!hasDOM) {\n            return;\n          }\n          var div = document.createElement('div');\n          if ('dataset' in div) {\n            return;\n          }\n          Object.defineProperty(HTMLElement.prototype, 'dataset', {\n            get: function get() {\n              if (this._dataset) {\n                return this._dataset;\n              }\n              var dataset = {};\n              for (var j = 0, jj = this.attributes.length; j < jj; j++) {\n                var attribute = this.attributes[j];\n                if (attribute.name.substring(0, 5) !== 'data-') {\n                  continue;\n                }\n                var key = attribute.name.substring(5).replace(/\\-([a-z])/g, function (all, ch) {\n                  return ch.toUpperCase();\n                });\n                dataset[key] = attribute.value;\n              }\n              Object.defineProperty(this, '_dataset', {\n                value: dataset,\n                writable: false,\n                enumerable: false\n              });\n              return dataset;\n            },\n            enumerable: true\n          });\n        })();\n        (function checkOnBlobSupport() {\n          if (isIE || isIOSChrome) {\n            PDFJS.disableCreateObjectURL = true;\n          }\n        })();\n        (function checkNavigatorLanguage() {\n          if (typeof navigator === 'undefined') {\n            return;\n          }\n          if ('language' in navigator) {\n            return;\n          }\n          PDFJS.locale = navigator.userLanguage || 'en-US';\n        })();\n        (function checkRangeRequests() {\n          if (isSafari || isIOS) {\n            PDFJS.disableRange = true;\n            PDFJS.disableStream = true;\n          }\n        })();\n        (function checkSetPresenceInImageData() {\n          if (!hasDOM) {\n            return;\n          }\n          if (window.CanvasPixelArray) {\n            if (typeof window.CanvasPixelArray.prototype.set !== 'function') {\n              window.CanvasPixelArray.prototype.set = function (arr) {\n                for (var i = 0, ii = this.length; i < ii; i++) {\n                  this[i] = arr[i];\n                }\n              };\n            }\n          } else {\n            var polyfill = false,\n              versionMatch;\n            if (isChrome) {\n              versionMatch = userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n              polyfill = versionMatch && parseInt(versionMatch[2]) < 21;\n            } else if (isAndroid) {\n              polyfill = isAndroidPre5;\n            } else if (isSafari) {\n              versionMatch = userAgent.match(/Version\\/([0-9]+)\\.([0-9]+)\\.([0-9]+) Safari\\//);\n              polyfill = versionMatch && parseInt(versionMatch[1]) < 6;\n            }\n            if (polyfill) {\n              var contextPrototype = window.CanvasRenderingContext2D.prototype;\n              var createImageData = contextPrototype.createImageData;\n              contextPrototype.createImageData = function (w, h) {\n                var imageData = createImageData.call(this, w, h);\n                imageData.data.set = function (arr) {\n                  for (var i = 0, ii = this.length; i < ii; i++) {\n                    this[i] = arr[i];\n                  }\n                };\n                return imageData;\n              };\n              contextPrototype = null;\n            }\n          }\n        })();\n        (function checkCanvasSizeLimitation() {\n          if (isIOS || isAndroid) {\n            PDFJS.maxCanvasPixels = 5242880;\n          }\n        })();\n        (function checkFullscreenSupport() {\n          if (!hasDOM) {\n            return;\n          }\n          if (isIE && window.parent !== window) {\n            PDFJS.disableFullscreen = true;\n          }\n        })();\n        (function checkCurrentScript() {\n          if (!hasDOM) {\n            return;\n          }\n          if ('currentScript' in document) {\n            return;\n          }\n          Object.defineProperty(document, 'currentScript', {\n            get: function get() {\n              var scripts = document.getElementsByTagName('script');\n              return scripts[scripts.length - 1];\n            },\n            enumerable: true,\n            configurable: true\n          });\n        })();\n        (function checkInputTypeNumberAssign() {\n          if (!hasDOM) {\n            return;\n          }\n          var el = document.createElement('input');\n          try {\n            el.type = 'number';\n          } catch (ex) {\n            var inputProto = el.constructor.prototype;\n            var typeProperty = Object.getOwnPropertyDescriptor(inputProto, 'type');\n            Object.defineProperty(inputProto, 'type', {\n              get: function get() {\n                return typeProperty.get.call(this);\n              },\n              set: function set(value) {\n                typeProperty.set.call(this, value === 'number' ? 'text' : value);\n              },\n              enumerable: true,\n              configurable: true\n            });\n          }\n        })();\n        (function checkDocumentReadyState() {\n          if (!hasDOM) {\n            return;\n          }\n          if (!document.attachEvent) {\n            return;\n          }\n          var documentProto = document.constructor.prototype;\n          var readyStateProto = Object.getOwnPropertyDescriptor(documentProto, 'readyState');\n          Object.defineProperty(documentProto, 'readyState', {\n            get: function get() {\n              var value = readyStateProto.get.call(this);\n              return value === 'interactive' ? 'loading' : value;\n            },\n            set: function set(value) {\n              readyStateProto.set.call(this, value);\n            },\n            enumerable: true,\n            configurable: true\n          });\n        })();\n        (function checkChildNodeRemove() {\n          if (!hasDOM) {\n            return;\n          }\n          if (typeof Element.prototype.remove !== 'undefined') {\n            return;\n          }\n          Element.prototype.remove = function () {\n            if (this.parentNode) {\n              this.parentNode.removeChild(this);\n            }\n          };\n        })();\n        (function checkObjectValues() {\n          if (Object.values) {\n            return;\n          }\n          Object.values = __w_pdfjs_require__(64);\n        })();\n        (function checkArrayIncludes() {\n          if (Array.prototype.includes) {\n            return;\n          }\n          Array.prototype.includes = __w_pdfjs_require__(69);\n        })();\n        (function checkNumberIsNaN() {\n          if (Number.isNaN) {\n            return;\n          }\n          Number.isNaN = __w_pdfjs_require__(71);\n        })();\n        (function checkNumberIsInteger() {\n          if (Number.isInteger) {\n            return;\n          }\n          Number.isInteger = __w_pdfjs_require__(73);\n        })();\n        (function checkPromise() {\n          if (globalScope.Promise) {\n            return;\n          }\n          globalScope.Promise = __w_pdfjs_require__(76);\n        })();\n        (function checkWeakMap() {\n          if (globalScope.WeakMap) {\n            return;\n          }\n          globalScope.WeakMap = __w_pdfjs_require__(94);\n        })();\n        (function checkURLConstructor() {\n          var hasWorkingUrl = false;\n          try {\n            if (typeof URL === 'function' && _typeof(URL.prototype) === 'object' && 'origin' in URL.prototype) {\n              var u = new URL('b', 'http://a');\n              u.pathname = 'c%20d';\n              hasWorkingUrl = u.href === 'http://a/c%20d';\n            }\n          } catch (e) {}\n          if (hasWorkingUrl) {\n            return;\n          }\n          var relative = Object.create(null);\n          relative['ftp'] = 21;\n          relative['file'] = 0;\n          relative['gopher'] = 70;\n          relative['http'] = 80;\n          relative['https'] = 443;\n          relative['ws'] = 80;\n          relative['wss'] = 443;\n          var relativePathDotMapping = Object.create(null);\n          relativePathDotMapping['%2e'] = '.';\n          relativePathDotMapping['.%2e'] = '..';\n          relativePathDotMapping['%2e.'] = '..';\n          relativePathDotMapping['%2e%2e'] = '..';\n          function isRelativeScheme(scheme) {\n            return relative[scheme] !== undefined;\n          }\n          function invalid() {\n            clear.call(this);\n            this._isInvalid = true;\n          }\n          function IDNAToASCII(h) {\n            if (h === '') {\n              invalid.call(this);\n            }\n            return h.toLowerCase();\n          }\n          function percentEscape(c) {\n            var unicode = c.charCodeAt(0);\n            if (unicode > 0x20 && unicode < 0x7F && [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) === -1) {\n              return c;\n            }\n            return encodeURIComponent(c);\n          }\n          function percentEscapeQuery(c) {\n            var unicode = c.charCodeAt(0);\n            if (unicode > 0x20 && unicode < 0x7F && [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) === -1) {\n              return c;\n            }\n            return encodeURIComponent(c);\n          }\n          var EOF,\n            ALPHA = /[a-zA-Z]/,\n            ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n          function parse(input, stateOverride, base) {\n            function err(message) {\n              errors.push(message);\n            }\n            var state = stateOverride || 'scheme start',\n              cursor = 0,\n              buffer = '',\n              seenAt = false,\n              seenBracket = false,\n              errors = [];\n            loop: while ((input[cursor - 1] !== EOF || cursor === 0) && !this._isInvalid) {\n              var c = input[cursor];\n              switch (state) {\n                case 'scheme start':\n                  if (c && ALPHA.test(c)) {\n                    buffer += c.toLowerCase();\n                    state = 'scheme';\n                  } else if (!stateOverride) {\n                    buffer = '';\n                    state = 'no scheme';\n                    continue;\n                  } else {\n                    err('Invalid scheme.');\n                    break loop;\n                  }\n                  break;\n                case 'scheme':\n                  if (c && ALPHANUMERIC.test(c)) {\n                    buffer += c.toLowerCase();\n                  } else if (c === ':') {\n                    this._scheme = buffer;\n                    buffer = '';\n                    if (stateOverride) {\n                      break loop;\n                    }\n                    if (isRelativeScheme(this._scheme)) {\n                      this._isRelative = true;\n                    }\n                    if (this._scheme === 'file') {\n                      state = 'relative';\n                    } else if (this._isRelative && base && base._scheme === this._scheme) {\n                      state = 'relative or authority';\n                    } else if (this._isRelative) {\n                      state = 'authority first slash';\n                    } else {\n                      state = 'scheme data';\n                    }\n                  } else if (!stateOverride) {\n                    buffer = '';\n                    cursor = 0;\n                    state = 'no scheme';\n                    continue;\n                  } else if (c === EOF) {\n                    break loop;\n                  } else {\n                    err('Code point not allowed in scheme: ' + c);\n                    break loop;\n                  }\n                  break;\n                case 'scheme data':\n                  if (c === '?') {\n                    this._query = '?';\n                    state = 'query';\n                  } else if (c === '#') {\n                    this._fragment = '#';\n                    state = 'fragment';\n                  } else {\n                    if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                      this._schemeData += percentEscape(c);\n                    }\n                  }\n                  break;\n                case 'no scheme':\n                  if (!base || !isRelativeScheme(base._scheme)) {\n                    err('Missing scheme.');\n                    invalid.call(this);\n                  } else {\n                    state = 'relative';\n                    continue;\n                  }\n                  break;\n                case 'relative or authority':\n                  if (c === '/' && input[cursor + 1] === '/') {\n                    state = 'authority ignore slashes';\n                  } else {\n                    err('Expected /, got: ' + c);\n                    state = 'relative';\n                    continue;\n                  }\n                  break;\n                case 'relative':\n                  this._isRelative = true;\n                  if (this._scheme !== 'file') {\n                    this._scheme = base._scheme;\n                  }\n                  if (c === EOF) {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = base._query;\n                    this._username = base._username;\n                    this._password = base._password;\n                    break loop;\n                  } else if (c === '/' || c === '\\\\') {\n                    if (c === '\\\\') {\n                      err('\\\\ is an invalid code point.');\n                    }\n                    state = 'relative slash';\n                  } else if (c === '?') {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = '?';\n                    this._username = base._username;\n                    this._password = base._password;\n                    state = 'query';\n                  } else if (c === '#') {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = base._query;\n                    this._fragment = '#';\n                    this._username = base._username;\n                    this._password = base._password;\n                    state = 'fragment';\n                  } else {\n                    var nextC = input[cursor + 1];\n                    var nextNextC = input[cursor + 2];\n                    if (this._scheme !== 'file' || !ALPHA.test(c) || nextC !== ':' && nextC !== '|' || nextNextC !== EOF && nextNextC !== '/' && nextNextC !== '\\\\' && nextNextC !== '?' && nextNextC !== '#') {\n                      this._host = base._host;\n                      this._port = base._port;\n                      this._username = base._username;\n                      this._password = base._password;\n                      this._path = base._path.slice();\n                      this._path.pop();\n                    }\n                    state = 'relative path';\n                    continue;\n                  }\n                  break;\n                case 'relative slash':\n                  if (c === '/' || c === '\\\\') {\n                    if (c === '\\\\') {\n                      err('\\\\ is an invalid code point.');\n                    }\n                    if (this._scheme === 'file') {\n                      state = 'file host';\n                    } else {\n                      state = 'authority ignore slashes';\n                    }\n                  } else {\n                    if (this._scheme !== 'file') {\n                      this._host = base._host;\n                      this._port = base._port;\n                      this._username = base._username;\n                      this._password = base._password;\n                    }\n                    state = 'relative path';\n                    continue;\n                  }\n                  break;\n                case 'authority first slash':\n                  if (c === '/') {\n                    state = 'authority second slash';\n                  } else {\n                    err('Expected \\'/\\', got: ' + c);\n                    state = 'authority ignore slashes';\n                    continue;\n                  }\n                  break;\n                case 'authority second slash':\n                  state = 'authority ignore slashes';\n                  if (c !== '/') {\n                    err('Expected \\'/\\', got: ' + c);\n                    continue;\n                  }\n                  break;\n                case 'authority ignore slashes':\n                  if (c !== '/' && c !== '\\\\') {\n                    state = 'authority';\n                    continue;\n                  } else {\n                    err('Expected authority, got: ' + c);\n                  }\n                  break;\n                case 'authority':\n                  if (c === '@') {\n                    if (seenAt) {\n                      err('@ already seen.');\n                      buffer += '%40';\n                    }\n                    seenAt = true;\n                    for (var i = 0; i < buffer.length; i++) {\n                      var cp = buffer[i];\n                      if (cp === '\\t' || cp === '\\n' || cp === '\\r') {\n                        err('Invalid whitespace in authority.');\n                        continue;\n                      }\n                      if (cp === ':' && this._password === null) {\n                        this._password = '';\n                        continue;\n                      }\n                      var tempC = percentEscape(cp);\n                      if (this._password !== null) {\n                        this._password += tempC;\n                      } else {\n                        this._username += tempC;\n                      }\n                    }\n                    buffer = '';\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    cursor -= buffer.length;\n                    buffer = '';\n                    state = 'host';\n                    continue;\n                  } else {\n                    buffer += c;\n                  }\n                  break;\n                case 'file host':\n                  if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    if (buffer.length === 2 && ALPHA.test(buffer[0]) && (buffer[1] === ':' || buffer[1] === '|')) {\n                      state = 'relative path';\n                    } else if (buffer.length === 0) {\n                      state = 'relative path start';\n                    } else {\n                      this._host = IDNAToASCII.call(this, buffer);\n                      buffer = '';\n                      state = 'relative path start';\n                    }\n                    continue;\n                  } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n                    err('Invalid whitespace in file host.');\n                  } else {\n                    buffer += c;\n                  }\n                  break;\n                case 'host':\n                case 'hostname':\n                  if (c === ':' && !seenBracket) {\n                    this._host = IDNAToASCII.call(this, buffer);\n                    buffer = '';\n                    state = 'port';\n                    if (stateOverride === 'hostname') {\n                      break loop;\n                    }\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    this._host = IDNAToASCII.call(this, buffer);\n                    buffer = '';\n                    state = 'relative path start';\n                    if (stateOverride) {\n                      break loop;\n                    }\n                    continue;\n                  } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    if (c === '[') {\n                      seenBracket = true;\n                    } else if (c === ']') {\n                      seenBracket = false;\n                    }\n                    buffer += c;\n                  } else {\n                    err('Invalid code point in host/hostname: ' + c);\n                  }\n                  break;\n                case 'port':\n                  if (/[0-9]/.test(c)) {\n                    buffer += c;\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#' || stateOverride) {\n                    if (buffer !== '') {\n                      var temp = parseInt(buffer, 10);\n                      if (temp !== relative[this._scheme]) {\n                        this._port = temp + '';\n                      }\n                      buffer = '';\n                    }\n                    if (stateOverride) {\n                      break loop;\n                    }\n                    state = 'relative path start';\n                    continue;\n                  } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n                    err('Invalid code point in port: ' + c);\n                  } else {\n                    invalid.call(this);\n                  }\n                  break;\n                case 'relative path start':\n                  if (c === '\\\\') {\n                    err('\\'\\\\\\' not allowed in path.');\n                  }\n                  state = 'relative path';\n                  if (c !== '/' && c !== '\\\\') {\n                    continue;\n                  }\n                  break;\n                case 'relative path':\n                  if (c === EOF || c === '/' || c === '\\\\' || !stateOverride && (c === '?' || c === '#')) {\n                    if (c === '\\\\') {\n                      err('\\\\ not allowed in relative path.');\n                    }\n                    var tmp;\n                    if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n                      buffer = tmp;\n                    }\n                    if (buffer === '..') {\n                      this._path.pop();\n                      if (c !== '/' && c !== '\\\\') {\n                        this._path.push('');\n                      }\n                    } else if (buffer === '.' && c !== '/' && c !== '\\\\') {\n                      this._path.push('');\n                    } else if (buffer !== '.') {\n                      if (this._scheme === 'file' && this._path.length === 0 && buffer.length === 2 && ALPHA.test(buffer[0]) && buffer[1] === '|') {\n                        buffer = buffer[0] + ':';\n                      }\n                      this._path.push(buffer);\n                    }\n                    buffer = '';\n                    if (c === '?') {\n                      this._query = '?';\n                      state = 'query';\n                    } else if (c === '#') {\n                      this._fragment = '#';\n                      state = 'fragment';\n                    }\n                  } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    buffer += percentEscape(c);\n                  }\n                  break;\n                case 'query':\n                  if (!stateOverride && c === '#') {\n                    this._fragment = '#';\n                    state = 'fragment';\n                  } else if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    this._query += percentEscapeQuery(c);\n                  }\n                  break;\n                case 'fragment':\n                  if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    this._fragment += c;\n                  }\n                  break;\n              }\n              cursor++;\n            }\n          }\n          function clear() {\n            this._scheme = '';\n            this._schemeData = '';\n            this._username = '';\n            this._password = null;\n            this._host = '';\n            this._port = '';\n            this._path = [];\n            this._query = '';\n            this._fragment = '';\n            this._isInvalid = false;\n            this._isRelative = false;\n          }\n          function JURL(url, base) {\n            if (base !== undefined && !(base instanceof JURL)) {\n              base = new JURL(String(base));\n            }\n            this._url = url;\n            clear.call(this);\n            var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n            parse.call(this, input, null, base);\n          }\n          JURL.prototype = {\n            toString: function toString() {\n              return this.href;\n            },\n            get href() {\n              if (this._isInvalid) {\n                return this._url;\n              }\n              var authority = '';\n              if (this._username !== '' || this._password !== null) {\n                authority = this._username + (this._password !== null ? ':' + this._password : '') + '@';\n              }\n              return this.protocol + (this._isRelative ? '//' + authority + this.host : '') + this.pathname + this._query + this._fragment;\n            },\n            set href(value) {\n              clear.call(this);\n              parse.call(this, value);\n            },\n            get protocol() {\n              return this._scheme + ':';\n            },\n            set protocol(value) {\n              if (this._isInvalid) {\n                return;\n              }\n              parse.call(this, value + ':', 'scheme start');\n            },\n            get host() {\n              return this._isInvalid ? '' : this._port ? this._host + ':' + this._port : this._host;\n            },\n            set host(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n              parse.call(this, value, 'host');\n            },\n            get hostname() {\n              return this._host;\n            },\n            set hostname(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n              parse.call(this, value, 'hostname');\n            },\n            get port() {\n              return this._port;\n            },\n            set port(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n              parse.call(this, value, 'port');\n            },\n            get pathname() {\n              return this._isInvalid ? '' : this._isRelative ? '/' + this._path.join('/') : this._schemeData;\n            },\n            set pathname(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n              this._path = [];\n              parse.call(this, value, 'relative path start');\n            },\n            get search() {\n              return this._isInvalid || !this._query || this._query === '?' ? '' : this._query;\n            },\n            set search(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n              this._query = '?';\n              if (value[0] === '?') {\n                value = value.slice(1);\n              }\n              parse.call(this, value, 'query');\n            },\n            get hash() {\n              return this._isInvalid || !this._fragment || this._fragment === '#' ? '' : this._fragment;\n            },\n            set hash(value) {\n              if (this._isInvalid) {\n                return;\n              }\n              this._fragment = '#';\n              if (value[0] === '#') {\n                value = value.slice(1);\n              }\n              parse.call(this, value, 'fragment');\n            },\n            get origin() {\n              var host;\n              if (this._isInvalid || !this._scheme) {\n                return '';\n              }\n              switch (this._scheme) {\n                case 'data':\n                case 'file':\n                case 'javascript':\n                case 'mailto':\n                  return 'null';\n                case 'blob':\n                  try {\n                    return new JURL(this._schemeData).origin || 'null';\n                  } catch (_) {}\n                  return 'null';\n              }\n              host = this.host;\n              if (!host) {\n                return '';\n              }\n              return this._scheme + '://' + host;\n            }\n          };\n          var OriginalURL = globalScope.URL;\n          if (OriginalURL) {\n            JURL.createObjectURL = function (blob) {\n              return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n            };\n            JURL.revokeObjectURL = function (url) {\n              OriginalURL.revokeObjectURL(url);\n            };\n          }\n          globalScope.URL = JURL;\n        })();\n      }\n\n      /***/\n    }, /* 64 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(65);\n      module.exports = __w_pdfjs_require__(5).Object.values;\n\n      /***/\n    }, /* 65 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      var $values = __w_pdfjs_require__(66)(false);\n      $export($export.S, 'Object', {\n        values: function values(it) {\n          return $values(it);\n        }\n      });\n\n      /***/\n    }, /* 66 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var getKeys = __w_pdfjs_require__(21);\n      var toIObject = __w_pdfjs_require__(17);\n      var isEnum = __w_pdfjs_require__(31).f;\n      module.exports = function (isEntries) {\n        return function (it) {\n          var O = toIObject(it);\n          var keys = getKeys(O);\n          var length = keys.length;\n          var i = 0;\n          var result = [];\n          var key;\n          while (length > i) {\n            if (isEnum.call(O, key = keys[i++])) {\n              result.push(isEntries ? [key, O[key]] : O[key]);\n            }\n          }\n          return result;\n        };\n      };\n\n      /***/\n    }, /* 67 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var has = __w_pdfjs_require__(7);\n      var toIObject = __w_pdfjs_require__(17);\n      var arrayIndexOf = __w_pdfjs_require__(41)(false);\n      var IE_PROTO = __w_pdfjs_require__(30)('IE_PROTO');\n      module.exports = function (object, names) {\n        var O = toIObject(object);\n        var i = 0;\n        var result = [];\n        var key;\n        for (key in O) {\n          if (key != IE_PROTO) has(O, key) && result.push(key);\n        }\n        while (names.length > i) {\n          if (has(O, key = names[i++])) {\n            ~arrayIndexOf(result, key) || result.push(key);\n          }\n        }\n        return result;\n      };\n\n      /***/\n    }, /* 68 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var toInteger = __w_pdfjs_require__(29);\n      var max = Math.max;\n      var min = Math.min;\n      module.exports = function (index, length) {\n        index = toInteger(index);\n        return index < 0 ? max(index + length, 0) : min(index, length);\n      };\n\n      /***/\n    }, /* 69 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(70);\n      module.exports = __w_pdfjs_require__(5).Array.includes;\n\n      /***/\n    }, /* 70 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      var $includes = __w_pdfjs_require__(41)(true);\n      $export($export.P, 'Array', {\n        includes: function includes(el) {\n          return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n        }\n      });\n      __w_pdfjs_require__(44)('includes');\n\n      /***/\n    }, /* 71 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(72);\n      module.exports = __w_pdfjs_require__(5).Number.isNaN;\n\n      /***/\n    }, /* 72 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      $export($export.S, 'Number', {\n        isNaN: function isNaN(number) {\n          return number != number;\n        }\n      });\n\n      /***/\n    }, /* 73 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(74);\n      module.exports = __w_pdfjs_require__(5).Number.isInteger;\n\n      /***/\n    }, /* 74 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      $export($export.S, 'Number', {\n        isInteger: __w_pdfjs_require__(75)\n      });\n\n      /***/\n    }, /* 75 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      var floor = Math.floor;\n      module.exports = function isInteger(it) {\n        return !isObject(it) && isFinite(it) && floor(it) === it;\n      };\n\n      /***/\n    }, /* 76 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(45);\n      __w_pdfjs_require__(77);\n      __w_pdfjs_require__(49);\n      __w_pdfjs_require__(85);\n      __w_pdfjs_require__(92);\n      __w_pdfjs_require__(93);\n      module.exports = __w_pdfjs_require__(5).Promise;\n\n      /***/\n    }, /* 77 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $at = __w_pdfjs_require__(78)(true);\n      __w_pdfjs_require__(46)(String, 'String', function (iterated) {\n        this._t = String(iterated);\n        this._i = 0;\n      }, function () {\n        var O = this._t;\n        var index = this._i;\n        var point;\n        if (index >= O.length) return {\n          value: undefined,\n          done: true\n        };\n        point = $at(O, index);\n        this._i += point.length;\n        return {\n          value: point,\n          done: false\n        };\n      });\n\n      /***/\n    }, /* 78 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var toInteger = __w_pdfjs_require__(29);\n      var defined = __w_pdfjs_require__(27);\n      module.exports = function (TO_STRING) {\n        return function (that, pos) {\n          var s = String(defined(that));\n          var i = toInteger(pos);\n          var l = s.length;\n          var a, b;\n          if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n          a = s.charCodeAt(i);\n          return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n        };\n      };\n\n      /***/\n    }, /* 79 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var create = __w_pdfjs_require__(80);\n      var descriptor = __w_pdfjs_require__(25);\n      var setToStringTag = __w_pdfjs_require__(22);\n      var IteratorPrototype = {};\n      __w_pdfjs_require__(11)(IteratorPrototype, __w_pdfjs_require__(2)('iterator'), function () {\n        return this;\n      });\n      module.exports = function (Constructor, NAME, next) {\n        Constructor.prototype = create(IteratorPrototype, {\n          next: descriptor(1, next)\n        });\n        setToStringTag(Constructor, NAME + ' Iterator');\n      };\n\n      /***/\n    }, /* 80 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var anObject = __w_pdfjs_require__(6);\n      var dPs = __w_pdfjs_require__(81);\n      var enumBugKeys = __w_pdfjs_require__(43);\n      var IE_PROTO = __w_pdfjs_require__(30)('IE_PROTO');\n      var Empty = function Empty() {};\n      var PROTOTYPE = 'prototype';\n      var _createDict = function createDict() {\n        var iframe = __w_pdfjs_require__(24)('iframe');\n        var i = enumBugKeys.length;\n        var lt = '<';\n        var gt = '>';\n        var iframeDocument;\n        iframe.style.display = 'none';\n        __w_pdfjs_require__(48).appendChild(iframe);\n        iframe.src = 'javascript:';\n        iframeDocument = iframe.contentWindow.document;\n        iframeDocument.open();\n        iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n        iframeDocument.close();\n        _createDict = iframeDocument.F;\n        while (i--) {\n          delete _createDict[PROTOTYPE][enumBugKeys[i]];\n        }\n        return _createDict();\n      };\n      module.exports = Object.create || function create(O, Properties) {\n        var result;\n        if (O !== null) {\n          Empty[PROTOTYPE] = anObject(O);\n          result = new Empty();\n          Empty[PROTOTYPE] = null;\n          result[IE_PROTO] = O;\n        } else result = _createDict();\n        return Properties === undefined ? result : dPs(result, Properties);\n      };\n\n      /***/\n    }, /* 81 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var dP = __w_pdfjs_require__(15);\n      var anObject = __w_pdfjs_require__(6);\n      var getKeys = __w_pdfjs_require__(21);\n      module.exports = __w_pdfjs_require__(12) ? Object.defineProperties : function defineProperties(O, Properties) {\n        anObject(O);\n        var keys = getKeys(Properties);\n        var length = keys.length;\n        var i = 0;\n        var P;\n        while (length > i) {\n          dP.f(O, P = keys[i++], Properties[P]);\n        }\n        return O;\n      };\n\n      /***/\n    }, /* 82 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var has = __w_pdfjs_require__(7);\n      var toObject = __w_pdfjs_require__(33);\n      var IE_PROTO = __w_pdfjs_require__(30)('IE_PROTO');\n      var ObjectProto = Object.prototype;\n      module.exports = Object.getPrototypeOf || function (O) {\n        O = toObject(O);\n        if (has(O, IE_PROTO)) return O[IE_PROTO];\n        if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n          return O.constructor.prototype;\n        }\n        return O instanceof Object ? ObjectProto : null;\n      };\n\n      /***/\n    }, /* 83 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var addToUnscopables = __w_pdfjs_require__(44);\n      var step = __w_pdfjs_require__(84);\n      var Iterators = __w_pdfjs_require__(19);\n      var toIObject = __w_pdfjs_require__(17);\n      module.exports = __w_pdfjs_require__(46)(Array, 'Array', function (iterated, kind) {\n        this._t = toIObject(iterated);\n        this._i = 0;\n        this._k = kind;\n      }, function () {\n        var O = this._t;\n        var kind = this._k;\n        var index = this._i++;\n        if (!O || index >= O.length) {\n          this._t = undefined;\n          return step(1);\n        }\n        if (kind == 'keys') return step(0, index);\n        if (kind == 'values') return step(0, O[index]);\n        return step(0, [index, O[index]]);\n      }, 'values');\n      Iterators.Arguments = Iterators.Array;\n      addToUnscopables('keys');\n      addToUnscopables('values');\n      addToUnscopables('entries');\n\n      /***/\n    }, /* 84 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (done, value) {\n        return {\n          value: value,\n          done: !!done\n        };\n      };\n\n      /***/\n    }, /* 85 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var LIBRARY = __w_pdfjs_require__(47);\n      var global = __w_pdfjs_require__(3);\n      var ctx = __w_pdfjs_require__(9);\n      var classof = __w_pdfjs_require__(32);\n      var $export = __w_pdfjs_require__(4);\n      var isObject = __w_pdfjs_require__(1);\n      var aFunction = __w_pdfjs_require__(16);\n      var anInstance = __w_pdfjs_require__(34);\n      var forOf = __w_pdfjs_require__(23);\n      var speciesConstructor = __w_pdfjs_require__(50);\n      var task = __w_pdfjs_require__(51).set;\n      var microtask = __w_pdfjs_require__(90)();\n      var newPromiseCapabilityModule = __w_pdfjs_require__(35);\n      var perform = __w_pdfjs_require__(52);\n      var promiseResolve = __w_pdfjs_require__(53);\n      var PROMISE = 'Promise';\n      var TypeError = global.TypeError;\n      var process = global.process;\n      var $Promise = global[PROMISE];\n      var isNode = classof(process) == 'process';\n      var empty = function empty() {};\n      var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\n      var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n      var USE_NATIVE = !!function () {\n        try {\n          var promise = $Promise.resolve(1);\n          var FakePromise = (promise.constructor = {})[__w_pdfjs_require__(2)('species')] = function (exec) {\n            exec(empty, empty);\n          };\n          return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n        } catch (e) {}\n      }();\n      var isThenable = function isThenable(it) {\n        var then;\n        return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n      };\n      var notify = function notify(promise, isReject) {\n        if (promise._n) return;\n        promise._n = true;\n        var chain = promise._c;\n        microtask(function () {\n          var value = promise._v;\n          var ok = promise._s == 1;\n          var i = 0;\n          var run = function run(reaction) {\n            var handler = ok ? reaction.ok : reaction.fail;\n            var resolve = reaction.resolve;\n            var reject = reaction.reject;\n            var domain = reaction.domain;\n            var result, then;\n            try {\n              if (handler) {\n                if (!ok) {\n                  if (promise._h == 2) onHandleUnhandled(promise);\n                  promise._h = 1;\n                }\n                if (handler === true) result = value;else {\n                  if (domain) domain.enter();\n                  result = handler(value);\n                  if (domain) domain.exit();\n                }\n                if (result === reaction.promise) {\n                  reject(TypeError('Promise-chain cycle'));\n                } else if (then = isThenable(result)) {\n                  then.call(result, resolve, reject);\n                } else resolve(result);\n              } else reject(value);\n            } catch (e) {\n              reject(e);\n            }\n          };\n          while (chain.length > i) {\n            run(chain[i++]);\n          }\n          promise._c = [];\n          promise._n = false;\n          if (isReject && !promise._h) onUnhandled(promise);\n        });\n      };\n      var onUnhandled = function onUnhandled(promise) {\n        task.call(global, function () {\n          var value = promise._v;\n          var unhandled = isUnhandled(promise);\n          var result, handler, console;\n          if (unhandled) {\n            result = perform(function () {\n              if (isNode) {\n                process.emit('unhandledRejection', value, promise);\n              } else if (handler = global.onunhandledrejection) {\n                handler({\n                  promise: promise,\n                  reason: value\n                });\n              } else if ((console = global.console) && console.error) {\n                console.error('Unhandled promise rejection', value);\n              }\n            });\n            promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n          }\n          promise._a = undefined;\n          if (unhandled && result.e) throw result.v;\n        });\n      };\n      var isUnhandled = function isUnhandled(promise) {\n        if (promise._h == 1) return false;\n        var chain = promise._a || promise._c;\n        var i = 0;\n        var reaction;\n        while (chain.length > i) {\n          reaction = chain[i++];\n          if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n        }\n        return true;\n      };\n      var onHandleUnhandled = function onHandleUnhandled(promise) {\n        task.call(global, function () {\n          var handler;\n          if (isNode) {\n            process.emit('rejectionHandled', promise);\n          } else if (handler = global.onrejectionhandled) {\n            handler({\n              promise: promise,\n              reason: promise._v\n            });\n          }\n        });\n      };\n      var $reject = function $reject(value) {\n        var promise = this;\n        if (promise._d) return;\n        promise._d = true;\n        promise = promise._w || promise;\n        promise._v = value;\n        promise._s = 2;\n        if (!promise._a) promise._a = promise._c.slice();\n        notify(promise, true);\n      };\n      var $resolve = function $resolve(value) {\n        var promise = this;\n        var then;\n        if (promise._d) return;\n        promise._d = true;\n        promise = promise._w || promise;\n        try {\n          if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n          if (then = isThenable(value)) {\n            microtask(function () {\n              var wrapper = {\n                _w: promise,\n                _d: false\n              };\n              try {\n                then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n              } catch (e) {\n                $reject.call(wrapper, e);\n              }\n            });\n          } else {\n            promise._v = value;\n            promise._s = 1;\n            notify(promise, false);\n          }\n        } catch (e) {\n          $reject.call({\n            _w: promise,\n            _d: false\n          }, e);\n        }\n      };\n      if (!USE_NATIVE) {\n        $Promise = function Promise(executor) {\n          anInstance(this, $Promise, PROMISE, '_h');\n          aFunction(executor);\n          Internal.call(this);\n          try {\n            executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n          } catch (err) {\n            $reject.call(this, err);\n          }\n        };\n        Internal = function Promise(executor) {\n          this._c = [];\n          this._a = undefined;\n          this._s = 0;\n          this._d = false;\n          this._v = undefined;\n          this._h = 0;\n          this._n = false;\n        };\n        Internal.prototype = __w_pdfjs_require__(36)($Promise.prototype, {\n          then: function then(onFulfilled, onRejected) {\n            var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n            reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n            reaction.fail = typeof onRejected == 'function' && onRejected;\n            reaction.domain = isNode ? process.domain : undefined;\n            this._c.push(reaction);\n            if (this._a) this._a.push(reaction);\n            if (this._s) notify(this, false);\n            return reaction.promise;\n          },\n          'catch': function _catch(onRejected) {\n            return this.then(undefined, onRejected);\n          }\n        });\n        OwnPromiseCapability = function OwnPromiseCapability() {\n          var promise = new Internal();\n          this.promise = promise;\n          this.resolve = ctx($resolve, promise, 1);\n          this.reject = ctx($reject, promise, 1);\n        };\n        newPromiseCapabilityModule.f = newPromiseCapability = function newPromiseCapability(C) {\n          return C === $Promise || C === Wrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n        };\n      }\n      $export($export.G + $export.W + $export.F * !USE_NATIVE, {\n        Promise: $Promise\n      });\n      __w_pdfjs_require__(22)($Promise, PROMISE);\n      __w_pdfjs_require__(91)(PROMISE);\n      Wrapper = __w_pdfjs_require__(5)[PROMISE];\n      $export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n        reject: function reject(r) {\n          var capability = newPromiseCapability(this);\n          var $$reject = capability.reject;\n          $$reject(r);\n          return capability.promise;\n        }\n      });\n      $export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n        resolve: function resolve(x) {\n          return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n        }\n      });\n      $export($export.S + $export.F * !(USE_NATIVE && __w_pdfjs_require__(54)(function (iter) {\n        $Promise.all(iter)['catch'](empty);\n      })), PROMISE, {\n        all: function all(iterable) {\n          var C = this;\n          var capability = newPromiseCapability(C);\n          var resolve = capability.resolve;\n          var reject = capability.reject;\n          var result = perform(function () {\n            var values = [];\n            var index = 0;\n            var remaining = 1;\n            forOf(iterable, false, function (promise) {\n              var $index = index++;\n              var alreadyCalled = false;\n              values.push(undefined);\n              remaining++;\n              C.resolve(promise).then(function (value) {\n                if (alreadyCalled) return;\n                alreadyCalled = true;\n                values[$index] = value;\n                --remaining || resolve(values);\n              }, reject);\n            });\n            --remaining || resolve(values);\n          });\n          if (result.e) reject(result.v);\n          return capability.promise;\n        },\n        race: function race(iterable) {\n          var C = this;\n          var capability = newPromiseCapability(C);\n          var reject = capability.reject;\n          var result = perform(function () {\n            forOf(iterable, false, function (promise) {\n              C.resolve(promise).then(capability.resolve, reject);\n            });\n          });\n          if (result.e) reject(result.v);\n          return capability.promise;\n        }\n      });\n\n      /***/\n    }, /* 86 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var anObject = __w_pdfjs_require__(6);\n      module.exports = function (iterator, fn, value, entries) {\n        try {\n          return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n        } catch (e) {\n          var ret = iterator['return'];\n          if (ret !== undefined) anObject(ret.call(iterator));\n          throw e;\n        }\n      };\n\n      /***/\n    }, /* 87 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var Iterators = __w_pdfjs_require__(19);\n      var ITERATOR = __w_pdfjs_require__(2)('iterator');\n      var ArrayProto = Array.prototype;\n      module.exports = function (it) {\n        return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n      };\n\n      /***/\n    }, /* 88 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var classof = __w_pdfjs_require__(32);\n      var ITERATOR = __w_pdfjs_require__(2)('iterator');\n      var Iterators = __w_pdfjs_require__(19);\n      module.exports = __w_pdfjs_require__(5).getIteratorMethod = function (it) {\n        if (it != undefined) return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n      };\n\n      /***/\n    }, /* 89 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      module.exports = function (fn, args, that) {\n        var un = that === undefined;\n        switch (args.length) {\n          case 0:\n            return un ? fn() : fn.call(that);\n          case 1:\n            return un ? fn(args[0]) : fn.call(that, args[0]);\n          case 2:\n            return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);\n          case 3:\n            return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);\n          case 4:\n            return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);\n        }\n        return fn.apply(that, args);\n      };\n\n      /***/\n    }, /* 90 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var macrotask = __w_pdfjs_require__(51).set;\n      var Observer = global.MutationObserver || global.WebKitMutationObserver;\n      var process = global.process;\n      var Promise = global.Promise;\n      var isNode = __w_pdfjs_require__(18)(process) == 'process';\n      module.exports = function () {\n        var head, last, notify;\n        var flush = function flush() {\n          var parent, fn;\n          if (isNode && (parent = process.domain)) parent.exit();\n          while (head) {\n            fn = head.fn;\n            head = head.next;\n            try {\n              fn();\n            } catch (e) {\n              if (head) notify();else last = undefined;\n              throw e;\n            }\n          }\n          last = undefined;\n          if (parent) parent.enter();\n        };\n        if (isNode) {\n          notify = function notify() {\n            process.nextTick(flush);\n          };\n        } else if (Observer) {\n          var toggle = true;\n          var node = document.createTextNode('');\n          new Observer(flush).observe(node, {\n            characterData: true\n          });\n          notify = function notify() {\n            node.data = toggle = !toggle;\n          };\n        } else if (Promise && Promise.resolve) {\n          var promise = Promise.resolve();\n          notify = function notify() {\n            promise.then(flush);\n          };\n        } else {\n          notify = function notify() {\n            macrotask.call(global, flush);\n          };\n        }\n        return function (fn) {\n          var task = {\n            fn: fn,\n            next: undefined\n          };\n          if (last) last.next = task;\n          if (!head) {\n            head = task;\n            notify();\n          }\n          last = task;\n        };\n      };\n\n      /***/\n    }, /* 91 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var dP = __w_pdfjs_require__(15);\n      var DESCRIPTORS = __w_pdfjs_require__(12);\n      var SPECIES = __w_pdfjs_require__(2)('species');\n      module.exports = function (KEY) {\n        var C = global[KEY];\n        if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n          configurable: true,\n          get: function get() {\n            return this;\n          }\n        });\n      };\n\n      /***/\n    }, /* 92 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      var core = __w_pdfjs_require__(5);\n      var global = __w_pdfjs_require__(3);\n      var speciesConstructor = __w_pdfjs_require__(50);\n      var promiseResolve = __w_pdfjs_require__(53);\n      $export($export.P + $export.R, 'Promise', {\n        'finally': function _finally(onFinally) {\n          var C = speciesConstructor(this, core.Promise || global.Promise);\n          var isFunction = typeof onFinally == 'function';\n          return this.then(isFunction ? function (x) {\n            return promiseResolve(C, onFinally()).then(function () {\n              return x;\n            });\n          } : onFinally, isFunction ? function (e) {\n            return promiseResolve(C, onFinally()).then(function () {\n              throw e;\n            });\n          } : onFinally);\n        }\n      });\n\n      /***/\n    }, /* 93 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      var newPromiseCapability = __w_pdfjs_require__(35);\n      var perform = __w_pdfjs_require__(52);\n      $export($export.S, 'Promise', {\n        'try': function _try(callbackfn) {\n          var promiseCapability = newPromiseCapability.f(this);\n          var result = perform(callbackfn);\n          (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n          return promiseCapability.promise;\n        }\n      });\n\n      /***/\n    }, /* 94 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(45);\n      __w_pdfjs_require__(49);\n      __w_pdfjs_require__(95);\n      __w_pdfjs_require__(106);\n      __w_pdfjs_require__(108);\n      module.exports = __w_pdfjs_require__(5).WeakMap;\n\n      /***/\n    }, /* 95 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var each = __w_pdfjs_require__(55)(0);\n      var redefine = __w_pdfjs_require__(8);\n      var meta = __w_pdfjs_require__(37);\n      var assign = __w_pdfjs_require__(99);\n      var weak = __w_pdfjs_require__(101);\n      var isObject = __w_pdfjs_require__(1);\n      var fails = __w_pdfjs_require__(13);\n      var validate = __w_pdfjs_require__(56);\n      var WEAK_MAP = 'WeakMap';\n      var getWeak = meta.getWeak;\n      var isExtensible = Object.isExtensible;\n      var uncaughtFrozenStore = weak.ufstore;\n      var tmp = {};\n      var InternalMap;\n      var wrapper = function wrapper(get) {\n        return function WeakMap() {\n          return get(this, arguments.length > 0 ? arguments[0] : undefined);\n        };\n      };\n      var methods = {\n        get: function get(key) {\n          if (isObject(key)) {\n            var data = getWeak(key);\n            if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n            return data ? data[this._i] : undefined;\n          }\n        },\n        set: function set(key, value) {\n          return weak.def(validate(this, WEAK_MAP), key, value);\n        }\n      };\n      var $WeakMap = module.exports = __w_pdfjs_require__(102)(WEAK_MAP, wrapper, methods, weak, true, true);\n      if (fails(function () {\n        return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7;\n      })) {\n        InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n        assign(InternalMap.prototype, methods);\n        meta.NEED = true;\n        each(['delete', 'has', 'get', 'set'], function (key) {\n          var proto = $WeakMap.prototype;\n          var method = proto[key];\n          redefine(proto, key, function (a, b) {\n            if (isObject(a) && !isExtensible(a)) {\n              if (!this._f) this._f = new InternalMap();\n              var result = this._f[key](a, b);\n              return key == 'set' ? this : result;\n            }\n            return method.call(this, a, b);\n          });\n        });\n      }\n\n      /***/\n    }, /* 96 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var speciesConstructor = __w_pdfjs_require__(97);\n      module.exports = function (original, length) {\n        return new (speciesConstructor(original))(length);\n      };\n\n      /***/\n    }, /* 97 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      var isArray = __w_pdfjs_require__(98);\n      var SPECIES = __w_pdfjs_require__(2)('species');\n      module.exports = function (original) {\n        var C;\n        if (isArray(original)) {\n          C = original.constructor;\n          if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n          if (isObject(C)) {\n            C = C[SPECIES];\n            if (C === null) C = undefined;\n          }\n        }\n        return C === undefined ? Array : C;\n      };\n\n      /***/\n    }, /* 98 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var cof = __w_pdfjs_require__(18);\n      module.exports = Array.isArray || function isArray(arg) {\n        return cof(arg) == 'Array';\n      };\n\n      /***/\n    }, /* 99 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var getKeys = __w_pdfjs_require__(21);\n      var gOPS = __w_pdfjs_require__(100);\n      var pIE = __w_pdfjs_require__(31);\n      var toObject = __w_pdfjs_require__(33);\n      var IObject = __w_pdfjs_require__(26);\n      var $assign = Object.assign;\n      module.exports = !$assign || __w_pdfjs_require__(13)(function () {\n        var A = {};\n        var B = {};\n        var S = Symbol();\n        var K = 'abcdefghijklmnopqrst';\n        A[S] = 7;\n        K.split('').forEach(function (k) {\n          B[k] = k;\n        });\n        return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n      }) ? function assign(target, source) {\n        var T = toObject(target);\n        var aLen = arguments.length;\n        var index = 1;\n        var getSymbols = gOPS.f;\n        var isEnum = pIE.f;\n        while (aLen > index) {\n          var S = IObject(arguments[index++]);\n          var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n          var length = keys.length;\n          var j = 0;\n          var key;\n          while (length > j) {\n            if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n          }\n        }\n        return T;\n      } : $assign;\n\n      /***/\n    }, /* 100 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      exports.f = Object.getOwnPropertySymbols;\n\n      /***/\n    }, /* 101 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var redefineAll = __w_pdfjs_require__(36);\n      var getWeak = __w_pdfjs_require__(37).getWeak;\n      var anObject = __w_pdfjs_require__(6);\n      var isObject = __w_pdfjs_require__(1);\n      var anInstance = __w_pdfjs_require__(34);\n      var forOf = __w_pdfjs_require__(23);\n      var createArrayMethod = __w_pdfjs_require__(55);\n      var $has = __w_pdfjs_require__(7);\n      var validate = __w_pdfjs_require__(56);\n      var arrayFind = createArrayMethod(5);\n      var arrayFindIndex = createArrayMethod(6);\n      var id = 0;\n      var uncaughtFrozenStore = function uncaughtFrozenStore(that) {\n        return that._l || (that._l = new UncaughtFrozenStore());\n      };\n      var UncaughtFrozenStore = function UncaughtFrozenStore() {\n        this.a = [];\n      };\n      var findUncaughtFrozen = function findUncaughtFrozen(store, key) {\n        return arrayFind(store.a, function (it) {\n          return it[0] === key;\n        });\n      };\n      UncaughtFrozenStore.prototype = {\n        get: function get(key) {\n          var entry = findUncaughtFrozen(this, key);\n          if (entry) return entry[1];\n        },\n        has: function has(key) {\n          return !!findUncaughtFrozen(this, key);\n        },\n        set: function set(key, value) {\n          var entry = findUncaughtFrozen(this, key);\n          if (entry) entry[1] = value;else this.a.push([key, value]);\n        },\n        'delete': function _delete(key) {\n          var index = arrayFindIndex(this.a, function (it) {\n            return it[0] === key;\n          });\n          if (~index) this.a.splice(index, 1);\n          return !!~index;\n        }\n      };\n      module.exports = {\n        getConstructor: function getConstructor(wrapper, NAME, IS_MAP, ADDER) {\n          var C = wrapper(function (that, iterable) {\n            anInstance(that, C, NAME, '_i');\n            that._t = NAME;\n            that._i = id++;\n            that._l = undefined;\n            if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n          });\n          redefineAll(C.prototype, {\n            'delete': function _delete(key) {\n              if (!isObject(key)) return false;\n              var data = getWeak(key);\n              if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n              return data && $has(data, this._i) && delete data[this._i];\n            },\n            has: function has(key) {\n              if (!isObject(key)) return false;\n              var data = getWeak(key);\n              if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n              return data && $has(data, this._i);\n            }\n          });\n          return C;\n        },\n        def: function def(that, key, value) {\n          var data = getWeak(anObject(key), true);\n          if (data === true) uncaughtFrozenStore(that).set(key, value);else data[that._i] = value;\n          return that;\n        },\n        ufstore: uncaughtFrozenStore\n      };\n\n      /***/\n    }, /* 102 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var global = __w_pdfjs_require__(3);\n      var $export = __w_pdfjs_require__(4);\n      var redefine = __w_pdfjs_require__(8);\n      var redefineAll = __w_pdfjs_require__(36);\n      var meta = __w_pdfjs_require__(37);\n      var forOf = __w_pdfjs_require__(23);\n      var anInstance = __w_pdfjs_require__(34);\n      var isObject = __w_pdfjs_require__(1);\n      var fails = __w_pdfjs_require__(13);\n      var $iterDetect = __w_pdfjs_require__(54);\n      var setToStringTag = __w_pdfjs_require__(22);\n      var inheritIfRequired = __w_pdfjs_require__(103);\n      module.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n        var Base = global[NAME];\n        var C = Base;\n        var ADDER = IS_MAP ? 'set' : 'add';\n        var proto = C && C.prototype;\n        var O = {};\n        var fixMethod = function fixMethod(KEY) {\n          var fn = proto[KEY];\n          redefine(proto, KEY, KEY == 'delete' ? function (a) {\n            return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n          } : KEY == 'has' ? function has(a) {\n            return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n          } : KEY == 'get' ? function get(a) {\n            return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n          } : KEY == 'add' ? function add(a) {\n            fn.call(this, a === 0 ? 0 : a);\n            return this;\n          } : function set(a, b) {\n            fn.call(this, a === 0 ? 0 : a, b);\n            return this;\n          });\n        };\n        if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n          new C().entries().next();\n        }))) {\n          C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n          redefineAll(C.prototype, methods);\n          meta.NEED = true;\n        } else {\n          var instance = new C();\n          var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n          var THROWS_ON_PRIMITIVES = fails(function () {\n            instance.has(1);\n          });\n          var ACCEPT_ITERABLES = $iterDetect(function (iter) {\n            new C(iter);\n          });\n          var BUGGY_ZERO = !IS_WEAK && fails(function () {\n            var $instance = new C();\n            var index = 5;\n            while (index--) {\n              $instance[ADDER](index, index);\n            }\n            return !$instance.has(-0);\n          });\n          if (!ACCEPT_ITERABLES) {\n            C = wrapper(function (target, iterable) {\n              anInstance(target, C, NAME);\n              var that = inheritIfRequired(new Base(), target, C);\n              if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n              return that;\n            });\n            C.prototype = proto;\n            proto.constructor = C;\n          }\n          if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n            fixMethod('delete');\n            fixMethod('has');\n            IS_MAP && fixMethod('get');\n          }\n          if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n          if (IS_WEAK && proto.clear) delete proto.clear;\n        }\n        setToStringTag(C, NAME);\n        O[NAME] = C;\n        $export($export.G + $export.W + $export.F * (C != Base), O);\n        if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n        return C;\n      };\n\n      /***/\n    }, /* 103 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      var setPrototypeOf = __w_pdfjs_require__(104).set;\n      module.exports = function (that, target, C) {\n        var S = target.constructor;\n        var P;\n        if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n          setPrototypeOf(that, P);\n        }\n        return that;\n      };\n\n      /***/\n    }, /* 104 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isObject = __w_pdfjs_require__(1);\n      var anObject = __w_pdfjs_require__(6);\n      var check = function check(O, proto) {\n        anObject(O);\n        if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n      };\n      module.exports = {\n        set: Object.setPrototypeOf || ('__proto__' in {} ? function (test, buggy, set) {\n          try {\n            set = __w_pdfjs_require__(9)(Function.call, __w_pdfjs_require__(105).f(Object.prototype, '__proto__').set, 2);\n            set(test, []);\n            buggy = !(test instanceof Array);\n          } catch (e) {\n            buggy = true;\n          }\n          return function setPrototypeOf(O, proto) {\n            check(O, proto);\n            if (buggy) O.__proto__ = proto;else set(O, proto);\n            return O;\n          };\n        }({}, false) : undefined),\n        check: check\n      };\n\n      /***/\n    }, /* 105 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var pIE = __w_pdfjs_require__(31);\n      var createDesc = __w_pdfjs_require__(25);\n      var toIObject = __w_pdfjs_require__(17);\n      var toPrimitive = __w_pdfjs_require__(40);\n      var has = __w_pdfjs_require__(7);\n      var IE8_DOM_DEFINE = __w_pdfjs_require__(39);\n      var gOPD = Object.getOwnPropertyDescriptor;\n      exports.f = __w_pdfjs_require__(12) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n        O = toIObject(O);\n        P = toPrimitive(P, true);\n        if (IE8_DOM_DEFINE) try {\n          return gOPD(O, P);\n        } catch (e) {}\n        if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n      };\n\n      /***/\n    }, /* 106 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(107)('WeakMap');\n\n      /***/\n    }, /* 107 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      module.exports = function (COLLECTION) {\n        $export($export.S, COLLECTION, {\n          of: function of() {\n            var length = arguments.length;\n            var A = Array(length);\n            while (length--) {\n              A[length] = arguments[length];\n            }\n            return new this(A);\n          }\n        });\n      };\n\n      /***/\n    }, /* 108 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      __w_pdfjs_require__(109)('WeakMap');\n\n      /***/\n    }, /* 109 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var $export = __w_pdfjs_require__(4);\n      var aFunction = __w_pdfjs_require__(16);\n      var ctx = __w_pdfjs_require__(9);\n      var forOf = __w_pdfjs_require__(23);\n      module.exports = function (COLLECTION) {\n        $export($export.S, COLLECTION, {\n          from: function from(source) {\n            var mapFn = arguments[1];\n            var mapping, A, n, cb;\n            aFunction(this);\n            mapping = mapFn !== undefined;\n            if (mapping) aFunction(mapFn);\n            if (source == undefined) return new this();\n            A = [];\n            if (mapping) {\n              n = 0;\n              cb = ctx(mapFn, arguments[2], 2);\n              forOf(source, false, function (nextItem) {\n                A.push(cb(nextItem, n++));\n              });\n            } else {\n              forOf(source, false, A.push, A);\n            }\n            return new this(A);\n          }\n        });\n      };\n\n      /***/\n    }, /* 110 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isReadableStreamSupported = false;\n      if (typeof ReadableStream !== 'undefined') {\n        try {\n          new ReadableStream({\n            start: function start(controller) {\n              controller.close();\n            }\n          });\n          isReadableStreamSupported = true;\n        } catch (e) {}\n      }\n      if (isReadableStreamSupported) {\n        exports.ReadableStream = ReadableStream;\n      } else {\n        exports.ReadableStream = __w_pdfjs_require__(111).ReadableStream;\n      }\n\n      /***/\n    }, /* 111 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      (function (e, a) {\n        for (var i in a) {\n          e[i] = a[i];\n        }\n      })(exports, function (modules) {\n        var installedModules = {};\n        function __w_pdfjs_require__(moduleId) {\n          if (installedModules[moduleId]) return installedModules[moduleId].exports;\n          var module = installedModules[moduleId] = {\n            i: moduleId,\n            l: false,\n            exports: {}\n          };\n          modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n          module.l = true;\n          return module.exports;\n        }\n        __w_pdfjs_require__.m = modules;\n        __w_pdfjs_require__.c = installedModules;\n        __w_pdfjs_require__.i = function (value) {\n          return value;\n        };\n        __w_pdfjs_require__.d = function (exports, name, getter) {\n          if (!__w_pdfjs_require__.o(exports, name)) {\n            Object.defineProperty(exports, name, {\n              configurable: false,\n              enumerable: true,\n              get: getter\n            });\n          }\n        };\n        __w_pdfjs_require__.n = function (module) {\n          var getter = module && module.__esModule ? function getDefault() {\n            return module['default'];\n          } : function getModuleExports() {\n            return module;\n          };\n          __w_pdfjs_require__.d(getter, 'a', getter);\n          return getter;\n        };\n        __w_pdfjs_require__.o = function (object, property) {\n          return Object.prototype.hasOwnProperty.call(object, property);\n        };\n        __w_pdfjs_require__.p = \"\";\n        return __w_pdfjs_require__(__w_pdfjs_require__.s = 7);\n      }([function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n          return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n        } : function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n        };\n        var _require = __w_pdfjs_require__(1),\n          assert = _require.assert;\n        function IsPropertyKey(argument) {\n          return typeof argument === 'string' || (typeof argument === 'undefined' ? 'undefined' : _typeof(argument)) === 'symbol';\n        }\n        exports.typeIsObject = function (x) {\n          return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null || typeof x === 'function';\n        };\n        exports.createDataProperty = function (o, p, v) {\n          assert(exports.typeIsObject(o));\n          Object.defineProperty(o, p, {\n            value: v,\n            writable: true,\n            enumerable: true,\n            configurable: true\n          });\n        };\n        exports.createArrayFromList = function (elements) {\n          return elements.slice();\n        };\n        exports.ArrayBufferCopy = function (dest, destOffset, src, srcOffset, n) {\n          new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n        };\n        exports.CreateIterResultObject = function (value, done) {\n          assert(typeof done === 'boolean');\n          var obj = {};\n          Object.defineProperty(obj, 'value', {\n            value: value,\n            enumerable: true,\n            writable: true,\n            configurable: true\n          });\n          Object.defineProperty(obj, 'done', {\n            value: done,\n            enumerable: true,\n            writable: true,\n            configurable: true\n          });\n          return obj;\n        };\n        exports.IsFiniteNonNegativeNumber = function (v) {\n          if (Number.isNaN(v)) {\n            return false;\n          }\n          if (v === Infinity) {\n            return false;\n          }\n          if (v < 0) {\n            return false;\n          }\n          return true;\n        };\n        function Call(F, V, args) {\n          if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n          }\n          return Function.prototype.apply.call(F, V, args);\n        }\n        exports.InvokeOrNoop = function (O, P, args) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n          var method = O[P];\n          if (method === undefined) {\n            return undefined;\n          }\n          return Call(method, O, args);\n        };\n        exports.PromiseInvokeOrNoop = function (O, P, args) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n          try {\n            return Promise.resolve(exports.InvokeOrNoop(O, P, args));\n          } catch (returnValueE) {\n            return Promise.reject(returnValueE);\n          }\n        };\n        exports.PromiseInvokeOrPerformFallback = function (O, P, args, F, argsF) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n          assert(Array.isArray(argsF));\n          var method = void 0;\n          try {\n            method = O[P];\n          } catch (methodE) {\n            return Promise.reject(methodE);\n          }\n          if (method === undefined) {\n            return F.apply(null, argsF);\n          }\n          try {\n            return Promise.resolve(Call(method, O, args));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        };\n        exports.TransferArrayBuffer = function (O) {\n          return O.slice();\n        };\n        exports.ValidateAndNormalizeHighWaterMark = function (highWaterMark) {\n          highWaterMark = Number(highWaterMark);\n          if (Number.isNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');\n          }\n          return highWaterMark;\n        };\n        exports.ValidateAndNormalizeQueuingStrategy = function (size, highWaterMark) {\n          if (size !== undefined && typeof size !== 'function') {\n            throw new TypeError('size property of a queuing strategy must be a function');\n          }\n          highWaterMark = exports.ValidateAndNormalizeHighWaterMark(highWaterMark);\n          return {\n            size: size,\n            highWaterMark: highWaterMark\n          };\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        function rethrowAssertionErrorRejection(e) {\n          if (e && e.constructor === AssertionError) {\n            setTimeout(function () {\n              throw e;\n            }, 0);\n          }\n        }\n        function AssertionError(message) {\n          this.name = 'AssertionError';\n          this.message = message || '';\n          this.stack = new Error().stack;\n        }\n        AssertionError.prototype = Object.create(Error.prototype);\n        AssertionError.prototype.constructor = AssertionError;\n        function assert(value, message) {\n          if (!value) {\n            throw new AssertionError(message);\n          }\n        }\n        module.exports = {\n          rethrowAssertionErrorRejection: rethrowAssertionErrorRejection,\n          AssertionError: AssertionError,\n          assert: assert\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        var _require = __w_pdfjs_require__(0),\n          InvokeOrNoop = _require.InvokeOrNoop,\n          PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n          ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n          typeIsObject = _require.typeIsObject;\n        var _require2 = __w_pdfjs_require__(1),\n          assert = _require2.assert,\n          rethrowAssertionErrorRejection = _require2.rethrowAssertionErrorRejection;\n        var _require3 = __w_pdfjs_require__(3),\n          DequeueValue = _require3.DequeueValue,\n          EnqueueValueWithSize = _require3.EnqueueValueWithSize,\n          PeekQueueValue = _require3.PeekQueueValue,\n          ResetQueue = _require3.ResetQueue;\n        var WritableStream = function () {\n          function WritableStream() {\n            var underlyingSink = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n              size = _ref.size,\n              _ref$highWaterMark = _ref.highWaterMark,\n              highWaterMark = _ref$highWaterMark === undefined ? 1 : _ref$highWaterMark;\n            _classCallCheck(this, WritableStream);\n            this._state = 'writable';\n            this._storedError = undefined;\n            this._writer = undefined;\n            this._writableStreamController = undefined;\n            this._writeRequests = [];\n            this._inFlightWriteRequest = undefined;\n            this._closeRequest = undefined;\n            this._inFlightCloseRequest = undefined;\n            this._pendingAbortRequest = undefined;\n            this._backpressure = false;\n            var type = underlyingSink.type;\n            if (type !== undefined) {\n              throw new RangeError('Invalid type is specified');\n            }\n            this._writableStreamController = new WritableStreamDefaultController(this, underlyingSink, size, highWaterMark);\n            this._writableStreamController.__startSteps();\n          }\n          _createClass(WritableStream, [{\n            key: 'abort',\n            value: function abort(reason) {\n              if (IsWritableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('abort'));\n              }\n              if (IsWritableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('Cannot abort a stream that already has a writer'));\n              }\n              return WritableStreamAbort(this, reason);\n            }\n          }, {\n            key: 'getWriter',\n            value: function getWriter() {\n              if (IsWritableStream(this) === false) {\n                throw streamBrandCheckException('getWriter');\n              }\n              return AcquireWritableStreamDefaultWriter(this);\n            }\n          }, {\n            key: 'locked',\n            get: function get() {\n              if (IsWritableStream(this) === false) {\n                throw streamBrandCheckException('locked');\n              }\n              return IsWritableStreamLocked(this);\n            }\n          }]);\n          return WritableStream;\n        }();\n        module.exports = {\n          AcquireWritableStreamDefaultWriter: AcquireWritableStreamDefaultWriter,\n          IsWritableStream: IsWritableStream,\n          IsWritableStreamLocked: IsWritableStreamLocked,\n          WritableStream: WritableStream,\n          WritableStreamAbort: WritableStreamAbort,\n          WritableStreamDefaultControllerError: WritableStreamDefaultControllerError,\n          WritableStreamDefaultWriterCloseWithErrorPropagation: WritableStreamDefaultWriterCloseWithErrorPropagation,\n          WritableStreamDefaultWriterRelease: WritableStreamDefaultWriterRelease,\n          WritableStreamDefaultWriterWrite: WritableStreamDefaultWriterWrite,\n          WritableStreamCloseQueuedOrInFlight: WritableStreamCloseQueuedOrInFlight\n        };\n        function AcquireWritableStreamDefaultWriter(stream) {\n          return new WritableStreamDefaultWriter(stream);\n        }\n        function IsWritableStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n          }\n          return true;\n        }\n        function IsWritableStreamLocked(stream) {\n          assert(IsWritableStream(stream) === true, 'IsWritableStreamLocked should only be used on known writable streams');\n          if (stream._writer === undefined) {\n            return false;\n          }\n          return true;\n        }\n        function WritableStreamAbort(stream, reason) {\n          var state = stream._state;\n          if (state === 'closed') {\n            return Promise.resolve(undefined);\n          }\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          var error = new TypeError('Requested to abort');\n          if (stream._pendingAbortRequest !== undefined) {\n            return Promise.reject(error);\n          }\n          assert(state === 'writable' || state === 'erroring', 'state must be writable or erroring');\n          var wasAlreadyErroring = false;\n          if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            reason = undefined;\n          }\n          var promise = new Promise(function (resolve, reject) {\n            stream._pendingAbortRequest = {\n              _resolve: resolve,\n              _reject: reject,\n              _reason: reason,\n              _wasAlreadyErroring: wasAlreadyErroring\n            };\n          });\n          if (wasAlreadyErroring === false) {\n            WritableStreamStartErroring(stream, error);\n          }\n          return promise;\n        }\n        function WritableStreamAddWriteRequest(stream) {\n          assert(IsWritableStreamLocked(stream) === true);\n          assert(stream._state === 'writable');\n          var promise = new Promise(function (resolve, reject) {\n            var writeRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n            stream._writeRequests.push(writeRequest);\n          });\n          return promise;\n        }\n        function WritableStreamDealWithRejection(stream, error) {\n          var state = stream._state;\n          if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n          }\n          assert(state === 'erroring');\n          WritableStreamFinishErroring(stream);\n        }\n        function WritableStreamStartErroring(stream, reason) {\n          assert(stream._storedError === undefined, 'stream._storedError === undefined');\n          assert(stream._state === 'writable', 'state must be writable');\n          var controller = stream._writableStreamController;\n          assert(controller !== undefined, 'controller must not be undefined');\n          stream._state = 'erroring';\n          stream._storedError = reason;\n          var writer = stream._writer;\n          if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n          }\n          if (WritableStreamHasOperationMarkedInFlight(stream) === false && controller._started === true) {\n            WritableStreamFinishErroring(stream);\n          }\n        }\n        function WritableStreamFinishErroring(stream) {\n          assert(stream._state === 'erroring', 'stream._state === erroring');\n          assert(WritableStreamHasOperationMarkedInFlight(stream) === false, 'WritableStreamHasOperationMarkedInFlight(stream) === false');\n          stream._state = 'errored';\n          stream._writableStreamController.__errorSteps();\n          var storedError = stream._storedError;\n          for (var i = 0; i < stream._writeRequests.length; i++) {\n            var writeRequest = stream._writeRequests[i];\n            writeRequest._reject(storedError);\n          }\n          stream._writeRequests = [];\n          if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n          }\n          var abortRequest = stream._pendingAbortRequest;\n          stream._pendingAbortRequest = undefined;\n          if (abortRequest._wasAlreadyErroring === true) {\n            abortRequest._reject(storedError);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n          }\n          var promise = stream._writableStreamController.__abortSteps(abortRequest._reason);\n          promise.then(function () {\n            abortRequest._resolve();\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          }, function (reason) {\n            abortRequest._reject(reason);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          });\n        }\n        function WritableStreamFinishInFlightWrite(stream) {\n          assert(stream._inFlightWriteRequest !== undefined);\n          stream._inFlightWriteRequest._resolve(undefined);\n          stream._inFlightWriteRequest = undefined;\n        }\n        function WritableStreamFinishInFlightWriteWithError(stream, error) {\n          assert(stream._inFlightWriteRequest !== undefined);\n          stream._inFlightWriteRequest._reject(error);\n          stream._inFlightWriteRequest = undefined;\n          assert(stream._state === 'writable' || stream._state === 'erroring');\n          WritableStreamDealWithRejection(stream, error);\n        }\n        function WritableStreamFinishInFlightClose(stream) {\n          assert(stream._inFlightCloseRequest !== undefined);\n          stream._inFlightCloseRequest._resolve(undefined);\n          stream._inFlightCloseRequest = undefined;\n          var state = stream._state;\n          assert(state === 'writable' || state === 'erroring');\n          if (state === 'erroring') {\n            stream._storedError = undefined;\n            if (stream._pendingAbortRequest !== undefined) {\n              stream._pendingAbortRequest._resolve();\n              stream._pendingAbortRequest = undefined;\n            }\n          }\n          stream._state = 'closed';\n          var writer = stream._writer;\n          if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n          }\n          assert(stream._pendingAbortRequest === undefined, 'stream._pendingAbortRequest === undefined');\n          assert(stream._storedError === undefined, 'stream._storedError === undefined');\n        }\n        function WritableStreamFinishInFlightCloseWithError(stream, error) {\n          assert(stream._inFlightCloseRequest !== undefined);\n          stream._inFlightCloseRequest._reject(error);\n          stream._inFlightCloseRequest = undefined;\n          assert(stream._state === 'writable' || stream._state === 'erroring');\n          if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n            stream._pendingAbortRequest = undefined;\n          }\n          WritableStreamDealWithRejection(stream, error);\n        }\n        function WritableStreamCloseQueuedOrInFlight(stream) {\n          if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n          }\n          return true;\n        }\n        function WritableStreamHasOperationMarkedInFlight(stream) {\n          if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n          }\n          return true;\n        }\n        function WritableStreamMarkCloseRequestInFlight(stream) {\n          assert(stream._inFlightCloseRequest === undefined);\n          assert(stream._closeRequest !== undefined);\n          stream._inFlightCloseRequest = stream._closeRequest;\n          stream._closeRequest = undefined;\n        }\n        function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n          assert(stream._inFlightWriteRequest === undefined, 'there must be no pending write request');\n          assert(stream._writeRequests.length !== 0, 'writeRequests must not be empty');\n          stream._inFlightWriteRequest = stream._writeRequests.shift();\n        }\n        function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n          assert(stream._state === 'errored', '_stream_.[[state]] is `\"errored\"`');\n          if (stream._closeRequest !== undefined) {\n            assert(stream._inFlightCloseRequest === undefined);\n            stream._closeRequest._reject(stream._storedError);\n            stream._closeRequest = undefined;\n          }\n          var writer = stream._writer;\n          if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n            writer._closedPromise.catch(function () {});\n          }\n        }\n        function WritableStreamUpdateBackpressure(stream, backpressure) {\n          assert(stream._state === 'writable');\n          assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n          var writer = stream._writer;\n          if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure === true) {\n              defaultWriterReadyPromiseReset(writer);\n            } else {\n              assert(backpressure === false);\n              defaultWriterReadyPromiseResolve(writer);\n            }\n          }\n          stream._backpressure = backpressure;\n        }\n        var WritableStreamDefaultWriter = function () {\n          function WritableStreamDefaultWriter(stream) {\n            _classCallCheck(this, WritableStreamDefaultWriter);\n            if (IsWritableStream(stream) === false) {\n              throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');\n            }\n            if (IsWritableStreamLocked(stream) === true) {\n              throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            var state = stream._state;\n            if (state === 'writable') {\n              if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._backpressure === true) {\n                defaultWriterReadyPromiseInitialize(this);\n              } else {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n              }\n              defaultWriterClosedPromiseInitialize(this);\n            } else if (state === 'erroring') {\n              defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n              this._readyPromise.catch(function () {});\n              defaultWriterClosedPromiseInitialize(this);\n            } else if (state === 'closed') {\n              defaultWriterReadyPromiseInitializeAsResolved(this);\n              defaultWriterClosedPromiseInitializeAsResolved(this);\n            } else {\n              assert(state === 'errored', 'state must be errored');\n              var storedError = stream._storedError;\n              defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n              this._readyPromise.catch(function () {});\n              defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n              this._closedPromise.catch(function () {});\n            }\n          }\n          _createClass(WritableStreamDefaultWriter, [{\n            key: 'abort',\n            value: function abort(reason) {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('abort'));\n              }\n              if (this._ownerWritableStream === undefined) {\n                return Promise.reject(defaultWriterLockException('abort'));\n              }\n              return WritableStreamDefaultWriterAbort(this, reason);\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('close'));\n              }\n              var stream = this._ownerWritableStream;\n              if (stream === undefined) {\n                return Promise.reject(defaultWriterLockException('close'));\n              }\n              if (WritableStreamCloseQueuedOrInFlight(stream) === true) {\n                return Promise.reject(new TypeError('cannot close an already-closing stream'));\n              }\n              return WritableStreamDefaultWriterClose(this);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                throw defaultWriterBrandCheckException('releaseLock');\n              }\n              var stream = this._ownerWritableStream;\n              if (stream === undefined) {\n                return;\n              }\n              assert(stream._writer !== undefined);\n              WritableStreamDefaultWriterRelease(this);\n            }\n          }, {\n            key: 'write',\n            value: function write(chunk) {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('write'));\n              }\n              if (this._ownerWritableStream === undefined) {\n                return Promise.reject(defaultWriterLockException('write to'));\n              }\n              return WritableStreamDefaultWriterWrite(this, chunk);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('closed'));\n              }\n              return this._closedPromise;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                throw defaultWriterBrandCheckException('desiredSize');\n              }\n              if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n              }\n              return WritableStreamDefaultWriterGetDesiredSize(this);\n            }\n          }, {\n            key: 'ready',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('ready'));\n              }\n              return this._readyPromise;\n            }\n          }]);\n          return WritableStreamDefaultWriter;\n        }();\n        function IsWritableStreamDefaultWriter(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n          }\n          return true;\n        }\n        function WritableStreamDefaultWriterAbort(writer, reason) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          return WritableStreamAbort(stream, reason);\n        }\n        function WritableStreamDefaultWriterClose(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var state = stream._state;\n          if (state === 'closed' || state === 'errored') {\n            return Promise.reject(new TypeError('The stream (in ' + state + ' state) is not in the writable state and cannot be closed'));\n          }\n          assert(state === 'writable' || state === 'erroring');\n          assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n          var promise = new Promise(function (resolve, reject) {\n            var closeRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n          });\n          if (stream._backpressure === true && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n          }\n          WritableStreamDefaultControllerClose(stream._writableStreamController);\n          return promise;\n        }\n        function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var state = stream._state;\n          if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n            return Promise.resolve();\n          }\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          assert(state === 'writable' || state === 'erroring');\n          return WritableStreamDefaultWriterClose(writer);\n        }\n        function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n          if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n          } else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n          }\n          writer._closedPromise.catch(function () {});\n        }\n        function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n          if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n          } else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n          }\n          writer._readyPromise.catch(function () {});\n        }\n        function WritableStreamDefaultWriterGetDesiredSize(writer) {\n          var stream = writer._ownerWritableStream;\n          var state = stream._state;\n          if (state === 'errored' || state === 'erroring') {\n            return null;\n          }\n          if (state === 'closed') {\n            return 0;\n          }\n          return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n        }\n        function WritableStreamDefaultWriterRelease(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          assert(stream._writer === writer);\n          var releasedError = new TypeError('Writer was released and can no longer be used to monitor the stream\\'s closedness');\n          WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n          WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n          stream._writer = undefined;\n          writer._ownerWritableStream = undefined;\n        }\n        function WritableStreamDefaultWriterWrite(writer, chunk) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var controller = stream._writableStreamController;\n          var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n          if (stream !== writer._ownerWritableStream) {\n            return Promise.reject(defaultWriterLockException('write to'));\n          }\n          var state = stream._state;\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n            return Promise.reject(new TypeError('The stream is closing or closed and cannot be written to'));\n          }\n          if (state === 'erroring') {\n            return Promise.reject(stream._storedError);\n          }\n          assert(state === 'writable');\n          var promise = WritableStreamAddWriteRequest(stream);\n          WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n          return promise;\n        }\n        var WritableStreamDefaultController = function () {\n          function WritableStreamDefaultController(stream, underlyingSink, size, highWaterMark) {\n            _classCallCheck(this, WritableStreamDefaultController);\n            if (IsWritableStream(stream) === false) {\n              throw new TypeError('WritableStreamDefaultController can only be constructed with a WritableStream instance');\n            }\n            if (stream._writableStreamController !== undefined) {\n              throw new TypeError('WritableStreamDefaultController instances can only be created by the WritableStream constructor');\n            }\n            this._controlledWritableStream = stream;\n            this._underlyingSink = underlyingSink;\n            this._queue = undefined;\n            this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._started = false;\n            var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n            this._strategySize = normalizedStrategy.size;\n            this._strategyHWM = normalizedStrategy.highWaterMark;\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(this);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n          }\n          _createClass(WritableStreamDefaultController, [{\n            key: 'error',\n            value: function error(e) {\n              if (IsWritableStreamDefaultController(this) === false) {\n                throw new TypeError('WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');\n              }\n              var state = this._controlledWritableStream._state;\n              if (state !== 'writable') {\n                return;\n              }\n              WritableStreamDefaultControllerError(this, e);\n            }\n          }, {\n            key: '__abortSteps',\n            value: function __abortSteps(reason) {\n              return PromiseInvokeOrNoop(this._underlyingSink, 'abort', [reason]);\n            }\n          }, {\n            key: '__errorSteps',\n            value: function __errorSteps() {\n              ResetQueue(this);\n            }\n          }, {\n            key: '__startSteps',\n            value: function __startSteps() {\n              var _this = this;\n              var startResult = InvokeOrNoop(this._underlyingSink, 'start', [this]);\n              var stream = this._controlledWritableStream;\n              Promise.resolve(startResult).then(function () {\n                assert(stream._state === 'writable' || stream._state === 'erroring');\n                _this._started = true;\n                WritableStreamDefaultControllerAdvanceQueueIfNeeded(_this);\n              }, function (r) {\n                assert(stream._state === 'writable' || stream._state === 'erroring');\n                _this._started = true;\n                WritableStreamDealWithRejection(stream, r);\n              }).catch(rethrowAssertionErrorRejection);\n            }\n          }]);\n          return WritableStreamDefaultController;\n        }();\n        function WritableStreamDefaultControllerClose(controller) {\n          EnqueueValueWithSize(controller, 'close', 0);\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }\n        function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n          var strategySize = controller._strategySize;\n          if (strategySize === undefined) {\n            return 1;\n          }\n          try {\n            return strategySize(chunk);\n          } catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n          }\n        }\n        function WritableStreamDefaultControllerGetDesiredSize(controller) {\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n        function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n          var writeRecord = {\n            chunk: chunk\n          };\n          try {\n            EnqueueValueWithSize(controller, writeRecord, chunkSize);\n          } catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n          }\n          var stream = controller._controlledWritableStream;\n          if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._state === 'writable') {\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n          }\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }\n        function IsWritableStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSink')) {\n            return false;\n          }\n          return true;\n        }\n        function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n          var stream = controller._controlledWritableStream;\n          if (controller._started === false) {\n            return;\n          }\n          if (stream._inFlightWriteRequest !== undefined) {\n            return;\n          }\n          var state = stream._state;\n          if (state === 'closed' || state === 'errored') {\n            return;\n          }\n          if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n          }\n          if (controller._queue.length === 0) {\n            return;\n          }\n          var writeRecord = PeekQueueValue(controller);\n          if (writeRecord === 'close') {\n            WritableStreamDefaultControllerProcessClose(controller);\n          } else {\n            WritableStreamDefaultControllerProcessWrite(controller, writeRecord.chunk);\n          }\n        }\n        function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n          if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n          }\n        }\n        function WritableStreamDefaultControllerProcessClose(controller) {\n          var stream = controller._controlledWritableStream;\n          WritableStreamMarkCloseRequestInFlight(stream);\n          DequeueValue(controller);\n          assert(controller._queue.length === 0, 'queue must be empty once the final write record is dequeued');\n          var sinkClosePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'close', []);\n          sinkClosePromise.then(function () {\n            WritableStreamFinishInFlightClose(stream);\n          }, function (reason) {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n          }).catch(rethrowAssertionErrorRejection);\n        }\n        function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n          var stream = controller._controlledWritableStream;\n          WritableStreamMarkFirstWriteRequestInFlight(stream);\n          var sinkWritePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'write', [chunk, controller]);\n          sinkWritePromise.then(function () {\n            WritableStreamFinishInFlightWrite(stream);\n            var state = stream._state;\n            assert(state === 'writable' || state === 'erroring');\n            DequeueValue(controller);\n            if (WritableStreamCloseQueuedOrInFlight(stream) === false && state === 'writable') {\n              var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n              WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n          }, function (reason) {\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n          }).catch(rethrowAssertionErrorRejection);\n        }\n        function WritableStreamDefaultControllerGetBackpressure(controller) {\n          var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n          return desiredSize <= 0;\n        }\n        function WritableStreamDefaultControllerError(controller, error) {\n          var stream = controller._controlledWritableStream;\n          assert(stream._state === 'writable');\n          WritableStreamStartErroring(stream, error);\n        }\n        function streamBrandCheckException(name) {\n          return new TypeError('WritableStream.prototype.' + name + ' can only be used on a WritableStream');\n        }\n        function defaultWriterBrandCheckException(name) {\n          return new TypeError('WritableStreamDefaultWriter.prototype.' + name + ' can only be used on a WritableStreamDefaultWriter');\n        }\n        function defaultWriterLockException(name) {\n          return new TypeError('Cannot ' + name + ' a stream using a released writer');\n        }\n        function defaultWriterClosedPromiseInitialize(writer) {\n          writer._closedPromise = new Promise(function (resolve, reject) {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n          });\n        }\n        function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n          writer._closedPromise = Promise.reject(reason);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'rejected';\n        }\n        function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n          writer._closedPromise = Promise.resolve(undefined);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'resolved';\n        }\n        function defaultWriterClosedPromiseReject(writer, reason) {\n          assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n          assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n          assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n          writer._closedPromise_reject(reason);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'rejected';\n        }\n        function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n          assert(writer._closedPromise_resolve === undefined, 'writer._closedPromise_resolve === undefined');\n          assert(writer._closedPromise_reject === undefined, 'writer._closedPromise_reject === undefined');\n          assert(writer._closedPromiseState !== 'pending', 'writer._closedPromiseState is not pending');\n          writer._closedPromise = Promise.reject(reason);\n          writer._closedPromiseState = 'rejected';\n        }\n        function defaultWriterClosedPromiseResolve(writer) {\n          assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n          assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n          assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n          writer._closedPromise_resolve(undefined);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'resolved';\n        }\n        function defaultWriterReadyPromiseInitialize(writer) {\n          writer._readyPromise = new Promise(function (resolve, reject) {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n          });\n          writer._readyPromiseState = 'pending';\n        }\n        function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n          writer._readyPromise = Promise.reject(reason);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'rejected';\n        }\n        function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n          writer._readyPromise = Promise.resolve(undefined);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'fulfilled';\n        }\n        function defaultWriterReadyPromiseReject(writer, reason) {\n          assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n          assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n          writer._readyPromise_reject(reason);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'rejected';\n        }\n        function defaultWriterReadyPromiseReset(writer) {\n          assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n          assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n          writer._readyPromise = new Promise(function (resolve, reject) {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n          });\n          writer._readyPromiseState = 'pending';\n        }\n        function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n          assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n          assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n          writer._readyPromise = Promise.reject(reason);\n          writer._readyPromiseState = 'rejected';\n        }\n        function defaultWriterReadyPromiseResolve(writer) {\n          assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n          assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n          writer._readyPromise_resolve(undefined);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'fulfilled';\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _require = __w_pdfjs_require__(0),\n          IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber;\n        var _require2 = __w_pdfjs_require__(1),\n          assert = _require2.assert;\n        exports.DequeueValue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          assert(container._queue.length > 0, 'Spec-level failure: should never dequeue from an empty queue.');\n          var pair = container._queue.shift();\n          container._queueTotalSize -= pair.size;\n          if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n          }\n          return pair.value;\n        };\n        exports.EnqueueValueWithSize = function (container, value, size) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and ' + '[[queueTotalSize]].');\n          size = Number(size);\n          if (!IsFiniteNonNegativeNumber(size)) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n          }\n          container._queue.push({\n            value: value,\n            size: size\n          });\n          container._queueTotalSize += size;\n        };\n        exports.PeekQueueValue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          assert(container._queue.length > 0, 'Spec-level failure: should never peek at an empty queue.');\n          var pair = container._queue[0];\n          return pair.value;\n        };\n        exports.ResetQueue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          container._queue = [];\n          container._queueTotalSize = 0;\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        var _require = __w_pdfjs_require__(0),\n          ArrayBufferCopy = _require.ArrayBufferCopy,\n          CreateIterResultObject = _require.CreateIterResultObject,\n          IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber,\n          InvokeOrNoop = _require.InvokeOrNoop,\n          PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n          TransferArrayBuffer = _require.TransferArrayBuffer,\n          ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n          ValidateAndNormalizeHighWaterMark = _require.ValidateAndNormalizeHighWaterMark;\n        var _require2 = __w_pdfjs_require__(0),\n          createArrayFromList = _require2.createArrayFromList,\n          createDataProperty = _require2.createDataProperty,\n          typeIsObject = _require2.typeIsObject;\n        var _require3 = __w_pdfjs_require__(1),\n          assert = _require3.assert,\n          rethrowAssertionErrorRejection = _require3.rethrowAssertionErrorRejection;\n        var _require4 = __w_pdfjs_require__(3),\n          DequeueValue = _require4.DequeueValue,\n          EnqueueValueWithSize = _require4.EnqueueValueWithSize,\n          ResetQueue = _require4.ResetQueue;\n        var _require5 = __w_pdfjs_require__(2),\n          AcquireWritableStreamDefaultWriter = _require5.AcquireWritableStreamDefaultWriter,\n          IsWritableStream = _require5.IsWritableStream,\n          IsWritableStreamLocked = _require5.IsWritableStreamLocked,\n          WritableStreamAbort = _require5.WritableStreamAbort,\n          WritableStreamDefaultWriterCloseWithErrorPropagation = _require5.WritableStreamDefaultWriterCloseWithErrorPropagation,\n          WritableStreamDefaultWriterRelease = _require5.WritableStreamDefaultWriterRelease,\n          WritableStreamDefaultWriterWrite = _require5.WritableStreamDefaultWriterWrite,\n          WritableStreamCloseQueuedOrInFlight = _require5.WritableStreamCloseQueuedOrInFlight;\n        var ReadableStream = function () {\n          function ReadableStream() {\n            var underlyingSource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n              size = _ref.size,\n              highWaterMark = _ref.highWaterMark;\n            _classCallCheck(this, ReadableStream);\n            this._state = 'readable';\n            this._reader = undefined;\n            this._storedError = undefined;\n            this._disturbed = false;\n            this._readableStreamController = undefined;\n            var type = underlyingSource.type;\n            var typeString = String(type);\n            if (typeString === 'bytes') {\n              if (highWaterMark === undefined) {\n                highWaterMark = 0;\n              }\n              this._readableStreamController = new ReadableByteStreamController(this, underlyingSource, highWaterMark);\n            } else if (type === undefined) {\n              if (highWaterMark === undefined) {\n                highWaterMark = 1;\n              }\n              this._readableStreamController = new ReadableStreamDefaultController(this, underlyingSource, size, highWaterMark);\n            } else {\n              throw new RangeError('Invalid type is specified');\n            }\n          }\n          _createClass(ReadableStream, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (IsReadableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('cancel'));\n              }\n              if (IsReadableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('Cannot cancel a stream that already has a reader'));\n              }\n              return ReadableStreamCancel(this, reason);\n            }\n          }, {\n            key: 'getReader',\n            value: function getReader() {\n              var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                mode = _ref2.mode;\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('getReader');\n              }\n              if (mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n              }\n              mode = String(mode);\n              if (mode === 'byob') {\n                return AcquireReadableStreamBYOBReader(this);\n              }\n              throw new RangeError('Invalid mode is specified');\n            }\n          }, {\n            key: 'pipeThrough',\n            value: function pipeThrough(_ref3, options) {\n              var writable = _ref3.writable,\n                readable = _ref3.readable;\n              var promise = this.pipeTo(writable, options);\n              ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise);\n              return readable;\n            }\n          }, {\n            key: 'pipeTo',\n            value: function pipeTo(dest) {\n              var _this = this;\n              var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n                preventClose = _ref4.preventClose,\n                preventAbort = _ref4.preventAbort,\n                preventCancel = _ref4.preventCancel;\n              if (IsReadableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('pipeTo'));\n              }\n              if (IsWritableStream(dest) === false) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo\\'s first argument must be a WritableStream'));\n              }\n              preventClose = Boolean(preventClose);\n              preventAbort = Boolean(preventAbort);\n              preventCancel = Boolean(preventCancel);\n              if (IsReadableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n              }\n              if (IsWritableStreamLocked(dest) === true) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n              }\n              var reader = AcquireReadableStreamDefaultReader(this);\n              var writer = AcquireWritableStreamDefaultWriter(dest);\n              var shuttingDown = false;\n              var currentWrite = Promise.resolve();\n              return new Promise(function (resolve, reject) {\n                function pipeLoop() {\n                  currentWrite = Promise.resolve();\n                  if (shuttingDown === true) {\n                    return Promise.resolve();\n                  }\n                  return writer._readyPromise.then(function () {\n                    return ReadableStreamDefaultReaderRead(reader).then(function (_ref5) {\n                      var value = _ref5.value,\n                        done = _ref5.done;\n                      if (done === true) {\n                        return;\n                      }\n                      currentWrite = WritableStreamDefaultWriterWrite(writer, value).catch(function () {});\n                    });\n                  }).then(pipeLoop);\n                }\n                isOrBecomesErrored(_this, reader._closedPromise, function (storedError) {\n                  if (preventAbort === false) {\n                    shutdownWithAction(function () {\n                      return WritableStreamAbort(dest, storedError);\n                    }, true, storedError);\n                  } else {\n                    shutdown(true, storedError);\n                  }\n                });\n                isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n                  if (preventCancel === false) {\n                    shutdownWithAction(function () {\n                      return ReadableStreamCancel(_this, storedError);\n                    }, true, storedError);\n                  } else {\n                    shutdown(true, storedError);\n                  }\n                });\n                isOrBecomesClosed(_this, reader._closedPromise, function () {\n                  if (preventClose === false) {\n                    shutdownWithAction(function () {\n                      return WritableStreamDefaultWriterCloseWithErrorPropagation(writer);\n                    });\n                  } else {\n                    shutdown();\n                  }\n                });\n                if (WritableStreamCloseQueuedOrInFlight(dest) === true || dest._state === 'closed') {\n                  var destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n                  if (preventCancel === false) {\n                    shutdownWithAction(function () {\n                      return ReadableStreamCancel(_this, destClosed);\n                    }, true, destClosed);\n                  } else {\n                    shutdown(true, destClosed);\n                  }\n                }\n                pipeLoop().catch(function (err) {\n                  currentWrite = Promise.resolve();\n                  rethrowAssertionErrorRejection(err);\n                });\n                function waitForWritesToFinish() {\n                  var oldCurrentWrite = currentWrite;\n                  return currentWrite.then(function () {\n                    return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined;\n                  });\n                }\n                function isOrBecomesErrored(stream, promise, action) {\n                  if (stream._state === 'errored') {\n                    action(stream._storedError);\n                  } else {\n                    promise.catch(action).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n                function isOrBecomesClosed(stream, promise, action) {\n                  if (stream._state === 'closed') {\n                    action();\n                  } else {\n                    promise.then(action).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n                function shutdownWithAction(action, originalIsError, originalError) {\n                  if (shuttingDown === true) {\n                    return;\n                  }\n                  shuttingDown = true;\n                  if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n                    waitForWritesToFinish().then(doTheRest);\n                  } else {\n                    doTheRest();\n                  }\n                  function doTheRest() {\n                    action().then(function () {\n                      return finalize(originalIsError, originalError);\n                    }, function (newError) {\n                      return finalize(true, newError);\n                    }).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n                function shutdown(isError, error) {\n                  if (shuttingDown === true) {\n                    return;\n                  }\n                  shuttingDown = true;\n                  if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n                    waitForWritesToFinish().then(function () {\n                      return finalize(isError, error);\n                    }).catch(rethrowAssertionErrorRejection);\n                  } else {\n                    finalize(isError, error);\n                  }\n                }\n                function finalize(isError, error) {\n                  WritableStreamDefaultWriterRelease(writer);\n                  ReadableStreamReaderGenericRelease(reader);\n                  if (isError) {\n                    reject(error);\n                  } else {\n                    resolve(undefined);\n                  }\n                }\n              });\n            }\n          }, {\n            key: 'tee',\n            value: function tee() {\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('tee');\n              }\n              var branches = ReadableStreamTee(this, false);\n              return createArrayFromList(branches);\n            }\n          }, {\n            key: 'locked',\n            get: function get() {\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('locked');\n              }\n              return IsReadableStreamLocked(this);\n            }\n          }]);\n          return ReadableStream;\n        }();\n        module.exports = {\n          ReadableStream: ReadableStream,\n          IsReadableStreamDisturbed: IsReadableStreamDisturbed,\n          ReadableStreamDefaultControllerClose: ReadableStreamDefaultControllerClose,\n          ReadableStreamDefaultControllerEnqueue: ReadableStreamDefaultControllerEnqueue,\n          ReadableStreamDefaultControllerError: ReadableStreamDefaultControllerError,\n          ReadableStreamDefaultControllerGetDesiredSize: ReadableStreamDefaultControllerGetDesiredSize\n        };\n        function AcquireReadableStreamBYOBReader(stream) {\n          return new ReadableStreamBYOBReader(stream);\n        }\n        function AcquireReadableStreamDefaultReader(stream) {\n          return new ReadableStreamDefaultReader(stream);\n        }\n        function IsReadableStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n          }\n          return true;\n        }\n        function IsReadableStreamDisturbed(stream) {\n          assert(IsReadableStream(stream) === true, 'IsReadableStreamDisturbed should only be used on known readable streams');\n          return stream._disturbed;\n        }\n        function IsReadableStreamLocked(stream) {\n          assert(IsReadableStream(stream) === true, 'IsReadableStreamLocked should only be used on known readable streams');\n          if (stream._reader === undefined) {\n            return false;\n          }\n          return true;\n        }\n        function ReadableStreamTee(stream, cloneForBranch2) {\n          assert(IsReadableStream(stream) === true);\n          assert(typeof cloneForBranch2 === 'boolean');\n          var reader = AcquireReadableStreamDefaultReader(stream);\n          var teeState = {\n            closedOrErrored: false,\n            canceled1: false,\n            canceled2: false,\n            reason1: undefined,\n            reason2: undefined\n          };\n          teeState.promise = new Promise(function (resolve) {\n            teeState._resolve = resolve;\n          });\n          var pull = create_ReadableStreamTeePullFunction();\n          pull._reader = reader;\n          pull._teeState = teeState;\n          pull._cloneForBranch2 = cloneForBranch2;\n          var cancel1 = create_ReadableStreamTeeBranch1CancelFunction();\n          cancel1._stream = stream;\n          cancel1._teeState = teeState;\n          var cancel2 = create_ReadableStreamTeeBranch2CancelFunction();\n          cancel2._stream = stream;\n          cancel2._teeState = teeState;\n          var underlyingSource1 = Object.create(Object.prototype);\n          createDataProperty(underlyingSource1, 'pull', pull);\n          createDataProperty(underlyingSource1, 'cancel', cancel1);\n          var branch1Stream = new ReadableStream(underlyingSource1);\n          var underlyingSource2 = Object.create(Object.prototype);\n          createDataProperty(underlyingSource2, 'pull', pull);\n          createDataProperty(underlyingSource2, 'cancel', cancel2);\n          var branch2Stream = new ReadableStream(underlyingSource2);\n          pull._branch1 = branch1Stream._readableStreamController;\n          pull._branch2 = branch2Stream._readableStreamController;\n          reader._closedPromise.catch(function (r) {\n            if (teeState.closedOrErrored === true) {\n              return;\n            }\n            ReadableStreamDefaultControllerError(pull._branch1, r);\n            ReadableStreamDefaultControllerError(pull._branch2, r);\n            teeState.closedOrErrored = true;\n          });\n          return [branch1Stream, branch2Stream];\n        }\n        function create_ReadableStreamTeePullFunction() {\n          function f() {\n            var reader = f._reader,\n              branch1 = f._branch1,\n              branch2 = f._branch2,\n              teeState = f._teeState;\n            return ReadableStreamDefaultReaderRead(reader).then(function (result) {\n              assert(typeIsObject(result));\n              var value = result.value;\n              var done = result.done;\n              assert(typeof done === 'boolean');\n              if (done === true && teeState.closedOrErrored === false) {\n                if (teeState.canceled1 === false) {\n                  ReadableStreamDefaultControllerClose(branch1);\n                }\n                if (teeState.canceled2 === false) {\n                  ReadableStreamDefaultControllerClose(branch2);\n                }\n                teeState.closedOrErrored = true;\n              }\n              if (teeState.closedOrErrored === true) {\n                return;\n              }\n              var value1 = value;\n              var value2 = value;\n              if (teeState.canceled1 === false) {\n                ReadableStreamDefaultControllerEnqueue(branch1, value1);\n              }\n              if (teeState.canceled2 === false) {\n                ReadableStreamDefaultControllerEnqueue(branch2, value2);\n              }\n            });\n          }\n          return f;\n        }\n        function create_ReadableStreamTeeBranch1CancelFunction() {\n          function f(reason) {\n            var stream = f._stream,\n              teeState = f._teeState;\n            teeState.canceled1 = true;\n            teeState.reason1 = reason;\n            if (teeState.canceled2 === true) {\n              var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n              var cancelResult = ReadableStreamCancel(stream, compositeReason);\n              teeState._resolve(cancelResult);\n            }\n            return teeState.promise;\n          }\n          return f;\n        }\n        function create_ReadableStreamTeeBranch2CancelFunction() {\n          function f(reason) {\n            var stream = f._stream,\n              teeState = f._teeState;\n            teeState.canceled2 = true;\n            teeState.reason2 = reason;\n            if (teeState.canceled1 === true) {\n              var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n              var cancelResult = ReadableStreamCancel(stream, compositeReason);\n              teeState._resolve(cancelResult);\n            }\n            return teeState.promise;\n          }\n          return f;\n        }\n        function ReadableStreamAddReadIntoRequest(stream) {\n          assert(IsReadableStreamBYOBReader(stream._reader) === true);\n          assert(stream._state === 'readable' || stream._state === 'closed');\n          var promise = new Promise(function (resolve, reject) {\n            var readIntoRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n            stream._reader._readIntoRequests.push(readIntoRequest);\n          });\n          return promise;\n        }\n        function ReadableStreamAddReadRequest(stream) {\n          assert(IsReadableStreamDefaultReader(stream._reader) === true);\n          assert(stream._state === 'readable');\n          var promise = new Promise(function (resolve, reject) {\n            var readRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n            stream._reader._readRequests.push(readRequest);\n          });\n          return promise;\n        }\n        function ReadableStreamCancel(stream, reason) {\n          stream._disturbed = true;\n          if (stream._state === 'closed') {\n            return Promise.resolve(undefined);\n          }\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          ReadableStreamClose(stream);\n          var sourceCancelPromise = stream._readableStreamController.__cancelSteps(reason);\n          return sourceCancelPromise.then(function () {\n            return undefined;\n          });\n        }\n        function ReadableStreamClose(stream) {\n          assert(stream._state === 'readable');\n          stream._state = 'closed';\n          var reader = stream._reader;\n          if (reader === undefined) {\n            return undefined;\n          }\n          if (IsReadableStreamDefaultReader(reader) === true) {\n            for (var i = 0; i < reader._readRequests.length; i++) {\n              var _resolve = reader._readRequests[i]._resolve;\n              _resolve(CreateIterResultObject(undefined, true));\n            }\n            reader._readRequests = [];\n          }\n          defaultReaderClosedPromiseResolve(reader);\n          return undefined;\n        }\n        function ReadableStreamError(stream, e) {\n          assert(IsReadableStream(stream) === true, 'stream must be ReadableStream');\n          assert(stream._state === 'readable', 'state must be readable');\n          stream._state = 'errored';\n          stream._storedError = e;\n          var reader = stream._reader;\n          if (reader === undefined) {\n            return undefined;\n          }\n          if (IsReadableStreamDefaultReader(reader) === true) {\n            for (var i = 0; i < reader._readRequests.length; i++) {\n              var readRequest = reader._readRequests[i];\n              readRequest._reject(e);\n            }\n            reader._readRequests = [];\n          } else {\n            assert(IsReadableStreamBYOBReader(reader), 'reader must be ReadableStreamBYOBReader');\n            for (var _i = 0; _i < reader._readIntoRequests.length; _i++) {\n              var readIntoRequest = reader._readIntoRequests[_i];\n              readIntoRequest._reject(e);\n            }\n            reader._readIntoRequests = [];\n          }\n          defaultReaderClosedPromiseReject(reader, e);\n          reader._closedPromise.catch(function () {});\n        }\n        function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n          var reader = stream._reader;\n          assert(reader._readIntoRequests.length > 0);\n          var readIntoRequest = reader._readIntoRequests.shift();\n          readIntoRequest._resolve(CreateIterResultObject(chunk, done));\n        }\n        function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n          var reader = stream._reader;\n          assert(reader._readRequests.length > 0);\n          var readRequest = reader._readRequests.shift();\n          readRequest._resolve(CreateIterResultObject(chunk, done));\n        }\n        function ReadableStreamGetNumReadIntoRequests(stream) {\n          return stream._reader._readIntoRequests.length;\n        }\n        function ReadableStreamGetNumReadRequests(stream) {\n          return stream._reader._readRequests.length;\n        }\n        function ReadableStreamHasBYOBReader(stream) {\n          var reader = stream._reader;\n          if (reader === undefined) {\n            return false;\n          }\n          if (IsReadableStreamBYOBReader(reader) === false) {\n            return false;\n          }\n          return true;\n        }\n        function ReadableStreamHasDefaultReader(stream) {\n          var reader = stream._reader;\n          if (reader === undefined) {\n            return false;\n          }\n          if (IsReadableStreamDefaultReader(reader) === false) {\n            return false;\n          }\n          return true;\n        }\n        var ReadableStreamDefaultReader = function () {\n          function ReadableStreamDefaultReader(stream) {\n            _classCallCheck(this, ReadableStreamDefaultReader);\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');\n            }\n            if (IsReadableStreamLocked(stream) === true) {\n              throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = [];\n          }\n          _createClass(ReadableStreamDefaultReader, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('cancel'));\n              }\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('cancel'));\n              }\n              return ReadableStreamReaderGenericCancel(this, reason);\n            }\n          }, {\n            key: 'read',\n            value: function read() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('read'));\n              }\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('read from'));\n              }\n              return ReadableStreamDefaultReaderRead(this);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                throw defaultReaderBrandCheckException('releaseLock');\n              }\n              if (this._ownerReadableStream === undefined) {\n                return;\n              }\n              if (this._readRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n              }\n              ReadableStreamReaderGenericRelease(this);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('closed'));\n              }\n              return this._closedPromise;\n            }\n          }]);\n          return ReadableStreamDefaultReader;\n        }();\n        var ReadableStreamBYOBReader = function () {\n          function ReadableStreamBYOBReader(stream) {\n            _classCallCheck(this, ReadableStreamBYOBReader);\n            if (!IsReadableStream(stream)) {\n              throw new TypeError('ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a ' + 'byte source');\n            }\n            if (IsReadableByteStreamController(stream._readableStreamController) === false) {\n              throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' + 'source');\n            }\n            if (IsReadableStreamLocked(stream)) {\n              throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = [];\n          }\n          _createClass(ReadableStreamBYOBReader, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('cancel'));\n              }\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('cancel'));\n              }\n              return ReadableStreamReaderGenericCancel(this, reason);\n            }\n          }, {\n            key: 'read',\n            value: function read(view) {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('read'));\n              }\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('read from'));\n              }\n              if (!ArrayBuffer.isView(view)) {\n                return Promise.reject(new TypeError('view must be an array buffer view'));\n              }\n              if (view.byteLength === 0) {\n                return Promise.reject(new TypeError('view must have non-zero byteLength'));\n              }\n              return ReadableStreamBYOBReaderRead(this, view);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n              }\n              if (this._ownerReadableStream === undefined) {\n                return;\n              }\n              if (this._readIntoRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n              }\n              ReadableStreamReaderGenericRelease(this);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('closed'));\n              }\n              return this._closedPromise;\n            }\n          }]);\n          return ReadableStreamBYOBReader;\n        }();\n        function IsReadableStreamBYOBReader(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n          }\n          return true;\n        }\n        function IsReadableStreamDefaultReader(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n          }\n          return true;\n        }\n        function ReadableStreamReaderGenericInitialize(reader, stream) {\n          reader._ownerReadableStream = stream;\n          stream._reader = reader;\n          if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n          } else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n          } else {\n            assert(stream._state === 'errored', 'state must be errored');\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n            reader._closedPromise.catch(function () {});\n          }\n        }\n        function ReadableStreamReaderGenericCancel(reader, reason) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          return ReadableStreamCancel(stream, reason);\n        }\n        function ReadableStreamReaderGenericRelease(reader) {\n          assert(reader._ownerReadableStream !== undefined);\n          assert(reader._ownerReadableStream._reader === reader);\n          if (reader._ownerReadableStream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n          } else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n          }\n          reader._closedPromise.catch(function () {});\n          reader._ownerReadableStream._reader = undefined;\n          reader._ownerReadableStream = undefined;\n        }\n        function ReadableStreamBYOBReaderRead(reader, view) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          stream._disturbed = true;\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          return ReadableByteStreamControllerPullInto(stream._readableStreamController, view);\n        }\n        function ReadableStreamDefaultReaderRead(reader) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          stream._disturbed = true;\n          if (stream._state === 'closed') {\n            return Promise.resolve(CreateIterResultObject(undefined, true));\n          }\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n          assert(stream._state === 'readable');\n          return stream._readableStreamController.__pullSteps();\n        }\n        var ReadableStreamDefaultController = function () {\n          function ReadableStreamDefaultController(stream, underlyingSource, size, highWaterMark) {\n            _classCallCheck(this, ReadableStreamDefaultController);\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableStreamDefaultController can only be constructed with a ReadableStream instance');\n            }\n            if (stream._readableStreamController !== undefined) {\n              throw new TypeError('ReadableStreamDefaultController instances can only be created by the ReadableStream constructor');\n            }\n            this._controlledReadableStream = stream;\n            this._underlyingSource = underlyingSource;\n            this._queue = undefined;\n            this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._started = false;\n            this._closeRequested = false;\n            this._pullAgain = false;\n            this._pulling = false;\n            var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n            this._strategySize = normalizedStrategy.size;\n            this._strategyHWM = normalizedStrategy.highWaterMark;\n            var controller = this;\n            var startResult = InvokeOrNoop(underlyingSource, 'start', [this]);\n            Promise.resolve(startResult).then(function () {\n              controller._started = true;\n              assert(controller._pulling === false);\n              assert(controller._pullAgain === false);\n              ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }, function (r) {\n              ReadableStreamDefaultControllerErrorIfNeeded(controller, r);\n            }).catch(rethrowAssertionErrorRejection);\n          }\n          _createClass(ReadableStreamDefaultController, [{\n            key: 'close',\n            value: function close() {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('close');\n              }\n              if (this._closeRequested === true) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n              }\n              var state = this._controlledReadableStream._state;\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n              }\n              ReadableStreamDefaultControllerClose(this);\n            }\n          }, {\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('enqueue');\n              }\n              if (this._closeRequested === true) {\n                throw new TypeError('stream is closed or draining');\n              }\n              var state = this._controlledReadableStream._state;\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n              }\n              return ReadableStreamDefaultControllerEnqueue(this, chunk);\n            }\n          }, {\n            key: 'error',\n            value: function error(e) {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('error');\n              }\n              var stream = this._controlledReadableStream;\n              if (stream._state !== 'readable') {\n                throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n              }\n              ReadableStreamDefaultControllerError(this, e);\n            }\n          }, {\n            key: '__cancelSteps',\n            value: function __cancelSteps(reason) {\n              ResetQueue(this);\n              return PromiseInvokeOrNoop(this._underlyingSource, 'cancel', [reason]);\n            }\n          }, {\n            key: '__pullSteps',\n            value: function __pullSteps() {\n              var stream = this._controlledReadableStream;\n              if (this._queue.length > 0) {\n                var chunk = DequeueValue(this);\n                if (this._closeRequested === true && this._queue.length === 0) {\n                  ReadableStreamClose(stream);\n                } else {\n                  ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n                return Promise.resolve(CreateIterResultObject(chunk, false));\n              }\n              var pendingPromise = ReadableStreamAddReadRequest(stream);\n              ReadableStreamDefaultControllerCallPullIfNeeded(this);\n              return pendingPromise;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('desiredSize');\n              }\n              return ReadableStreamDefaultControllerGetDesiredSize(this);\n            }\n          }]);\n          return ReadableStreamDefaultController;\n        }();\n        function IsReadableStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSource')) {\n            return false;\n          }\n          return true;\n        }\n        function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n          var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n          if (shouldPull === false) {\n            return undefined;\n          }\n          if (controller._pulling === true) {\n            controller._pullAgain = true;\n            return undefined;\n          }\n          assert(controller._pullAgain === false);\n          controller._pulling = true;\n          var pullPromise = PromiseInvokeOrNoop(controller._underlyingSource, 'pull', [controller]);\n          pullPromise.then(function () {\n            controller._pulling = false;\n            if (controller._pullAgain === true) {\n              controller._pullAgain = false;\n              return ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n            return undefined;\n          }, function (e) {\n            ReadableStreamDefaultControllerErrorIfNeeded(controller, e);\n          }).catch(rethrowAssertionErrorRejection);\n          return undefined;\n        }\n        function ReadableStreamDefaultControllerShouldCallPull(controller) {\n          var stream = controller._controlledReadableStream;\n          if (stream._state === 'closed' || stream._state === 'errored') {\n            return false;\n          }\n          if (controller._closeRequested === true) {\n            return false;\n          }\n          if (controller._started === false) {\n            return false;\n          }\n          if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n          }\n          var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n          if (desiredSize > 0) {\n            return true;\n          }\n          return false;\n        }\n        function ReadableStreamDefaultControllerClose(controller) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          controller._closeRequested = true;\n          if (controller._queue.length === 0) {\n            ReadableStreamClose(stream);\n          }\n        }\n        function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n          } else {\n            var chunkSize = 1;\n            if (controller._strategySize !== undefined) {\n              var strategySize = controller._strategySize;\n              try {\n                chunkSize = strategySize(chunk);\n              } catch (chunkSizeE) {\n                ReadableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n                throw chunkSizeE;\n              }\n            }\n            try {\n              EnqueueValueWithSize(controller, chunk, chunkSize);\n            } catch (enqueueE) {\n              ReadableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n              throw enqueueE;\n            }\n          }\n          ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n          return undefined;\n        }\n        function ReadableStreamDefaultControllerError(controller, e) {\n          var stream = controller._controlledReadableStream;\n          assert(stream._state === 'readable');\n          ResetQueue(controller);\n          ReadableStreamError(stream, e);\n        }\n        function ReadableStreamDefaultControllerErrorIfNeeded(controller, e) {\n          if (controller._controlledReadableStream._state === 'readable') {\n            ReadableStreamDefaultControllerError(controller, e);\n          }\n        }\n        function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n          var stream = controller._controlledReadableStream;\n          var state = stream._state;\n          if (state === 'errored') {\n            return null;\n          }\n          if (state === 'closed') {\n            return 0;\n          }\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n        var ReadableStreamBYOBRequest = function () {\n          function ReadableStreamBYOBRequest(controller, view) {\n            _classCallCheck(this, ReadableStreamBYOBRequest);\n            this._associatedReadableByteStreamController = controller;\n            this._view = view;\n          }\n          _createClass(ReadableStreamBYOBRequest, [{\n            key: 'respond',\n            value: function respond(bytesWritten) {\n              if (IsReadableStreamBYOBRequest(this) === false) {\n                throw byobRequestBrandCheckException('respond');\n              }\n              if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n              }\n              ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n            }\n          }, {\n            key: 'respondWithNewView',\n            value: function respondWithNewView(view) {\n              if (IsReadableStreamBYOBRequest(this) === false) {\n                throw byobRequestBrandCheckException('respond');\n              }\n              if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n              }\n              if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n              }\n              ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n            }\n          }, {\n            key: 'view',\n            get: function get() {\n              return this._view;\n            }\n          }]);\n          return ReadableStreamBYOBRequest;\n        }();\n        var ReadableByteStreamController = function () {\n          function ReadableByteStreamController(stream, underlyingByteSource, highWaterMark) {\n            _classCallCheck(this, ReadableByteStreamController);\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableByteStreamController can only be constructed with a ReadableStream instance given ' + 'a byte source');\n            }\n            if (stream._readableStreamController !== undefined) {\n              throw new TypeError('ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte ' + 'source');\n            }\n            this._controlledReadableStream = stream;\n            this._underlyingByteSource = underlyingByteSource;\n            this._pullAgain = false;\n            this._pulling = false;\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            this._queue = this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._closeRequested = false;\n            this._started = false;\n            this._strategyHWM = ValidateAndNormalizeHighWaterMark(highWaterMark);\n            var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n            if (autoAllocateChunkSize !== undefined) {\n              if (Number.isInteger(autoAllocateChunkSize) === false || autoAllocateChunkSize <= 0) {\n                throw new RangeError('autoAllocateChunkSize must be a positive integer');\n              }\n            }\n            this._autoAllocateChunkSize = autoAllocateChunkSize;\n            this._pendingPullIntos = [];\n            var controller = this;\n            var startResult = InvokeOrNoop(underlyingByteSource, 'start', [this]);\n            Promise.resolve(startResult).then(function () {\n              controller._started = true;\n              assert(controller._pulling === false);\n              assert(controller._pullAgain === false);\n              ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }, function (r) {\n              if (stream._state === 'readable') {\n                ReadableByteStreamControllerError(controller, r);\n              }\n            }).catch(rethrowAssertionErrorRejection);\n          }\n          _createClass(ReadableByteStreamController, [{\n            key: 'close',\n            value: function close() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('close');\n              }\n              if (this._closeRequested === true) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n              }\n              var state = this._controlledReadableStream._state;\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n              }\n              ReadableByteStreamControllerClose(this);\n            }\n          }, {\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n              }\n              if (this._closeRequested === true) {\n                throw new TypeError('stream is closed or draining');\n              }\n              var state = this._controlledReadableStream._state;\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n              }\n              if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');\n              }\n              ReadableByteStreamControllerEnqueue(this, chunk);\n            }\n          }, {\n            key: 'error',\n            value: function error(e) {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('error');\n              }\n              var stream = this._controlledReadableStream;\n              if (stream._state !== 'readable') {\n                throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n              }\n              ReadableByteStreamControllerError(this, e);\n            }\n          }, {\n            key: '__cancelSteps',\n            value: function __cancelSteps(reason) {\n              if (this._pendingPullIntos.length > 0) {\n                var firstDescriptor = this._pendingPullIntos[0];\n                firstDescriptor.bytesFilled = 0;\n              }\n              ResetQueue(this);\n              return PromiseInvokeOrNoop(this._underlyingByteSource, 'cancel', [reason]);\n            }\n          }, {\n            key: '__pullSteps',\n            value: function __pullSteps() {\n              var stream = this._controlledReadableStream;\n              assert(ReadableStreamHasDefaultReader(stream) === true);\n              if (this._queueTotalSize > 0) {\n                assert(ReadableStreamGetNumReadRequests(stream) === 0);\n                var entry = this._queue.shift();\n                this._queueTotalSize -= entry.byteLength;\n                ReadableByteStreamControllerHandleQueueDrain(this);\n                var view = void 0;\n                try {\n                  view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n                } catch (viewE) {\n                  return Promise.reject(viewE);\n                }\n                return Promise.resolve(CreateIterResultObject(view, false));\n              }\n              var autoAllocateChunkSize = this._autoAllocateChunkSize;\n              if (autoAllocateChunkSize !== undefined) {\n                var buffer = void 0;\n                try {\n                  buffer = new ArrayBuffer(autoAllocateChunkSize);\n                } catch (bufferE) {\n                  return Promise.reject(bufferE);\n                }\n                var pullIntoDescriptor = {\n                  buffer: buffer,\n                  byteOffset: 0,\n                  byteLength: autoAllocateChunkSize,\n                  bytesFilled: 0,\n                  elementSize: 1,\n                  ctor: Uint8Array,\n                  readerType: 'default'\n                };\n                this._pendingPullIntos.push(pullIntoDescriptor);\n              }\n              var promise = ReadableStreamAddReadRequest(stream);\n              ReadableByteStreamControllerCallPullIfNeeded(this);\n              return promise;\n            }\n          }, {\n            key: 'byobRequest',\n            get: function get() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n              }\n              if (this._byobRequest === undefined && this._pendingPullIntos.length > 0) {\n                var firstDescriptor = this._pendingPullIntos[0];\n                var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n                this._byobRequest = new ReadableStreamBYOBRequest(this, view);\n              }\n              return this._byobRequest;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n              }\n              return ReadableByteStreamControllerGetDesiredSize(this);\n            }\n          }]);\n          return ReadableByteStreamController;\n        }();\n        function IsReadableByteStreamController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingByteSource')) {\n            return false;\n          }\n          return true;\n        }\n        function IsReadableStreamBYOBRequest(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n          }\n          return true;\n        }\n        function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n          var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n          if (shouldPull === false) {\n            return undefined;\n          }\n          if (controller._pulling === true) {\n            controller._pullAgain = true;\n            return undefined;\n          }\n          assert(controller._pullAgain === false);\n          controller._pulling = true;\n          var pullPromise = PromiseInvokeOrNoop(controller._underlyingByteSource, 'pull', [controller]);\n          pullPromise.then(function () {\n            controller._pulling = false;\n            if (controller._pullAgain === true) {\n              controller._pullAgain = false;\n              ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n          }, function (e) {\n            if (controller._controlledReadableStream._state === 'readable') {\n              ReadableByteStreamControllerError(controller, e);\n            }\n          }).catch(rethrowAssertionErrorRejection);\n          return undefined;\n        }\n        function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          controller._pendingPullIntos = [];\n        }\n        function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n          assert(stream._state !== 'errored', 'state must not be errored');\n          var done = false;\n          if (stream._state === 'closed') {\n            assert(pullIntoDescriptor.bytesFilled === 0);\n            done = true;\n          }\n          var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n          if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n          } else {\n            assert(pullIntoDescriptor.readerType === 'byob');\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n          }\n        }\n        function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n          var bytesFilled = pullIntoDescriptor.bytesFilled;\n          var elementSize = pullIntoDescriptor.elementSize;\n          assert(bytesFilled <= pullIntoDescriptor.byteLength);\n          assert(bytesFilled % elementSize === 0);\n          return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n        }\n        function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n          controller._queue.push({\n            buffer: buffer,\n            byteOffset: byteOffset,\n            byteLength: byteLength\n          });\n          controller._queueTotalSize += byteLength;\n        }\n        function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n          var elementSize = pullIntoDescriptor.elementSize;\n          var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n          var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n          var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n          var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n          var totalBytesToCopyRemaining = maxBytesToCopy;\n          var ready = false;\n          if (maxAlignedBytes > currentAlignedBytes) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n          }\n          var queue = controller._queue;\n          while (totalBytesToCopyRemaining > 0) {\n            var headOfQueue = queue[0];\n            var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            ArrayBufferCopy(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n            if (headOfQueue.byteLength === bytesToCopy) {\n              queue.shift();\n            } else {\n              headOfQueue.byteOffset += bytesToCopy;\n              headOfQueue.byteLength -= bytesToCopy;\n            }\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n          }\n          if (ready === false) {\n            assert(controller._queueTotalSize === 0, 'queue must be empty');\n            assert(pullIntoDescriptor.bytesFilled > 0);\n            assert(pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize);\n          }\n          return ready;\n        }\n        function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n          assert(controller._pendingPullIntos.length === 0 || controller._pendingPullIntos[0] === pullIntoDescriptor);\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          pullIntoDescriptor.bytesFilled += size;\n        }\n        function ReadableByteStreamControllerHandleQueueDrain(controller) {\n          assert(controller._controlledReadableStream._state === 'readable');\n          if (controller._queueTotalSize === 0 && controller._closeRequested === true) {\n            ReadableStreamClose(controller._controlledReadableStream);\n          } else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n          }\n        }\n        function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n          if (controller._byobRequest === undefined) {\n            return;\n          }\n          controller._byobRequest._associatedReadableByteStreamController = undefined;\n          controller._byobRequest._view = undefined;\n          controller._byobRequest = undefined;\n        }\n        function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n          assert(controller._closeRequested === false);\n          while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n              return;\n            }\n            var pullIntoDescriptor = controller._pendingPullIntos[0];\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n              ReadableByteStreamControllerShiftPendingPullInto(controller);\n              ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n            }\n          }\n        }\n        function ReadableByteStreamControllerPullInto(controller, view) {\n          var stream = controller._controlledReadableStream;\n          var elementSize = 1;\n          if (view.constructor !== DataView) {\n            elementSize = view.constructor.BYTES_PER_ELEMENT;\n          }\n          var ctor = view.constructor;\n          var pullIntoDescriptor = {\n            buffer: view.buffer,\n            byteOffset: view.byteOffset,\n            byteLength: view.byteLength,\n            bytesFilled: 0,\n            elementSize: elementSize,\n            ctor: ctor,\n            readerType: 'byob'\n          };\n          if (controller._pendingPullIntos.length > 0) {\n            pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n            return ReadableStreamAddReadIntoRequest(stream);\n          }\n          if (stream._state === 'closed') {\n            var emptyView = new view.constructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            return Promise.resolve(CreateIterResultObject(emptyView, true));\n          }\n          if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n              var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n              ReadableByteStreamControllerHandleQueueDrain(controller);\n              return Promise.resolve(CreateIterResultObject(filledView, false));\n            }\n            if (controller._closeRequested === true) {\n              var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n              ReadableByteStreamControllerError(controller, e);\n              return Promise.reject(e);\n            }\n          }\n          pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n          controller._pendingPullIntos.push(pullIntoDescriptor);\n          var promise = ReadableStreamAddReadIntoRequest(stream);\n          ReadableByteStreamControllerCallPullIfNeeded(controller);\n          return promise;\n        }\n        function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n          firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n          assert(firstDescriptor.bytesFilled === 0, 'bytesFilled must be 0');\n          var stream = controller._controlledReadableStream;\n          if (ReadableStreamHasBYOBReader(stream) === true) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n              var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n              ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n          }\n        }\n        function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n          if (pullIntoDescriptor.bytesFilled + bytesWritten > pullIntoDescriptor.byteLength) {\n            throw new RangeError('bytesWritten out of range');\n          }\n          ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n          if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n            return;\n          }\n          ReadableByteStreamControllerShiftPendingPullInto(controller);\n          var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n          if (remainderSize > 0) {\n            var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            var remainder = pullIntoDescriptor.buffer.slice(end - remainderSize, end);\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n          }\n          pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n          pullIntoDescriptor.bytesFilled -= remainderSize;\n          ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n          ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n        function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n          var firstDescriptor = controller._pendingPullIntos[0];\n          var stream = controller._controlledReadableStream;\n          if (stream._state === 'closed') {\n            if (bytesWritten !== 0) {\n              throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n            ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n          } else {\n            assert(stream._state === 'readable');\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n          }\n        }\n        function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n          var descriptor = controller._pendingPullIntos.shift();\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          return descriptor;\n        }\n        function ReadableByteStreamControllerShouldCallPull(controller) {\n          var stream = controller._controlledReadableStream;\n          if (stream._state !== 'readable') {\n            return false;\n          }\n          if (controller._closeRequested === true) {\n            return false;\n          }\n          if (controller._started === false) {\n            return false;\n          }\n          if (ReadableStreamHasDefaultReader(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n          }\n          if (ReadableStreamHasBYOBReader(stream) === true && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n          }\n          if (ReadableByteStreamControllerGetDesiredSize(controller) > 0) {\n            return true;\n          }\n          return false;\n        }\n        function ReadableByteStreamControllerClose(controller) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n          }\n          if (controller._pendingPullIntos.length > 0) {\n            var firstPendingPullInto = controller._pendingPullIntos[0];\n            if (firstPendingPullInto.bytesFilled > 0) {\n              var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n              ReadableByteStreamControllerError(controller, e);\n              throw e;\n            }\n          }\n          ReadableStreamClose(stream);\n        }\n        function ReadableByteStreamControllerEnqueue(controller, chunk) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          var buffer = chunk.buffer;\n          var byteOffset = chunk.byteOffset;\n          var byteLength = chunk.byteLength;\n          var transferredBuffer = TransferArrayBuffer(buffer);\n          if (ReadableStreamHasDefaultReader(stream) === true) {\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n              ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            } else {\n              assert(controller._queue.length === 0);\n              var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n              ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n          } else if (ReadableStreamHasBYOBReader(stream) === true) {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n          } else {\n            assert(IsReadableStreamLocked(stream) === false, 'stream must not be locked');\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n          }\n        }\n        function ReadableByteStreamControllerError(controller, e) {\n          var stream = controller._controlledReadableStream;\n          assert(stream._state === 'readable');\n          ReadableByteStreamControllerClearPendingPullIntos(controller);\n          ResetQueue(controller);\n          ReadableStreamError(stream, e);\n        }\n        function ReadableByteStreamControllerGetDesiredSize(controller) {\n          var stream = controller._controlledReadableStream;\n          var state = stream._state;\n          if (state === 'errored') {\n            return null;\n          }\n          if (state === 'closed') {\n            return 0;\n          }\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n        function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n          bytesWritten = Number(bytesWritten);\n          if (IsFiniteNonNegativeNumber(bytesWritten) === false) {\n            throw new RangeError('bytesWritten must be a finite');\n          }\n          assert(controller._pendingPullIntos.length > 0);\n          ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n        }\n        function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n          assert(controller._pendingPullIntos.length > 0);\n          var firstDescriptor = controller._pendingPullIntos[0];\n          if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n          }\n          if (firstDescriptor.byteLength !== view.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n          }\n          firstDescriptor.buffer = view.buffer;\n          ReadableByteStreamControllerRespondInternal(controller, view.byteLength);\n        }\n        function streamBrandCheckException(name) {\n          return new TypeError('ReadableStream.prototype.' + name + ' can only be used on a ReadableStream');\n        }\n        function readerLockException(name) {\n          return new TypeError('Cannot ' + name + ' a stream using a released reader');\n        }\n        function defaultReaderBrandCheckException(name) {\n          return new TypeError('ReadableStreamDefaultReader.prototype.' + name + ' can only be used on a ReadableStreamDefaultReader');\n        }\n        function defaultReaderClosedPromiseInitialize(reader) {\n          reader._closedPromise = new Promise(function (resolve, reject) {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n          });\n        }\n        function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n          reader._closedPromise = Promise.reject(reason);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n        function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n          reader._closedPromise = Promise.resolve(undefined);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n        function defaultReaderClosedPromiseReject(reader, reason) {\n          assert(reader._closedPromise_resolve !== undefined);\n          assert(reader._closedPromise_reject !== undefined);\n          reader._closedPromise_reject(reason);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n        function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n          assert(reader._closedPromise_resolve === undefined);\n          assert(reader._closedPromise_reject === undefined);\n          reader._closedPromise = Promise.reject(reason);\n        }\n        function defaultReaderClosedPromiseResolve(reader) {\n          assert(reader._closedPromise_resolve !== undefined);\n          assert(reader._closedPromise_reject !== undefined);\n          reader._closedPromise_resolve(undefined);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n        function byobReaderBrandCheckException(name) {\n          return new TypeError('ReadableStreamBYOBReader.prototype.' + name + ' can only be used on a ReadableStreamBYOBReader');\n        }\n        function defaultControllerBrandCheckException(name) {\n          return new TypeError('ReadableStreamDefaultController.prototype.' + name + ' can only be used on a ReadableStreamDefaultController');\n        }\n        function byobRequestBrandCheckException(name) {\n          return new TypeError('ReadableStreamBYOBRequest.prototype.' + name + ' can only be used on a ReadableStreamBYOBRequest');\n        }\n        function byteStreamControllerBrandCheckException(name) {\n          return new TypeError('ReadableByteStreamController.prototype.' + name + ' can only be used on a ReadableByteStreamController');\n        }\n        function ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise) {\n          try {\n            Promise.prototype.then.call(promise, undefined, function () {});\n          } catch (e) {}\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var transformStream = __w_pdfjs_require__(6);\n        var readableStream = __w_pdfjs_require__(4);\n        var writableStream = __w_pdfjs_require__(2);\n        exports.TransformStream = transformStream.TransformStream;\n        exports.ReadableStream = readableStream.ReadableStream;\n        exports.IsReadableStreamDisturbed = readableStream.IsReadableStreamDisturbed;\n        exports.ReadableStreamDefaultControllerClose = readableStream.ReadableStreamDefaultControllerClose;\n        exports.ReadableStreamDefaultControllerEnqueue = readableStream.ReadableStreamDefaultControllerEnqueue;\n        exports.ReadableStreamDefaultControllerError = readableStream.ReadableStreamDefaultControllerError;\n        exports.ReadableStreamDefaultControllerGetDesiredSize = readableStream.ReadableStreamDefaultControllerGetDesiredSize;\n        exports.AcquireWritableStreamDefaultWriter = writableStream.AcquireWritableStreamDefaultWriter;\n        exports.IsWritableStream = writableStream.IsWritableStream;\n        exports.IsWritableStreamLocked = writableStream.IsWritableStreamLocked;\n        exports.WritableStream = writableStream.WritableStream;\n        exports.WritableStreamAbort = writableStream.WritableStreamAbort;\n        exports.WritableStreamDefaultControllerError = writableStream.WritableStreamDefaultControllerError;\n        exports.WritableStreamDefaultWriterCloseWithErrorPropagation = writableStream.WritableStreamDefaultWriterCloseWithErrorPropagation;\n        exports.WritableStreamDefaultWriterRelease = writableStream.WritableStreamDefaultWriterRelease;\n        exports.WritableStreamDefaultWriterWrite = writableStream.WritableStreamDefaultWriterWrite;\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        var _require = __w_pdfjs_require__(1),\n          assert = _require.assert;\n        var _require2 = __w_pdfjs_require__(0),\n          InvokeOrNoop = _require2.InvokeOrNoop,\n          PromiseInvokeOrPerformFallback = _require2.PromiseInvokeOrPerformFallback,\n          PromiseInvokeOrNoop = _require2.PromiseInvokeOrNoop,\n          typeIsObject = _require2.typeIsObject;\n        var _require3 = __w_pdfjs_require__(4),\n          ReadableStream = _require3.ReadableStream,\n          ReadableStreamDefaultControllerClose = _require3.ReadableStreamDefaultControllerClose,\n          ReadableStreamDefaultControllerEnqueue = _require3.ReadableStreamDefaultControllerEnqueue,\n          ReadableStreamDefaultControllerError = _require3.ReadableStreamDefaultControllerError,\n          ReadableStreamDefaultControllerGetDesiredSize = _require3.ReadableStreamDefaultControllerGetDesiredSize;\n        var _require4 = __w_pdfjs_require__(2),\n          WritableStream = _require4.WritableStream,\n          WritableStreamDefaultControllerError = _require4.WritableStreamDefaultControllerError;\n        function TransformStreamCloseReadable(transformStream) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n          if (transformStream._readableClosed === true) {\n            throw new TypeError('Readable side is already closed');\n          }\n          TransformStreamCloseReadableInternal(transformStream);\n        }\n        function TransformStreamEnqueueToReadable(transformStream, chunk) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n          if (transformStream._readableClosed === true) {\n            throw new TypeError('Readable side is already closed');\n          }\n          var controller = transformStream._readableController;\n          try {\n            ReadableStreamDefaultControllerEnqueue(controller, chunk);\n          } catch (e) {\n            transformStream._readableClosed = true;\n            TransformStreamErrorIfNeeded(transformStream, e);\n            throw transformStream._storedError;\n          }\n          var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n          var maybeBackpressure = desiredSize <= 0;\n          if (maybeBackpressure === true && transformStream._backpressure === false) {\n            TransformStreamSetBackpressure(transformStream, true);\n          }\n        }\n        function TransformStreamError(transformStream, e) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n          TransformStreamErrorInternal(transformStream, e);\n        }\n        function TransformStreamCloseReadableInternal(transformStream) {\n          assert(transformStream._errored === false);\n          assert(transformStream._readableClosed === false);\n          try {\n            ReadableStreamDefaultControllerClose(transformStream._readableController);\n          } catch (e) {\n            assert(false);\n          }\n          transformStream._readableClosed = true;\n        }\n        function TransformStreamErrorIfNeeded(transformStream, e) {\n          if (transformStream._errored === false) {\n            TransformStreamErrorInternal(transformStream, e);\n          }\n        }\n        function TransformStreamErrorInternal(transformStream, e) {\n          assert(transformStream._errored === false);\n          transformStream._errored = true;\n          transformStream._storedError = e;\n          if (transformStream._writableDone === false) {\n            WritableStreamDefaultControllerError(transformStream._writableController, e);\n          }\n          if (transformStream._readableClosed === false) {\n            ReadableStreamDefaultControllerError(transformStream._readableController, e);\n          }\n        }\n        function TransformStreamReadableReadyPromise(transformStream) {\n          assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n          if (transformStream._backpressure === false) {\n            return Promise.resolve();\n          }\n          assert(transformStream._backpressure === true, '_backpressure should have been initialized');\n          return transformStream._backpressureChangePromise;\n        }\n        function TransformStreamSetBackpressure(transformStream, backpressure) {\n          assert(transformStream._backpressure !== backpressure, 'TransformStreamSetBackpressure() should be called only when backpressure is changed');\n          if (transformStream._backpressureChangePromise !== undefined) {\n            transformStream._backpressureChangePromise_resolve(backpressure);\n          }\n          transformStream._backpressureChangePromise = new Promise(function (resolve) {\n            transformStream._backpressureChangePromise_resolve = resolve;\n          });\n          transformStream._backpressureChangePromise.then(function (resolution) {\n            assert(resolution !== backpressure, '_backpressureChangePromise should be fulfilled only when backpressure is changed');\n          });\n          transformStream._backpressure = backpressure;\n        }\n        function TransformStreamDefaultTransform(chunk, transformStreamController) {\n          var transformStream = transformStreamController._controlledTransformStream;\n          TransformStreamEnqueueToReadable(transformStream, chunk);\n          return Promise.resolve();\n        }\n        function TransformStreamTransform(transformStream, chunk) {\n          assert(transformStream._errored === false);\n          assert(transformStream._transforming === false);\n          assert(transformStream._backpressure === false);\n          transformStream._transforming = true;\n          var transformer = transformStream._transformer;\n          var controller = transformStream._transformStreamController;\n          var transformPromise = PromiseInvokeOrPerformFallback(transformer, 'transform', [chunk, controller], TransformStreamDefaultTransform, [chunk, controller]);\n          return transformPromise.then(function () {\n            transformStream._transforming = false;\n            return TransformStreamReadableReadyPromise(transformStream);\n          }, function (e) {\n            TransformStreamErrorIfNeeded(transformStream, e);\n            return Promise.reject(e);\n          });\n        }\n        function IsTransformStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n          }\n          return true;\n        }\n        function IsTransformStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n          if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n          }\n          return true;\n        }\n        var TransformStreamSink = function () {\n          function TransformStreamSink(transformStream, startPromise) {\n            _classCallCheck(this, TransformStreamSink);\n            this._transformStream = transformStream;\n            this._startPromise = startPromise;\n          }\n          _createClass(TransformStreamSink, [{\n            key: 'start',\n            value: function start(c) {\n              var transformStream = this._transformStream;\n              transformStream._writableController = c;\n              return this._startPromise.then(function () {\n                return TransformStreamReadableReadyPromise(transformStream);\n              });\n            }\n          }, {\n            key: 'write',\n            value: function write(chunk) {\n              var transformStream = this._transformStream;\n              return TransformStreamTransform(transformStream, chunk);\n            }\n          }, {\n            key: 'abort',\n            value: function abort() {\n              var transformStream = this._transformStream;\n              transformStream._writableDone = true;\n              TransformStreamErrorInternal(transformStream, new TypeError('Writable side aborted'));\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              var transformStream = this._transformStream;\n              assert(transformStream._transforming === false);\n              transformStream._writableDone = true;\n              var flushPromise = PromiseInvokeOrNoop(transformStream._transformer, 'flush', [transformStream._transformStreamController]);\n              return flushPromise.then(function () {\n                if (transformStream._errored === true) {\n                  return Promise.reject(transformStream._storedError);\n                }\n                if (transformStream._readableClosed === false) {\n                  TransformStreamCloseReadableInternal(transformStream);\n                }\n                return Promise.resolve();\n              }).catch(function (r) {\n                TransformStreamErrorIfNeeded(transformStream, r);\n                return Promise.reject(transformStream._storedError);\n              });\n            }\n          }]);\n          return TransformStreamSink;\n        }();\n        var TransformStreamSource = function () {\n          function TransformStreamSource(transformStream, startPromise) {\n            _classCallCheck(this, TransformStreamSource);\n            this._transformStream = transformStream;\n            this._startPromise = startPromise;\n          }\n          _createClass(TransformStreamSource, [{\n            key: 'start',\n            value: function start(c) {\n              var transformStream = this._transformStream;\n              transformStream._readableController = c;\n              return this._startPromise.then(function () {\n                assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n                if (transformStream._backpressure === true) {\n                  return Promise.resolve();\n                }\n                assert(transformStream._backpressure === false, '_backpressure should have been initialized');\n                return transformStream._backpressureChangePromise;\n              });\n            }\n          }, {\n            key: 'pull',\n            value: function pull() {\n              var transformStream = this._transformStream;\n              assert(transformStream._backpressure === true, 'pull() should be never called while _backpressure is false');\n              assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n              TransformStreamSetBackpressure(transformStream, false);\n              return transformStream._backpressureChangePromise;\n            }\n          }, {\n            key: 'cancel',\n            value: function cancel() {\n              var transformStream = this._transformStream;\n              transformStream._readableClosed = true;\n              TransformStreamErrorInternal(transformStream, new TypeError('Readable side canceled'));\n            }\n          }]);\n          return TransformStreamSource;\n        }();\n        var TransformStreamDefaultController = function () {\n          function TransformStreamDefaultController(transformStream) {\n            _classCallCheck(this, TransformStreamDefaultController);\n            if (IsTransformStream(transformStream) === false) {\n              throw new TypeError('TransformStreamDefaultController can only be ' + 'constructed with a TransformStream instance');\n            }\n            if (transformStream._transformStreamController !== undefined) {\n              throw new TypeError('TransformStreamDefaultController instances can ' + 'only be created by the TransformStream constructor');\n            }\n            this._controlledTransformStream = transformStream;\n          }\n          _createClass(TransformStreamDefaultController, [{\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('enqueue');\n              }\n              TransformStreamEnqueueToReadable(this._controlledTransformStream, chunk);\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('close');\n              }\n              TransformStreamCloseReadable(this._controlledTransformStream);\n            }\n          }, {\n            key: 'error',\n            value: function error(reason) {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('error');\n              }\n              TransformStreamError(this._controlledTransformStream, reason);\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('desiredSize');\n              }\n              var transformStream = this._controlledTransformStream;\n              var readableController = transformStream._readableController;\n              return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n            }\n          }]);\n          return TransformStreamDefaultController;\n        }();\n        var TransformStream = function () {\n          function TransformStream() {\n            var transformer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            _classCallCheck(this, TransformStream);\n            this._transformer = transformer;\n            var readableStrategy = transformer.readableStrategy,\n              writableStrategy = transformer.writableStrategy;\n            this._transforming = false;\n            this._errored = false;\n            this._storedError = undefined;\n            this._writableController = undefined;\n            this._readableController = undefined;\n            this._transformStreamController = undefined;\n            this._writableDone = false;\n            this._readableClosed = false;\n            this._backpressure = undefined;\n            this._backpressureChangePromise = undefined;\n            this._backpressureChangePromise_resolve = undefined;\n            this._transformStreamController = new TransformStreamDefaultController(this);\n            var startPromise_resolve = void 0;\n            var startPromise = new Promise(function (resolve) {\n              startPromise_resolve = resolve;\n            });\n            var source = new TransformStreamSource(this, startPromise);\n            this._readable = new ReadableStream(source, readableStrategy);\n            var sink = new TransformStreamSink(this, startPromise);\n            this._writable = new WritableStream(sink, writableStrategy);\n            assert(this._writableController !== undefined);\n            assert(this._readableController !== undefined);\n            var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(this._readableController);\n            TransformStreamSetBackpressure(this, desiredSize <= 0);\n            var transformStream = this;\n            var startResult = InvokeOrNoop(transformer, 'start', [transformStream._transformStreamController]);\n            startPromise_resolve(startResult);\n            startPromise.catch(function (e) {\n              if (transformStream._errored === false) {\n                transformStream._errored = true;\n                transformStream._storedError = e;\n              }\n            });\n          }\n          _createClass(TransformStream, [{\n            key: 'readable',\n            get: function get() {\n              if (IsTransformStream(this) === false) {\n                throw streamBrandCheckException('readable');\n              }\n              return this._readable;\n            }\n          }, {\n            key: 'writable',\n            get: function get() {\n              if (IsTransformStream(this) === false) {\n                throw streamBrandCheckException('writable');\n              }\n              return this._writable;\n            }\n          }]);\n          return TransformStream;\n        }();\n        module.exports = {\n          TransformStream: TransformStream\n        };\n        function defaultControllerBrandCheckException(name) {\n          return new TypeError('TransformStreamDefaultController.prototype.' + name + ' can only be used on a TransformStreamDefaultController');\n        }\n        function streamBrandCheckException(name) {\n          return new TypeError('TransformStream.prototype.' + name + ' can only be used on a TransformStream');\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        module.exports = __w_pdfjs_require__(5);\n      }]));\n\n      /***/\n    }, /* 112 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFJS = exports.globalScope = undefined;\n      var _dom_utils = __w_pdfjs_require__(10);\n      var _util = __w_pdfjs_require__(0);\n      var _api = __w_pdfjs_require__(57);\n      var _annotation_layer = __w_pdfjs_require__(59);\n      var _global_scope = __w_pdfjs_require__(14);\n      var _global_scope2 = _interopRequireDefault(_global_scope);\n      var _metadata = __w_pdfjs_require__(58);\n      var _text_layer = __w_pdfjs_require__(60);\n      var _svg = __w_pdfjs_require__(61);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n      if (!_global_scope2.default.PDFJS) {\n        _global_scope2.default.PDFJS = {};\n      }\n      var PDFJS = _global_scope2.default.PDFJS;\n      {\n        PDFJS.version = '2.0.164';\n        PDFJS.build = 'b7fe8057';\n      }\n      PDFJS.pdfBug = false;\n      if (PDFJS.verbosity !== undefined) {\n        (0, _util.setVerbosityLevel)(PDFJS.verbosity);\n      }\n      delete PDFJS.verbosity;\n      Object.defineProperty(PDFJS, 'verbosity', {\n        get: function get() {\n          return (0, _util.getVerbosityLevel)();\n        },\n        set: function set(level) {\n          (0, _util.setVerbosityLevel)(level);\n        },\n        enumerable: true,\n        configurable: true\n      });\n      PDFJS.VERBOSITY_LEVELS = _util.VERBOSITY_LEVELS;\n      PDFJS.OPS = _util.OPS;\n      PDFJS.UNSUPPORTED_FEATURES = _util.UNSUPPORTED_FEATURES;\n      PDFJS.isValidUrl = _dom_utils.isValidUrl;\n      PDFJS.shadow = _util.shadow;\n      PDFJS.createBlob = _util.createBlob;\n      PDFJS.createObjectURL = function PDFJS_createObjectURL(data, contentType) {\n        return (0, _util.createObjectURL)(data, contentType, PDFJS.disableCreateObjectURL);\n      };\n      Object.defineProperty(PDFJS, 'isLittleEndian', {\n        configurable: true,\n        get: function PDFJS_isLittleEndian() {\n          return (0, _util.shadow)(PDFJS, 'isLittleEndian', (0, _util.isLittleEndian)());\n        }\n      });\n      PDFJS.removeNullCharacters = _util.removeNullCharacters;\n      PDFJS.PasswordResponses = _util.PasswordResponses;\n      PDFJS.PasswordException = _util.PasswordException;\n      PDFJS.UnknownErrorException = _util.UnknownErrorException;\n      PDFJS.InvalidPDFException = _util.InvalidPDFException;\n      PDFJS.MissingPDFException = _util.MissingPDFException;\n      PDFJS.UnexpectedResponseException = _util.UnexpectedResponseException;\n      PDFJS.Util = _util.Util;\n      PDFJS.PageViewport = _util.PageViewport;\n      PDFJS.createPromiseCapability = _util.createPromiseCapability;\n      PDFJS.maxImageSize = PDFJS.maxImageSize === undefined ? -1 : PDFJS.maxImageSize;\n      PDFJS.cMapUrl = PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl;\n      PDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n      PDFJS.disableFontFace = PDFJS.disableFontFace === undefined ? false : PDFJS.disableFontFace;\n      PDFJS.imageResourcesPath = PDFJS.imageResourcesPath === undefined ? '' : PDFJS.imageResourcesPath;\n      PDFJS.disableWorker = PDFJS.disableWorker === undefined ? false : PDFJS.disableWorker;\n      PDFJS.workerSrc = PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc;\n      PDFJS.workerPort = PDFJS.workerPort === undefined ? null : PDFJS.workerPort;\n      PDFJS.disableRange = PDFJS.disableRange === undefined ? false : PDFJS.disableRange;\n      PDFJS.disableStream = PDFJS.disableStream === undefined ? false : PDFJS.disableStream;\n      PDFJS.disableAutoFetch = PDFJS.disableAutoFetch === undefined ? false : PDFJS.disableAutoFetch;\n      PDFJS.pdfBug = PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug;\n      PDFJS.postMessageTransfers = PDFJS.postMessageTransfers === undefined ? true : PDFJS.postMessageTransfers;\n      PDFJS.disableCreateObjectURL = PDFJS.disableCreateObjectURL === undefined ? false : PDFJS.disableCreateObjectURL;\n      PDFJS.disableWebGL = PDFJS.disableWebGL === undefined ? true : PDFJS.disableWebGL;\n      PDFJS.externalLinkTarget = PDFJS.externalLinkTarget === undefined ? _dom_utils.LinkTarget.NONE : PDFJS.externalLinkTarget;\n      PDFJS.externalLinkRel = PDFJS.externalLinkRel === undefined ? _dom_utils.DEFAULT_LINK_REL : PDFJS.externalLinkRel;\n      PDFJS.isEvalSupported = PDFJS.isEvalSupported === undefined ? true : PDFJS.isEvalSupported;\n      PDFJS.getDocument = _api.getDocument;\n      PDFJS.LoopbackPort = _api.LoopbackPort;\n      PDFJS.PDFDataRangeTransport = _api.PDFDataRangeTransport;\n      PDFJS.PDFWorker = _api.PDFWorker;\n      PDFJS.CustomStyle = _dom_utils.CustomStyle;\n      PDFJS.LinkTarget = _dom_utils.LinkTarget;\n      PDFJS.addLinkAttributes = _dom_utils.addLinkAttributes;\n      PDFJS.getFilenameFromUrl = _dom_utils.getFilenameFromUrl;\n      PDFJS.isExternalLinkTargetSet = _dom_utils.isExternalLinkTargetSet;\n      PDFJS.AnnotationLayer = _annotation_layer.AnnotationLayer;\n      PDFJS.renderTextLayer = _text_layer.renderTextLayer;\n      PDFJS.Metadata = _metadata.Metadata;\n      PDFJS.SVGGraphics = _svg.SVGGraphics;\n      exports.globalScope = _global_scope2.default;\n      exports.PDFJS = PDFJS;\n\n      /***/\n    }, /* 113 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontLoader = exports.FontFaceObject = undefined;\n      var _util = __w_pdfjs_require__(0);\n      function FontLoader(docId) {\n        this.docId = docId;\n        this.styleElement = null;\n        this.nativeFontFaces = [];\n        this.loadTestFontId = 0;\n        this.loadingContext = {\n          requests: [],\n          nextRequestId: 0\n        };\n      }\n      FontLoader.prototype = {\n        insertRule: function fontLoaderInsertRule(rule) {\n          var styleElement = this.styleElement;\n          if (!styleElement) {\n            styleElement = this.styleElement = document.createElement('style');\n            styleElement.id = 'PDFJS_FONT_STYLE_TAG_' + this.docId;\n            document.documentElement.getElementsByTagName('head')[0].appendChild(styleElement);\n          }\n          var styleSheet = styleElement.sheet;\n          styleSheet.insertRule(rule, styleSheet.cssRules.length);\n        },\n        clear: function fontLoaderClear() {\n          if (this.styleElement) {\n            this.styleElement.remove();\n            this.styleElement = null;\n          }\n          this.nativeFontFaces.forEach(function (nativeFontFace) {\n            document.fonts.delete(nativeFontFace);\n          });\n          this.nativeFontFaces.length = 0;\n        }\n      };\n      {\n        var getLoadTestFont = function getLoadTestFont() {\n          return atob('T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' + 'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' + 'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' + 'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' + 'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' + 'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' + 'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' + 'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' + 'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' + 'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' + 'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' + 'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' + 'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' + 'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' + 'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' + 'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' + 'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' + 'ABAAAAAAAAAAAD6AAAAAAAAA==');\n        };\n        Object.defineProperty(FontLoader.prototype, 'loadTestFont', {\n          get: function get() {\n            return (0, _util.shadow)(this, 'loadTestFont', getLoadTestFont());\n          },\n          configurable: true\n        });\n        FontLoader.prototype.addNativeFontFace = function fontLoader_addNativeFontFace(nativeFontFace) {\n          this.nativeFontFaces.push(nativeFontFace);\n          document.fonts.add(nativeFontFace);\n        };\n        FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n          var rules = [];\n          var fontsToLoad = [];\n          var fontLoadPromises = [];\n          var getNativeFontPromise = function getNativeFontPromise(nativeFontFace) {\n            return nativeFontFace.loaded.catch(function (e) {\n              (0, _util.warn)('Failed to load font \"' + nativeFontFace.family + '\": ' + e);\n            });\n          };\n          var isFontLoadingAPISupported = FontLoader.isFontLoadingAPISupported && !FontLoader.isSyncFontLoadingSupported;\n          for (var i = 0, ii = fonts.length; i < ii; i++) {\n            var font = fonts[i];\n            if (font.attached || font.loading === false) {\n              continue;\n            }\n            font.attached = true;\n            if (isFontLoadingAPISupported) {\n              var nativeFontFace = font.createNativeFontFace();\n              if (nativeFontFace) {\n                this.addNativeFontFace(nativeFontFace);\n                fontLoadPromises.push(getNativeFontPromise(nativeFontFace));\n              }\n            } else {\n              var rule = font.createFontFaceRule();\n              if (rule) {\n                this.insertRule(rule);\n                rules.push(rule);\n                fontsToLoad.push(font);\n              }\n            }\n          }\n          var request = this.queueLoadingCallback(callback);\n          if (isFontLoadingAPISupported) {\n            Promise.all(fontLoadPromises).then(function () {\n              request.complete();\n            });\n          } else if (rules.length > 0 && !FontLoader.isSyncFontLoadingSupported) {\n            this.prepareFontLoadEvent(rules, fontsToLoad, request);\n          } else {\n            request.complete();\n          }\n        };\n        FontLoader.prototype.queueLoadingCallback = function FontLoader_queueLoadingCallback(callback) {\n          function LoadLoader_completeRequest() {\n            (0, _util.assert)(!request.end, 'completeRequest() cannot be called twice');\n            request.end = Date.now();\n            while (context.requests.length > 0 && context.requests[0].end) {\n              var otherRequest = context.requests.shift();\n              setTimeout(otherRequest.callback, 0);\n            }\n          }\n          var context = this.loadingContext;\n          var requestId = 'pdfjs-font-loading-' + context.nextRequestId++;\n          var request = {\n            id: requestId,\n            complete: LoadLoader_completeRequest,\n            callback: callback,\n            started: Date.now()\n          };\n          context.requests.push(request);\n          return request;\n        };\n        FontLoader.prototype.prepareFontLoadEvent = function fontLoaderPrepareFontLoadEvent(rules, fonts, request) {\n          function int32(data, offset) {\n            return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n          }\n          function spliceString(s, offset, remove, insert) {\n            var chunk1 = s.substr(0, offset);\n            var chunk2 = s.substr(offset + remove);\n            return chunk1 + insert + chunk2;\n          }\n          var i, ii;\n          var canvas = document.createElement('canvas');\n          canvas.width = 1;\n          canvas.height = 1;\n          var ctx = canvas.getContext('2d');\n          var called = 0;\n          function isFontReady(name, callback) {\n            called++;\n            if (called > 30) {\n              (0, _util.warn)('Load test font never loaded.');\n              callback();\n              return;\n            }\n            ctx.font = '30px ' + name;\n            ctx.fillText('.', 0, 20);\n            var imageData = ctx.getImageData(0, 0, 1, 1);\n            if (imageData.data[3] > 0) {\n              callback();\n              return;\n            }\n            setTimeout(isFontReady.bind(null, name, callback));\n          }\n          var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n          var data = this.loadTestFont;\n          var COMMENT_OFFSET = 976;\n          data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n          var CFF_CHECKSUM_OFFSET = 16;\n          var XXXX_VALUE = 0x58585858;\n          var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n          for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n            checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n          }\n          if (i < loadTestFontId.length) {\n            checksum = checksum - XXXX_VALUE + int32(loadTestFontId + 'XXX', i) | 0;\n          }\n          data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0, _util.string32)(checksum));\n          var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n          var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' + url + '}';\n          this.insertRule(rule);\n          var names = [];\n          for (i = 0, ii = fonts.length; i < ii; i++) {\n            names.push(fonts[i].loadedName);\n          }\n          names.push(loadTestFontId);\n          var div = document.createElement('div');\n          div.setAttribute('style', 'visibility: hidden;' + 'width: 10px; height: 10px;' + 'position: absolute; top: 0px; left: 0px;');\n          for (i = 0, ii = names.length; i < ii; ++i) {\n            var span = document.createElement('span');\n            span.textContent = 'Hi';\n            span.style.fontFamily = names[i];\n            div.appendChild(span);\n          }\n          document.body.appendChild(div);\n          isFontReady(loadTestFontId, function () {\n            document.body.removeChild(div);\n            request.complete();\n          });\n        };\n      }\n      {\n        FontLoader.isFontLoadingAPISupported = typeof document !== 'undefined' && !!document.fonts;\n      }\n      {\n        var isSyncFontLoadingSupported = function isSyncFontLoadingSupported() {\n          if (typeof navigator === 'undefined') {\n            return true;\n          }\n          var supported = false;\n          var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n          return supported;\n        };\n        Object.defineProperty(FontLoader, 'isSyncFontLoadingSupported', {\n          get: function get() {\n            return (0, _util.shadow)(FontLoader, 'isSyncFontLoadingSupported', isSyncFontLoadingSupported());\n          },\n          enumerable: true,\n          configurable: true\n        });\n      }\n      var IsEvalSupportedCached = {\n        get value() {\n          return (0, _util.shadow)(this, 'value', (0, _util.isEvalSupported)());\n        }\n      };\n      var FontFaceObject = function FontFaceObjectClosure() {\n        function FontFaceObject(translatedData, options) {\n          this.compiledGlyphs = Object.create(null);\n          for (var i in translatedData) {\n            this[i] = translatedData[i];\n          }\n          this.options = options;\n        }\n        FontFaceObject.prototype = {\n          createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n            if (!this.data) {\n              return null;\n            }\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n            var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this);\n            }\n            return nativeFontFace;\n          },\n          createFontFaceRule: function FontFaceObject_createFontFaceRule() {\n            if (!this.data) {\n              return null;\n            }\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n            var data = (0, _util.bytesToString)(new Uint8Array(this.data));\n            var fontName = this.loadedName;\n            var url = 'url(data:' + this.mimetype + ';base64,' + btoa(data) + ');';\n            var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this, url);\n            }\n            return rule;\n          },\n          getPathGenerator: function FontFaceObject_getPathGenerator(objs, character) {\n            if (!(character in this.compiledGlyphs)) {\n              var cmds = objs.get(this.loadedName + '_path_' + character);\n              var current, i, len;\n              if (this.options.isEvalSupported && IsEvalSupportedCached.value) {\n                var args,\n                  js = '';\n                for (i = 0, len = cmds.length; i < len; i++) {\n                  current = cmds[i];\n                  if (current.args !== undefined) {\n                    args = current.args.join(',');\n                  } else {\n                    args = '';\n                  }\n                  js += 'c.' + current.cmd + '(' + args + ');\\n';\n                }\n                this.compiledGlyphs[character] = new Function('c', 'size', js);\n              } else {\n                this.compiledGlyphs[character] = function (c, size) {\n                  for (i = 0, len = cmds.length; i < len; i++) {\n                    current = cmds[i];\n                    if (current.cmd === 'scale') {\n                      current.args = [size, -size];\n                    }\n                    c[current.cmd].apply(c, current.args);\n                  }\n                };\n              }\n            }\n            return this.compiledGlyphs[character];\n          }\n        };\n        return FontFaceObject;\n      }();\n      exports.FontFaceObject = FontFaceObject;\n      exports.FontLoader = FontLoader;\n\n      /***/\n    }, /* 114 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CanvasGraphics = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var _pattern_helper = __w_pdfjs_require__(115);\n      var MIN_FONT_SIZE = 16;\n      var MAX_FONT_SIZE = 100;\n      var MAX_GROUP_SIZE = 4096;\n      var MIN_WIDTH_FACTOR = 0.65;\n      var COMPILE_TYPE3_GLYPHS = true;\n      var MAX_SIZE_TO_COMPILE = 1000;\n      var FULL_CHUNK_HEIGHT = 16;\n      var IsLittleEndianCached = {\n        get value() {\n          return (0, _util.shadow)(IsLittleEndianCached, 'value', (0, _util.isLittleEndian)());\n        }\n      };\n      function addContextCurrentTransform(ctx) {\n        if (!ctx.mozCurrentTransform) {\n          ctx._originalSave = ctx.save;\n          ctx._originalRestore = ctx.restore;\n          ctx._originalRotate = ctx.rotate;\n          ctx._originalScale = ctx.scale;\n          ctx._originalTranslate = ctx.translate;\n          ctx._originalTransform = ctx.transform;\n          ctx._originalSetTransform = ctx.setTransform;\n          ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n          ctx._transformStack = [];\n          Object.defineProperty(ctx, 'mozCurrentTransform', {\n            get: function getCurrentTransform() {\n              return this._transformMatrix;\n            }\n          });\n          Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n            get: function getCurrentTransformInverse() {\n              var m = this._transformMatrix;\n              var a = m[0],\n                b = m[1],\n                c = m[2],\n                d = m[3],\n                e = m[4],\n                f = m[5];\n              var ad_bc = a * d - b * c;\n              var bc_ad = b * c - a * d;\n              return [d / ad_bc, b / bc_ad, c / bc_ad, a / ad_bc, (d * e - c * f) / bc_ad, (b * e - a * f) / ad_bc];\n            }\n          });\n          ctx.save = function ctxSave() {\n            var old = this._transformMatrix;\n            this._transformStack.push(old);\n            this._transformMatrix = old.slice(0, 6);\n            this._originalSave();\n          };\n          ctx.restore = function ctxRestore() {\n            var prev = this._transformStack.pop();\n            if (prev) {\n              this._transformMatrix = prev;\n              this._originalRestore();\n            }\n          };\n          ctx.translate = function ctxTranslate(x, y) {\n            var m = this._transformMatrix;\n            m[4] = m[0] * x + m[2] * y + m[4];\n            m[5] = m[1] * x + m[3] * y + m[5];\n            this._originalTranslate(x, y);\n          };\n          ctx.scale = function ctxScale(x, y) {\n            var m = this._transformMatrix;\n            m[0] = m[0] * x;\n            m[1] = m[1] * x;\n            m[2] = m[2] * y;\n            m[3] = m[3] * y;\n            this._originalScale(x, y);\n          };\n          ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n            var m = this._transformMatrix;\n            this._transformMatrix = [m[0] * a + m[2] * b, m[1] * a + m[3] * b, m[0] * c + m[2] * d, m[1] * c + m[3] * d, m[0] * e + m[2] * f + m[4], m[1] * e + m[3] * f + m[5]];\n            ctx._originalTransform(a, b, c, d, e, f);\n          };\n          ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n            this._transformMatrix = [a, b, c, d, e, f];\n            ctx._originalSetTransform(a, b, c, d, e, f);\n          };\n          ctx.rotate = function ctxRotate(angle) {\n            var cosValue = Math.cos(angle);\n            var sinValue = Math.sin(angle);\n            var m = this._transformMatrix;\n            this._transformMatrix = [m[0] * cosValue + m[2] * sinValue, m[1] * cosValue + m[3] * sinValue, m[0] * -sinValue + m[2] * cosValue, m[1] * -sinValue + m[3] * cosValue, m[4], m[5]];\n            this._originalRotate(angle);\n          };\n        }\n      }\n      var CachedCanvases = function CachedCanvasesClosure() {\n        function CachedCanvases(canvasFactory) {\n          this.canvasFactory = canvasFactory;\n          this.cache = Object.create(null);\n        }\n        CachedCanvases.prototype = {\n          getCanvas: function CachedCanvases_getCanvas(id, width, height, trackTransform) {\n            var canvasEntry;\n            if (this.cache[id] !== undefined) {\n              canvasEntry = this.cache[id];\n              this.canvasFactory.reset(canvasEntry, width, height);\n              canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n            } else {\n              canvasEntry = this.canvasFactory.create(width, height);\n              this.cache[id] = canvasEntry;\n            }\n            if (trackTransform) {\n              addContextCurrentTransform(canvasEntry.context);\n            }\n            return canvasEntry;\n          },\n          clear: function clear() {\n            for (var id in this.cache) {\n              var canvasEntry = this.cache[id];\n              this.canvasFactory.destroy(canvasEntry);\n              delete this.cache[id];\n            }\n          }\n        };\n        return CachedCanvases;\n      }();\n      function compileType3Glyph(imgData) {\n        var POINT_TO_PROCESS_LIMIT = 1000;\n        var width = imgData.width,\n          height = imgData.height;\n        var i,\n          j,\n          j0,\n          width1 = width + 1;\n        var points = new Uint8Array(width1 * (height + 1));\n        var POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n        var lineSize = width + 7 & ~7,\n          data0 = imgData.data;\n        var data = new Uint8Array(lineSize * height),\n          pos = 0,\n          ii;\n        for (i = 0, ii = data0.length; i < ii; i++) {\n          var mask = 128,\n            elem = data0[i];\n          while (mask > 0) {\n            data[pos++] = elem & mask ? 0 : 255;\n            mask >>= 1;\n          }\n        }\n        var count = 0;\n        pos = 0;\n        if (data[pos] !== 0) {\n          points[0] = 1;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j] = data[pos] ? 2 : 1;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j] = 2;\n          ++count;\n        }\n        for (i = 1; i < height; i++) {\n          pos = i * lineSize;\n          j0 = i * width1;\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0] = data[pos] ? 1 : 8;\n            ++count;\n          }\n          var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n          for (j = 1; j < width; j++) {\n            sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n            if (POINT_TYPES[sum]) {\n              points[j0 + j] = POINT_TYPES[sum];\n              ++count;\n            }\n            pos++;\n          }\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0 + j] = data[pos] ? 2 : 4;\n            ++count;\n          }\n          if (count > POINT_TO_PROCESS_LIMIT) {\n            return null;\n          }\n        }\n        pos = lineSize * (height - 1);\n        j0 = i * width1;\n        if (data[pos] !== 0) {\n          points[j0] = 8;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j0 + j] = data[pos] ? 4 : 8;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j0 + j] = 4;\n          ++count;\n        }\n        if (count > POINT_TO_PROCESS_LIMIT) {\n          return null;\n        }\n        var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n        var outlines = [];\n        for (i = 0; count && i <= height; i++) {\n          var p = i * width1;\n          var end = p + width;\n          while (p < end && !points[p]) {\n            p++;\n          }\n          if (p === end) {\n            continue;\n          }\n          var coords = [p % width1, i];\n          var type = points[p],\n            p0 = p,\n            pp;\n          do {\n            var step = steps[type];\n            do {\n              p += step;\n            } while (!points[p]);\n            pp = points[p];\n            if (pp !== 5 && pp !== 10) {\n              type = pp;\n              points[p] = 0;\n            } else {\n              type = pp & 0x33 * type >> 4;\n              points[p] &= type >> 2 | type << 2;\n            }\n            coords.push(p % width1);\n            coords.push(p / width1 | 0);\n            --count;\n          } while (p0 !== p);\n          outlines.push(coords);\n          --i;\n        }\n        var drawOutline = function drawOutline(c) {\n          c.save();\n          c.scale(1 / width, -1 / height);\n          c.translate(0, -height);\n          c.beginPath();\n          for (var i = 0, ii = outlines.length; i < ii; i++) {\n            var o = outlines[i];\n            c.moveTo(o[0], o[1]);\n            for (var j = 2, jj = o.length; j < jj; j += 2) {\n              c.lineTo(o[j], o[j + 1]);\n            }\n          }\n          c.fill();\n          c.beginPath();\n          c.restore();\n        };\n        return drawOutline;\n      }\n      var CanvasExtraState = function CanvasExtraStateClosure() {\n        function CanvasExtraState() {\n          this.alphaIsShape = false;\n          this.fontSize = 0;\n          this.fontSizeScale = 1;\n          this.textMatrix = _util.IDENTITY_MATRIX;\n          this.textMatrixScale = 1;\n          this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n          this.leading = 0;\n          this.x = 0;\n          this.y = 0;\n          this.lineX = 0;\n          this.lineY = 0;\n          this.charSpacing = 0;\n          this.wordSpacing = 0;\n          this.textHScale = 1;\n          this.textRenderingMode = _util.TextRenderingMode.FILL;\n          this.textRise = 0;\n          this.fillColor = '#000000';\n          this.strokeColor = '#000000';\n          this.patternFill = false;\n          this.fillAlpha = 1;\n          this.strokeAlpha = 1;\n          this.lineWidth = 1;\n          this.activeSMask = null;\n          this.resumeSMaskCtx = null;\n        }\n        CanvasExtraState.prototype = {\n          clone: function CanvasExtraState_clone() {\n            return Object.create(this);\n          },\n          setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n            this.x = x;\n            this.y = y;\n          }\n        };\n        return CanvasExtraState;\n      }();\n      var CanvasGraphics = function CanvasGraphicsClosure() {\n        var EXECUTION_TIME = 15;\n        var EXECUTION_STEPS = 10;\n        function CanvasGraphics(canvasCtx, commonObjs, objs, canvasFactory, webGLContext, imageLayer) {\n          this.ctx = canvasCtx;\n          this.current = new CanvasExtraState();\n          this.stateStack = [];\n          this.pendingClip = null;\n          this.pendingEOFill = false;\n          this.res = null;\n          this.xobjs = null;\n          this.commonObjs = commonObjs;\n          this.objs = objs;\n          this.canvasFactory = canvasFactory;\n          this.webGLContext = webGLContext;\n          this.imageLayer = imageLayer;\n          this.groupStack = [];\n          this.processingType3 = null;\n          this.baseTransform = null;\n          this.baseTransformStack = [];\n          this.groupLevel = 0;\n          this.smaskStack = [];\n          this.smaskCounter = 0;\n          this.tempSMask = null;\n          this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n          if (canvasCtx) {\n            addContextCurrentTransform(canvasCtx);\n          }\n          this.cachedGetSinglePixelWidth = null;\n        }\n        function putBinaryImageData(ctx, imgData) {\n          if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n            ctx.putImageData(imgData, 0, 0);\n            return;\n          }\n          var height = imgData.height,\n            width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0,\n            destPos;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n          var i, j, thisChunkHeight, elemsInThisChunk;\n          if (imgData.kind === _util.ImageKind.GRAYSCALE_1BPP) {\n            var srcLength = src.byteLength;\n            var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n            var dest32DataLength = dest32.length;\n            var fullSrcDiff = width + 7 >> 3;\n            var white = 0xFFFFFFFF;\n            var black = IsLittleEndianCached.value ? 0xFF000000 : 0x000000FF;\n            for (i = 0; i < totalChunks; i++) {\n              thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n              destPos = 0;\n              for (j = 0; j < thisChunkHeight; j++) {\n                var srcDiff = srcLength - srcPos;\n                var k = 0;\n                var kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n                var kEndUnrolled = kEnd & ~7;\n                var mask = 0;\n                var srcByte = 0;\n                for (; k < kEndUnrolled; k += 8) {\n                  srcByte = src[srcPos++];\n                  dest32[destPos++] = srcByte & 128 ? white : black;\n                  dest32[destPos++] = srcByte & 64 ? white : black;\n                  dest32[destPos++] = srcByte & 32 ? white : black;\n                  dest32[destPos++] = srcByte & 16 ? white : black;\n                  dest32[destPos++] = srcByte & 8 ? white : black;\n                  dest32[destPos++] = srcByte & 4 ? white : black;\n                  dest32[destPos++] = srcByte & 2 ? white : black;\n                  dest32[destPos++] = srcByte & 1 ? white : black;\n                }\n                for (; k < kEnd; k++) {\n                  if (mask === 0) {\n                    srcByte = src[srcPos++];\n                    mask = 128;\n                  }\n                  dest32[destPos++] = srcByte & mask ? white : black;\n                  mask >>= 1;\n                }\n              }\n              while (destPos < dest32DataLength) {\n                dest32[destPos++] = 0;\n              }\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else if (imgData.kind === _util.ImageKind.RGBA_32BPP) {\n            j = 0;\n            elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n            for (i = 0; i < fullChunks; i++) {\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              srcPos += elemsInThisChunk;\n              ctx.putImageData(chunkImgData, 0, j);\n              j += FULL_CHUNK_HEIGHT;\n            }\n            if (i < totalChunks) {\n              elemsInThisChunk = width * partialChunkHeight * 4;\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              ctx.putImageData(chunkImgData, 0, j);\n            }\n          } else if (imgData.kind === _util.ImageKind.RGB_24BPP) {\n            thisChunkHeight = FULL_CHUNK_HEIGHT;\n            elemsInThisChunk = width * thisChunkHeight;\n            for (i = 0; i < totalChunks; i++) {\n              if (i >= fullChunks) {\n                thisChunkHeight = partialChunkHeight;\n                elemsInThisChunk = width * thisChunkHeight;\n              }\n              destPos = 0;\n              for (j = elemsInThisChunk; j--;) {\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = 255;\n              }\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else {\n            throw new Error('bad image kind: ' + imgData.kind);\n          }\n        }\n        function putBinaryImageMask(ctx, imgData) {\n          var height = imgData.height,\n            width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n          for (var i = 0; i < totalChunks; i++) {\n            var thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n            var destPos = 3;\n            for (var j = 0; j < thisChunkHeight; j++) {\n              var mask = 0;\n              for (var k = 0; k < width; k++) {\n                if (!mask) {\n                  var elem = src[srcPos++];\n                  mask = 128;\n                }\n                dest[destPos] = elem & mask ? 0 : 255;\n                destPos += 4;\n                mask >>= 1;\n              }\n            }\n            ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n          }\n        }\n        function copyCtxState(sourceCtx, destCtx) {\n          var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha', 'lineWidth', 'lineCap', 'lineJoin', 'miterLimit', 'globalCompositeOperation', 'font'];\n          for (var i = 0, ii = properties.length; i < ii; i++) {\n            var property = properties[i];\n            if (sourceCtx[property] !== undefined) {\n              destCtx[property] = sourceCtx[property];\n            }\n          }\n          if (sourceCtx.setLineDash !== undefined) {\n            destCtx.setLineDash(sourceCtx.getLineDash());\n            destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n          }\n        }\n        function resetCtxToDefault(ctx) {\n          ctx.strokeStyle = '#000000';\n          ctx.fillStyle = '#000000';\n          ctx.fillRule = 'nonzero';\n          ctx.globalAlpha = 1;\n          ctx.lineWidth = 1;\n          ctx.lineCap = 'butt';\n          ctx.lineJoin = 'miter';\n          ctx.miterLimit = 10;\n          ctx.globalCompositeOperation = 'source-over';\n          ctx.font = '10px sans-serif';\n          if (ctx.setLineDash !== undefined) {\n            ctx.setLineDash([]);\n            ctx.lineDashOffset = 0;\n          }\n        }\n        function composeSMaskBackdrop(bytes, r0, g0, b0) {\n          var length = bytes.length;\n          for (var i = 3; i < length; i += 4) {\n            var alpha = bytes[i];\n            if (alpha === 0) {\n              bytes[i - 3] = r0;\n              bytes[i - 2] = g0;\n              bytes[i - 1] = b0;\n            } else if (alpha < 255) {\n              var alpha_ = 255 - alpha;\n              bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n              bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n              bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n            }\n          }\n        }\n        function composeSMaskAlpha(maskData, layerData, transferMap) {\n          var length = maskData.length;\n          var scale = 1 / 255;\n          for (var i = 3; i < length; i += 4) {\n            var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n            layerData[i] = layerData[i] * alpha * scale | 0;\n          }\n        }\n        function composeSMaskLuminosity(maskData, layerData, transferMap) {\n          var length = maskData.length;\n          for (var i = 3; i < length; i += 4) {\n            var y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n            layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n          }\n        }\n        function genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap) {\n          var hasBackdrop = !!backdrop;\n          var r0 = hasBackdrop ? backdrop[0] : 0;\n          var g0 = hasBackdrop ? backdrop[1] : 0;\n          var b0 = hasBackdrop ? backdrop[2] : 0;\n          var composeFn;\n          if (subtype === 'Luminosity') {\n            composeFn = composeSMaskLuminosity;\n          } else {\n            composeFn = composeSMaskAlpha;\n          }\n          var PIXELS_TO_PROCESS = 1048576;\n          var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n          for (var row = 0; row < height; row += chunkSize) {\n            var chunkHeight = Math.min(chunkSize, height - row);\n            var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n            var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n            if (hasBackdrop) {\n              composeSMaskBackdrop(maskData.data, r0, g0, b0);\n            }\n            composeFn(maskData.data, layerData.data, transferMap);\n            maskCtx.putImageData(layerData, 0, row);\n          }\n        }\n        function composeSMask(ctx, smask, layerCtx, webGLContext) {\n          var mask = smask.canvas;\n          var maskCtx = smask.context;\n          ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY, smask.offsetX, smask.offsetY);\n          var backdrop = smask.backdrop || null;\n          if (!smask.transferMap && webGLContext.isEnabled) {\n            var composed = webGLContext.composeSMask({\n              layer: layerCtx.canvas,\n              mask: mask,\n              properties: {\n                subtype: smask.subtype,\n                backdrop: backdrop\n              }\n            });\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n            return;\n          }\n          genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height, smask.subtype, backdrop, smask.transferMap);\n          ctx.drawImage(mask, 0, 0);\n        }\n        var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n        var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n        var NORMAL_CLIP = {};\n        var EO_CLIP = {};\n        CanvasGraphics.prototype = {\n          beginDrawing: function beginDrawing(_ref) {\n            var transform = _ref.transform,\n              viewport = _ref.viewport,\n              transparency = _ref.transparency,\n              _ref$background = _ref.background,\n              background = _ref$background === undefined ? null : _ref$background;\n            var width = this.ctx.canvas.width;\n            var height = this.ctx.canvas.height;\n            this.ctx.save();\n            this.ctx.fillStyle = background || 'rgb(255, 255, 255)';\n            this.ctx.fillRect(0, 0, width, height);\n            this.ctx.restore();\n            if (transparency) {\n              var transparentCanvas = this.cachedCanvases.getCanvas('transparent', width, height, true);\n              this.compositeCtx = this.ctx;\n              this.transparentCanvas = transparentCanvas.canvas;\n              this.ctx = transparentCanvas.context;\n              this.ctx.save();\n              this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n            }\n            this.ctx.save();\n            resetCtxToDefault(this.ctx);\n            if (transform) {\n              this.ctx.transform.apply(this.ctx, transform);\n            }\n            this.ctx.transform.apply(this.ctx, viewport.transform);\n            this.baseTransform = this.ctx.mozCurrentTransform.slice();\n            if (this.imageLayer) {\n              this.imageLayer.beginLayout();\n            }\n          },\n          executeOperatorList: function CanvasGraphics_executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n            var argsArray = operatorList.argsArray;\n            var fnArray = operatorList.fnArray;\n            var i = executionStartIdx || 0;\n            var argsArrayLen = argsArray.length;\n            if (argsArrayLen === i) {\n              return i;\n            }\n            var chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === 'function';\n            var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n            var steps = 0;\n            var commonObjs = this.commonObjs;\n            var objs = this.objs;\n            var fnId;\n            while (true) {\n              if (stepper !== undefined && i === stepper.nextBreakPoint) {\n                stepper.breakIt(i, continueCallback);\n                return i;\n              }\n              fnId = fnArray[i];\n              if (fnId !== _util.OPS.dependency) {\n                this[fnId].apply(this, argsArray[i]);\n              } else {\n                var deps = argsArray[i];\n                for (var n = 0, nn = deps.length; n < nn; n++) {\n                  var depObjId = deps[n];\n                  var common = depObjId[0] === 'g' && depObjId[1] === '_';\n                  var objsPool = common ? commonObjs : objs;\n                  if (!objsPool.isResolved(depObjId)) {\n                    objsPool.get(depObjId, continueCallback);\n                    return i;\n                  }\n                }\n              }\n              i++;\n              if (i === argsArrayLen) {\n                return i;\n              }\n              if (chunkOperations && ++steps > EXECUTION_STEPS) {\n                if (Date.now() > endTime) {\n                  continueCallback();\n                  return i;\n                }\n                steps = 0;\n              }\n            }\n          },\n          endDrawing: function CanvasGraphics_endDrawing() {\n            if (this.current.activeSMask !== null) {\n              this.endSMaskGroup();\n            }\n            this.ctx.restore();\n            if (this.transparentCanvas) {\n              this.ctx = this.compositeCtx;\n              this.ctx.save();\n              this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n              this.ctx.drawImage(this.transparentCanvas, 0, 0);\n              this.ctx.restore();\n              this.transparentCanvas = null;\n            }\n            this.cachedCanvases.clear();\n            this.webGLContext.clear();\n            if (this.imageLayer) {\n              this.imageLayer.endLayout();\n            }\n          },\n          setLineWidth: function CanvasGraphics_setLineWidth(width) {\n            this.current.lineWidth = width;\n            this.ctx.lineWidth = width;\n          },\n          setLineCap: function CanvasGraphics_setLineCap(style) {\n            this.ctx.lineCap = LINE_CAP_STYLES[style];\n          },\n          setLineJoin: function CanvasGraphics_setLineJoin(style) {\n            this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n          },\n          setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n            this.ctx.miterLimit = limit;\n          },\n          setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n            var ctx = this.ctx;\n            if (ctx.setLineDash !== undefined) {\n              ctx.setLineDash(dashArray);\n              ctx.lineDashOffset = dashPhase;\n            }\n          },\n          setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {},\n          setFlatness: function CanvasGraphics_setFlatness(flatness) {},\n          setGState: function CanvasGraphics_setGState(states) {\n            for (var i = 0, ii = states.length; i < ii; i++) {\n              var state = states[i];\n              var key = state[0];\n              var value = state[1];\n              switch (key) {\n                case 'LW':\n                  this.setLineWidth(value);\n                  break;\n                case 'LC':\n                  this.setLineCap(value);\n                  break;\n                case 'LJ':\n                  this.setLineJoin(value);\n                  break;\n                case 'ML':\n                  this.setMiterLimit(value);\n                  break;\n                case 'D':\n                  this.setDash(value[0], value[1]);\n                  break;\n                case 'RI':\n                  this.setRenderingIntent(value);\n                  break;\n                case 'FL':\n                  this.setFlatness(value);\n                  break;\n                case 'Font':\n                  this.setFont(value[0], value[1]);\n                  break;\n                case 'CA':\n                  this.current.strokeAlpha = state[1];\n                  break;\n                case 'ca':\n                  this.current.fillAlpha = state[1];\n                  this.ctx.globalAlpha = state[1];\n                  break;\n                case 'BM':\n                  this.ctx.globalCompositeOperation = value;\n                  break;\n                case 'SMask':\n                  if (this.current.activeSMask) {\n                    if (this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1].activeSMask === this.current.activeSMask) {\n                      this.suspendSMaskGroup();\n                    } else {\n                      this.endSMaskGroup();\n                    }\n                  }\n                  this.current.activeSMask = value ? this.tempSMask : null;\n                  if (this.current.activeSMask) {\n                    this.beginSMaskGroup();\n                  }\n                  this.tempSMask = null;\n                  break;\n              }\n            }\n          },\n          beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n            var activeSMask = this.current.activeSMask;\n            var drawnWidth = activeSMask.canvas.width;\n            var drawnHeight = activeSMask.canvas.height;\n            var cacheId = 'smaskGroupAt' + this.groupLevel;\n            var scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n            var currentCtx = this.ctx;\n            var currentTransform = currentCtx.mozCurrentTransform;\n            this.ctx.save();\n            var groupCtx = scratchCanvas.context;\n            groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n            groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n            activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([['BM', 'source-over'], ['ca', 1], ['CA', 1]]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx, this.webGLContext);\n            this.ctx.restore();\n            this.ctx.save();\n            copyCtxState(groupCtx, this.ctx);\n            this.current.resumeSMaskCtx = groupCtx;\n            var deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n            groupCtx.save();\n            groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n            groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n            groupCtx.restore();\n          },\n          resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.current.resumeSMaskCtx;\n            var currentCtx = this.ctx;\n            this.ctx = groupCtx;\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx, this.webGLContext);\n            this.ctx.restore();\n            copyCtxState(groupCtx, this.ctx);\n            var deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n          },\n          save: function CanvasGraphics_save() {\n            this.ctx.save();\n            var old = this.current;\n            this.stateStack.push(old);\n            this.current = old.clone();\n            this.current.resumeSMaskCtx = null;\n          },\n          restore: function CanvasGraphics_restore() {\n            if (this.current.resumeSMaskCtx) {\n              this.resumeSMaskGroup();\n            }\n            if (this.current.activeSMask !== null && (this.stateStack.length === 0 || this.stateStack[this.stateStack.length - 1].activeSMask !== this.current.activeSMask)) {\n              this.endSMaskGroup();\n            }\n            if (this.stateStack.length !== 0) {\n              this.current = this.stateStack.pop();\n              this.ctx.restore();\n              this.pendingClip = null;\n              this.cachedGetSinglePixelWidth = null;\n            }\n          },\n          transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n            this.ctx.transform(a, b, c, d, e, f);\n            this.cachedGetSinglePixelWidth = null;\n          },\n          constructPath: function CanvasGraphics_constructPath(ops, args) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var x = current.x,\n              y = current.y;\n            for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n              switch (ops[i] | 0) {\n                case _util.OPS.rectangle:\n                  x = args[j++];\n                  y = args[j++];\n                  var width = args[j++];\n                  var height = args[j++];\n                  if (width === 0) {\n                    width = this.getSinglePixelWidth();\n                  }\n                  if (height === 0) {\n                    height = this.getSinglePixelWidth();\n                  }\n                  var xw = x + width;\n                  var yh = y + height;\n                  this.ctx.moveTo(x, y);\n                  this.ctx.lineTo(xw, y);\n                  this.ctx.lineTo(xw, yh);\n                  this.ctx.lineTo(x, yh);\n                  this.ctx.lineTo(x, y);\n                  this.ctx.closePath();\n                  break;\n                case _util.OPS.moveTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.moveTo(x, y);\n                  break;\n                case _util.OPS.lineTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.lineTo(x, y);\n                  break;\n                case _util.OPS.curveTo:\n                  x = args[j + 4];\n                  y = args[j + 5];\n                  ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n                  j += 6;\n                  break;\n                case _util.OPS.curveTo2:\n                  ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  j += 4;\n                  break;\n                case _util.OPS.curveTo3:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n                  j += 4;\n                  break;\n                case _util.OPS.closePath:\n                  ctx.closePath();\n                  break;\n              }\n            }\n            current.setCurrentPoint(x, y);\n          },\n          closePath: function CanvasGraphics_closePath() {\n            this.ctx.closePath();\n          },\n          stroke: function CanvasGraphics_stroke(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var strokeColor = this.current.strokeColor;\n            ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR, this.current.lineWidth);\n            ctx.globalAlpha = this.current.strokeAlpha;\n            if (strokeColor && strokeColor.hasOwnProperty('type') && strokeColor.type === 'Pattern') {\n              ctx.save();\n              ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n              ctx.stroke();\n              ctx.restore();\n            } else {\n              ctx.stroke();\n            }\n            if (consumePath) {\n              this.consumePath();\n            }\n            ctx.globalAlpha = this.current.fillAlpha;\n          },\n          closeStroke: function CanvasGraphics_closeStroke() {\n            this.closePath();\n            this.stroke();\n          },\n          fill: function CanvasGraphics_fill(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var needRestore = false;\n            if (isPatternFill) {\n              ctx.save();\n              if (this.baseTransform) {\n                ctx.setTransform.apply(ctx, this.baseTransform);\n              }\n              ctx.fillStyle = fillColor.getPattern(ctx, this);\n              needRestore = true;\n            }\n            if (this.pendingEOFill) {\n              ctx.fill('evenodd');\n              this.pendingEOFill = false;\n            } else {\n              ctx.fill();\n            }\n            if (needRestore) {\n              ctx.restore();\n            }\n            if (consumePath) {\n              this.consumePath();\n            }\n          },\n          eoFill: function CanvasGraphics_eoFill() {\n            this.pendingEOFill = true;\n            this.fill();\n          },\n          fillStroke: function CanvasGraphics_fillStroke() {\n            this.fill(false);\n            this.stroke(false);\n            this.consumePath();\n          },\n          eoFillStroke: function CanvasGraphics_eoFillStroke() {\n            this.pendingEOFill = true;\n            this.fillStroke();\n          },\n          closeFillStroke: function CanvasGraphics_closeFillStroke() {\n            this.closePath();\n            this.fillStroke();\n          },\n          closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n            this.pendingEOFill = true;\n            this.closePath();\n            this.fillStroke();\n          },\n          endPath: function CanvasGraphics_endPath() {\n            this.consumePath();\n          },\n          clip: function CanvasGraphics_clip() {\n            this.pendingClip = NORMAL_CLIP;\n          },\n          eoClip: function CanvasGraphics_eoClip() {\n            this.pendingClip = EO_CLIP;\n          },\n          beginText: function CanvasGraphics_beginText() {\n            this.current.textMatrix = _util.IDENTITY_MATRIX;\n            this.current.textMatrixScale = 1;\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          endText: function CanvasGraphics_endText() {\n            var paths = this.pendingTextPaths;\n            var ctx = this.ctx;\n            if (paths === undefined) {\n              ctx.beginPath();\n              return;\n            }\n            ctx.save();\n            ctx.beginPath();\n            for (var i = 0; i < paths.length; i++) {\n              var path = paths[i];\n              ctx.setTransform.apply(ctx, path.transform);\n              ctx.translate(path.x, path.y);\n              path.addToPath(ctx, path.fontSize);\n            }\n            ctx.restore();\n            ctx.clip();\n            ctx.beginPath();\n            delete this.pendingTextPaths;\n          },\n          setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n            this.current.charSpacing = spacing;\n          },\n          setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n            this.current.wordSpacing = spacing;\n          },\n          setHScale: function CanvasGraphics_setHScale(scale) {\n            this.current.textHScale = scale / 100;\n          },\n          setLeading: function CanvasGraphics_setLeading(leading) {\n            this.current.leading = -leading;\n          },\n          setFont: function CanvasGraphics_setFont(fontRefName, size) {\n            var fontObj = this.commonObjs.get(fontRefName);\n            var current = this.current;\n            if (!fontObj) {\n              throw new Error('Can\\'t find font for ' + fontRefName);\n            }\n            current.fontMatrix = fontObj.fontMatrix ? fontObj.fontMatrix : _util.FONT_IDENTITY_MATRIX;\n            if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n              (0, _util.warn)('Invalid font matrix for font ' + fontRefName);\n            }\n            if (size < 0) {\n              size = -size;\n              current.fontDirection = -1;\n            } else {\n              current.fontDirection = 1;\n            }\n            this.current.font = fontObj;\n            this.current.fontSize = size;\n            if (fontObj.isType3Font) {\n              return;\n            }\n            var name = fontObj.loadedName || 'sans-serif';\n            var bold = fontObj.black ? '900' : fontObj.bold ? 'bold' : 'normal';\n            var italic = fontObj.italic ? 'italic' : 'normal';\n            var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n            var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE : size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n            this.current.fontSizeScale = size / browserFontSize;\n            var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n            this.ctx.font = rule;\n          },\n          setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n            this.current.textRenderingMode = mode;\n          },\n          setTextRise: function CanvasGraphics_setTextRise(rise) {\n            this.current.textRise = rise;\n          },\n          moveText: function CanvasGraphics_moveText(x, y) {\n            this.current.x = this.current.lineX += x;\n            this.current.y = this.current.lineY += y;\n          },\n          setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n            this.setLeading(-y);\n            this.moveText(x, y);\n          },\n          setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n            this.current.textMatrix = [a, b, c, d, e, f];\n            this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          nextLine: function CanvasGraphics_nextLine() {\n            this.moveText(0, this.current.leading);\n          },\n          paintChar: function CanvasGraphics_paintChar(character, x, y) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var textRenderingMode = current.textRenderingMode;\n            var fontSize = current.fontSize / current.fontSizeScale;\n            var fillStrokeMode = textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n            var isAddToPathSet = !!(textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG);\n            var addToPath;\n            if (font.disableFontFace || isAddToPathSet) {\n              addToPath = font.getPathGenerator(this.commonObjs, character);\n            }\n            if (font.disableFontFace) {\n              ctx.save();\n              ctx.translate(x, y);\n              ctx.beginPath();\n              addToPath(ctx, fontSize);\n              if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.fill();\n              }\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.stroke();\n              }\n              ctx.restore();\n            } else {\n              if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.fillText(character, x, y);\n              }\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.strokeText(character, x, y);\n              }\n            }\n            if (isAddToPathSet) {\n              var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n              paths.push({\n                transform: ctx.mozCurrentTransform,\n                x: x,\n                y: y,\n                fontSize: fontSize,\n                addToPath: addToPath\n              });\n            }\n          },\n          get isFontSubpixelAAEnabled() {\n            var ctx = this.canvasFactory.create(10, 10).context;\n            ctx.scale(1.5, 1);\n            ctx.fillText('I', 0, 10);\n            var data = ctx.getImageData(0, 0, 10, 10).data;\n            var enabled = false;\n            for (var i = 3; i < data.length; i += 4) {\n              if (data[i] > 0 && data[i] < 255) {\n                enabled = true;\n                break;\n              }\n            }\n            return (0, _util.shadow)(this, 'isFontSubpixelAAEnabled', enabled);\n          },\n          showText: function CanvasGraphics_showText(glyphs) {\n            var current = this.current;\n            var font = current.font;\n            if (font.isType3Font) {\n              return this.showType3Text(glyphs);\n            }\n            var fontSize = current.fontSize;\n            if (fontSize === 0) {\n              return;\n            }\n            var ctx = this.ctx;\n            var fontSizeScale = current.fontSizeScale;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var fontDirection = current.fontDirection;\n            var textHScale = current.textHScale * fontDirection;\n            var glyphsLength = glyphs.length;\n            var vertical = font.vertical;\n            var spacingDir = vertical ? 1 : -1;\n            var defaultVMetrics = font.defaultVMetrics;\n            var widthAdvanceScale = fontSize * current.fontMatrix[0];\n            var simpleFillText = current.textRenderingMode === _util.TextRenderingMode.FILL && !font.disableFontFace;\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y + current.textRise);\n            if (current.patternFill) {\n              ctx.fillStyle = current.fillColor.getPattern(ctx, this);\n            }\n            if (fontDirection > 0) {\n              ctx.scale(textHScale, -1);\n            } else {\n              ctx.scale(textHScale, 1);\n            }\n            var lineWidth = current.lineWidth;\n            var scale = current.textMatrixScale;\n            if (scale === 0 || lineWidth === 0) {\n              var fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                this.cachedGetSinglePixelWidth = null;\n                lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n              }\n            } else {\n              lineWidth /= scale;\n            }\n            if (fontSizeScale !== 1.0) {\n              ctx.scale(fontSizeScale, fontSizeScale);\n              lineWidth /= fontSizeScale;\n            }\n            ctx.lineWidth = lineWidth;\n            var x = 0,\n              i;\n            for (i = 0; i < glyphsLength; ++i) {\n              var glyph = glyphs[i];\n              if ((0, _util.isNum)(glyph)) {\n                x += spacingDir * glyph * fontSize / 1000;\n                continue;\n              }\n              var restoreNeeded = false;\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var character = glyph.fontChar;\n              var accent = glyph.accent;\n              var scaledX, scaledY, scaledAccentX, scaledAccentY;\n              var width = glyph.width;\n              if (vertical) {\n                var vmetric, vx, vy;\n                vmetric = glyph.vmetric || defaultVMetrics;\n                vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n                vx = -vx * widthAdvanceScale;\n                vy = vmetric[2] * widthAdvanceScale;\n                width = vmetric ? -vmetric[0] : width;\n                scaledX = vx / fontSizeScale;\n                scaledY = (x + vy) / fontSizeScale;\n              } else {\n                scaledX = x / fontSizeScale;\n                scaledY = 0;\n              }\n              if (font.remeasure && width > 0) {\n                var measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n                if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n                  var characterScaleX = width / measuredWidth;\n                  restoreNeeded = true;\n                  ctx.save();\n                  ctx.scale(characterScaleX, 1);\n                  scaledX /= characterScaleX;\n                } else if (width !== measuredWidth) {\n                  scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n                }\n              }\n              if (glyph.isInFont || font.missingFile) {\n                if (simpleFillText && !accent) {\n                  ctx.fillText(character, scaledX, scaledY);\n                } else {\n                  this.paintChar(character, scaledX, scaledY);\n                  if (accent) {\n                    scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n                    scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n                    this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n                  }\n                }\n              }\n              var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n              x += charWidth;\n              if (restoreNeeded) {\n                ctx.restore();\n              }\n            }\n            if (vertical) {\n              current.y -= x * textHScale;\n            } else {\n              current.x += x * textHScale;\n            }\n            ctx.restore();\n          },\n          showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var fontSize = current.fontSize;\n            var fontDirection = current.fontDirection;\n            var spacingDir = font.vertical ? 1 : -1;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var textHScale = current.textHScale * fontDirection;\n            var fontMatrix = current.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n            var glyphsLength = glyphs.length;\n            var isTextInvisible = current.textRenderingMode === _util.TextRenderingMode.INVISIBLE;\n            var i, glyph, width, spacingLength;\n            if (isTextInvisible || fontSize === 0) {\n              return;\n            }\n            this.cachedGetSinglePixelWidth = null;\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y);\n            ctx.scale(textHScale, fontDirection);\n            for (i = 0; i < glyphsLength; ++i) {\n              glyph = glyphs[i];\n              if ((0, _util.isNum)(glyph)) {\n                spacingLength = spacingDir * glyph * fontSize / 1000;\n                this.ctx.translate(spacingLength, 0);\n                current.x += spacingLength * textHScale;\n                continue;\n              }\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var operatorList = font.charProcOperatorList[glyph.operatorListId];\n              if (!operatorList) {\n                (0, _util.warn)('Type3 character \"' + glyph.operatorListId + '\" is not available.');\n                continue;\n              }\n              this.processingType3 = glyph;\n              this.save();\n              ctx.scale(fontSize, fontSize);\n              ctx.transform.apply(ctx, fontMatrix);\n              this.executeOperatorList(operatorList);\n              this.restore();\n              var transformed = _util.Util.applyTransform([glyph.width, 0], fontMatrix);\n              width = transformed[0] * fontSize + spacing;\n              ctx.translate(width, 0);\n              current.x += width * textHScale;\n            }\n            ctx.restore();\n            this.processingType3 = null;\n          },\n          setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {},\n          setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n            this.ctx.rect(llx, lly, urx - llx, ury - lly);\n            this.clip();\n            this.endPath();\n          },\n          getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n            var _this = this;\n            var pattern;\n            if (IR[0] === 'TilingPattern') {\n              var color = IR[1];\n              var baseTransform = this.baseTransform || this.ctx.mozCurrentTransform.slice();\n              var canvasGraphicsFactory = {\n                createCanvasGraphics: function createCanvasGraphics(ctx) {\n                  return new CanvasGraphics(ctx, _this.commonObjs, _this.objs, _this.canvasFactory);\n                }\n              };\n              pattern = new _pattern_helper.TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n            } else {\n              pattern = (0, _pattern_helper.getShadingPatternFromIR)(IR);\n            }\n            return pattern;\n          },\n          setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n            this.current.strokeColor = this.getColorN_Pattern(arguments);\n          },\n          setFillColorN: function CanvasGraphics_setFillColorN() {\n            this.current.fillColor = this.getColorN_Pattern(arguments);\n            this.current.patternFill = true;\n          },\n          setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n            var color = _util.Util.makeCssRgb(r, g, b);\n            this.ctx.strokeStyle = color;\n            this.current.strokeColor = color;\n          },\n          setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n            var color = _util.Util.makeCssRgb(r, g, b);\n            this.ctx.fillStyle = color;\n            this.current.fillColor = color;\n            this.current.patternFill = false;\n          },\n          shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n            var ctx = this.ctx;\n            this.save();\n            var pattern = (0, _pattern_helper.getShadingPatternFromIR)(patternIR);\n            ctx.fillStyle = pattern.getPattern(ctx, this, true);\n            var inv = ctx.mozCurrentTransformInverse;\n            if (inv) {\n              var canvas = ctx.canvas;\n              var width = canvas.width;\n              var height = canvas.height;\n              var bl = _util.Util.applyTransform([0, 0], inv);\n              var br = _util.Util.applyTransform([0, height], inv);\n              var ul = _util.Util.applyTransform([width, 0], inv);\n              var ur = _util.Util.applyTransform([width, height], inv);\n              var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n              var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n              var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n              var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n              this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n            } else {\n              this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n            }\n            this.restore();\n          },\n          beginInlineImage: function CanvasGraphics_beginInlineImage() {\n            throw new Error('Should not call beginInlineImage');\n          },\n          beginImageData: function CanvasGraphics_beginImageData() {\n            throw new Error('Should not call beginImageData');\n          },\n          paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix, bbox) {\n            this.save();\n            this.baseTransformStack.push(this.baseTransform);\n            if (Array.isArray(matrix) && matrix.length === 6) {\n              this.transform.apply(this, matrix);\n            }\n            this.baseTransform = this.ctx.mozCurrentTransform;\n            if (Array.isArray(bbox) && bbox.length === 4) {\n              var width = bbox[2] - bbox[0];\n              var height = bbox[3] - bbox[1];\n              this.ctx.rect(bbox[0], bbox[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n          },\n          paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n            this.restore();\n            this.baseTransform = this.baseTransformStack.pop();\n          },\n          beginGroup: function CanvasGraphics_beginGroup(group) {\n            this.save();\n            var currentCtx = this.ctx;\n            if (!group.isolated) {\n              (0, _util.info)('TODO: Support non-isolated groups.');\n            }\n            if (group.knockout) {\n              (0, _util.warn)('Knockout groups not supported.');\n            }\n            var currentTransform = currentCtx.mozCurrentTransform;\n            if (group.matrix) {\n              currentCtx.transform.apply(currentCtx, group.matrix);\n            }\n            if (!group.bbox) {\n              throw new Error('Bounding box is required.');\n            }\n            var bounds = _util.Util.getAxialAlignedBoundingBox(group.bbox, currentCtx.mozCurrentTransform);\n            var canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n            bounds = _util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n            var offsetX = Math.floor(bounds[0]);\n            var offsetY = Math.floor(bounds[1]);\n            var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n            var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n            var scaleX = 1,\n              scaleY = 1;\n            if (drawnWidth > MAX_GROUP_SIZE) {\n              scaleX = drawnWidth / MAX_GROUP_SIZE;\n              drawnWidth = MAX_GROUP_SIZE;\n            }\n            if (drawnHeight > MAX_GROUP_SIZE) {\n              scaleY = drawnHeight / MAX_GROUP_SIZE;\n              drawnHeight = MAX_GROUP_SIZE;\n            }\n            var cacheId = 'groupAt' + this.groupLevel;\n            if (group.smask) {\n              cacheId += '_smask_' + this.smaskCounter++ % 2;\n            }\n            var scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n            var groupCtx = scratchCanvas.context;\n            groupCtx.scale(1 / scaleX, 1 / scaleY);\n            groupCtx.translate(-offsetX, -offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n            if (group.smask) {\n              this.smaskStack.push({\n                canvas: scratchCanvas.canvas,\n                context: groupCtx,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                scaleX: scaleX,\n                scaleY: scaleY,\n                subtype: group.smask.subtype,\n                backdrop: group.smask.backdrop,\n                transferMap: group.smask.transferMap || null,\n                startTransformInverse: null\n              });\n            } else {\n              currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n              currentCtx.translate(offsetX, offsetY);\n              currentCtx.scale(scaleX, scaleY);\n            }\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([['BM', 'source-over'], ['ca', 1], ['CA', 1]]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n            this.current.activeSMask = null;\n          },\n          endGroup: function CanvasGraphics_endGroup(group) {\n            this.groupLevel--;\n            var groupCtx = this.ctx;\n            this.ctx = this.groupStack.pop();\n            if (this.ctx.imageSmoothingEnabled !== undefined) {\n              this.ctx.imageSmoothingEnabled = false;\n            } else {\n              this.ctx.mozImageSmoothingEnabled = false;\n            }\n            if (group.smask) {\n              this.tempSMask = this.smaskStack.pop();\n            } else {\n              this.ctx.drawImage(groupCtx.canvas, 0, 0);\n            }\n            this.restore();\n          },\n          beginAnnotations: function CanvasGraphics_beginAnnotations() {\n            this.save();\n            if (this.baseTransform) {\n              this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n            }\n          },\n          endAnnotations: function CanvasGraphics_endAnnotations() {\n            this.restore();\n          },\n          beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform, matrix) {\n            this.save();\n            resetCtxToDefault(this.ctx);\n            this.current = new CanvasExtraState();\n            if (Array.isArray(rect) && rect.length === 4) {\n              var width = rect[2] - rect[0];\n              var height = rect[3] - rect[1];\n              this.ctx.rect(rect[0], rect[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n            this.transform.apply(this, transform);\n            this.transform.apply(this, matrix);\n          },\n          endAnnotation: function CanvasGraphics_endAnnotation() {\n            this.restore();\n          },\n          paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n            var domImage = this.objs.get(objId);\n            if (!domImage) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n            this.save();\n            var ctx = this.ctx;\n            ctx.scale(1 / w, -1 / h);\n            ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height, 0, -h, w, h);\n            if (this.imageLayer) {\n              var currentTransform = ctx.mozCurrentTransformInverse;\n              var position = this.getCanvasPosition(0, 0);\n              this.imageLayer.appendImage({\n                objId: objId,\n                left: position[0],\n                top: position[1],\n                width: w / currentTransform[0],\n                height: h / currentTransform[3]\n              });\n            }\n            this.restore();\n          },\n          paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n            var ctx = this.ctx;\n            var width = img.width,\n              height = img.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var glyph = this.processingType3;\n            if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n              if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n                glyph.compiled = compileType3Glyph({\n                  data: img.data,\n                  width: width,\n                  height: height\n                });\n              } else {\n                glyph.compiled = null;\n              }\n            }\n            if (glyph && glyph.compiled) {\n              glyph.compiled(ctx);\n              return;\n            }\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n            putBinaryImageMask(maskCtx, img);\n            maskCtx.globalCompositeOperation = 'source-in';\n            maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n            maskCtx.restore();\n            this.paintInlineImageXObject(maskCanvas.canvas);\n          },\n          paintImageMaskXObjectRepeat: function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX, scaleY, positions) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n            putBinaryImageMask(maskCtx, imgData);\n            maskCtx.globalCompositeOperation = 'source-in';\n            maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n            maskCtx.restore();\n            var ctx = this.ctx;\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              ctx.save();\n              ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n          paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n            var ctx = this.ctx;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            for (var i = 0, ii = images.length; i < ii; i++) {\n              var image = images[i];\n              var width = image.width,\n                height = image.height;\n              var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n              var maskCtx = maskCanvas.context;\n              maskCtx.save();\n              putBinaryImageMask(maskCtx, image);\n              maskCtx.globalCompositeOperation = 'source-in';\n              maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n              maskCtx.fillRect(0, 0, width, height);\n              maskCtx.restore();\n              ctx.save();\n              ctx.transform.apply(ctx, image.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n          paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n            var imgData = this.objs.get(objId);\n            if (!imgData) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n            this.paintInlineImageXObject(imgData);\n          },\n          paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n            var imgData = this.objs.get(objId);\n            if (!imgData) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n            var width = imgData.width;\n            var height = imgData.height;\n            var map = [];\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              map.push({\n                transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n                x: 0,\n                y: 0,\n                w: width,\n                h: height\n              });\n            }\n            this.paintInlineImageXObjectGroup(imgData, map);\n          },\n          paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(imgData) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var ctx = this.ctx;\n            this.save();\n            ctx.scale(1 / width, -1 / height);\n            var currentTransform = ctx.mozCurrentTransformInverse;\n            var a = currentTransform[0],\n              b = currentTransform[1];\n            var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n            var c = currentTransform[2],\n              d = currentTransform[3];\n            var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n            var imgToPaint, tmpCanvas;\n            if (imgData instanceof HTMLElement || !imgData.data) {\n              imgToPaint = imgData;\n            } else {\n              tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', width, height);\n              var tmpCtx = tmpCanvas.context;\n              putBinaryImageData(tmpCtx, imgData);\n              imgToPaint = tmpCanvas.canvas;\n            }\n            var paintWidth = width,\n              paintHeight = height;\n            var tmpCanvasId = 'prescale1';\n            while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n              var newWidth = paintWidth,\n                newHeight = paintHeight;\n              if (widthScale > 2 && paintWidth > 1) {\n                newWidth = Math.ceil(paintWidth / 2);\n                widthScale /= paintWidth / newWidth;\n              }\n              if (heightScale > 2 && paintHeight > 1) {\n                newHeight = Math.ceil(paintHeight / 2);\n                heightScale /= paintHeight / newHeight;\n              }\n              tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n              tmpCtx = tmpCanvas.context;\n              tmpCtx.clearRect(0, 0, newWidth, newHeight);\n              tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n              imgToPaint = tmpCanvas.canvas;\n              paintWidth = newWidth;\n              paintHeight = newHeight;\n              tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n            }\n            ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, -height, width, height);\n            if (this.imageLayer) {\n              var position = this.getCanvasPosition(0, -height);\n              this.imageLayer.appendImage({\n                imgData: imgData,\n                left: position[0],\n                top: position[1],\n                width: width / currentTransform[0],\n                height: height / currentTransform[3]\n              });\n            }\n            this.restore();\n          },\n          paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n            var ctx = this.ctx;\n            var w = imgData.width;\n            var h = imgData.height;\n            var tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', w, h);\n            var tmpCtx = tmpCanvas.context;\n            putBinaryImageData(tmpCtx, imgData);\n            for (var i = 0, ii = map.length; i < ii; i++) {\n              var entry = map[i];\n              ctx.save();\n              ctx.transform.apply(ctx, entry.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n              if (this.imageLayer) {\n                var position = this.getCanvasPosition(entry.x, entry.y);\n                this.imageLayer.appendImage({\n                  imgData: imgData,\n                  left: position[0],\n                  top: position[1],\n                  width: w,\n                  height: h\n                });\n              }\n              ctx.restore();\n            }\n          },\n          paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n            this.ctx.fillRect(0, 0, 1, 1);\n          },\n          paintXObject: function CanvasGraphics_paintXObject() {\n            (0, _util.warn)('Unsupported \\'paintXObject\\' command.');\n          },\n          markPoint: function CanvasGraphics_markPoint(tag) {},\n          markPointProps: function CanvasGraphics_markPointProps(tag, properties) {},\n          beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {},\n          beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(tag, properties) {},\n          endMarkedContent: function CanvasGraphics_endMarkedContent() {},\n          beginCompat: function CanvasGraphics_beginCompat() {},\n          endCompat: function CanvasGraphics_endCompat() {},\n          consumePath: function CanvasGraphics_consumePath() {\n            var ctx = this.ctx;\n            if (this.pendingClip) {\n              if (this.pendingClip === EO_CLIP) {\n                ctx.clip('evenodd');\n              } else {\n                ctx.clip();\n              }\n              this.pendingClip = null;\n            }\n            ctx.beginPath();\n          },\n          getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n            if (this.cachedGetSinglePixelWidth === null) {\n              this.ctx.save();\n              var inverse = this.ctx.mozCurrentTransformInverse;\n              this.ctx.restore();\n              this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(inverse[0] * inverse[0] + inverse[1] * inverse[1], inverse[2] * inverse[2] + inverse[3] * inverse[3]));\n            }\n            return this.cachedGetSinglePixelWidth;\n          },\n          getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n            var transform = this.ctx.mozCurrentTransform;\n            return [transform[0] * x + transform[2] * y + transform[4], transform[1] * x + transform[3] * y + transform[5]];\n          }\n        };\n        for (var op in _util.OPS) {\n          CanvasGraphics.prototype[_util.OPS[op]] = CanvasGraphics.prototype[op];\n        }\n        return CanvasGraphics;\n      }();\n      exports.CanvasGraphics = CanvasGraphics;\n\n      /***/\n    }, /* 115 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TilingPattern = exports.getShadingPatternFromIR = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var ShadingIRs = {};\n      ShadingIRs.RadialAxial = {\n        fromIR: function RadialAxial_fromIR(raw) {\n          var type = raw[1];\n          var colorStops = raw[2];\n          var p0 = raw[3];\n          var p1 = raw[4];\n          var r0 = raw[5];\n          var r1 = raw[6];\n          return {\n            type: 'Pattern',\n            getPattern: function RadialAxial_getPattern(ctx) {\n              var grad;\n              if (type === 'axial') {\n                grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n              } else if (type === 'radial') {\n                grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n              }\n              for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n                var c = colorStops[i];\n                grad.addColorStop(c[0], c[1]);\n              }\n              return grad;\n            }\n          };\n        }\n      };\n      var createMeshCanvas = function createMeshCanvasClosure() {\n        function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n          var coords = context.coords,\n            colors = context.colors;\n          var bytes = data.data,\n            rowSize = data.width * 4;\n          var tmp;\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n          if (coords[p2 + 1] > coords[p3 + 1]) {\n            tmp = p2;\n            p2 = p3;\n            p3 = tmp;\n            tmp = c2;\n            c2 = c3;\n            c3 = tmp;\n          }\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n          var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n          var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n          var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n          var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n          var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n          var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n          if (y1 >= y3) {\n            return;\n          }\n          var c1r = colors[c1],\n            c1g = colors[c1 + 1],\n            c1b = colors[c1 + 2];\n          var c2r = colors[c2],\n            c2g = colors[c2 + 1],\n            c2b = colors[c2 + 2];\n          var c3r = colors[c3],\n            c3g = colors[c3 + 1],\n            c3b = colors[c3 + 2];\n          var minY = Math.round(y1),\n            maxY = Math.round(y3);\n          var xa, car, cag, cab;\n          var xb, cbr, cbg, cbb;\n          var k;\n          for (var y = minY; y <= maxY; y++) {\n            if (y < y2) {\n              k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n              xa = x1 - (x1 - x2) * k;\n              car = c1r - (c1r - c2r) * k;\n              cag = c1g - (c1g - c2g) * k;\n              cab = c1b - (c1b - c2b) * k;\n            } else {\n              k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n              xa = x2 - (x2 - x3) * k;\n              car = c2r - (c2r - c3r) * k;\n              cag = c2g - (c2g - c3g) * k;\n              cab = c2b - (c2b - c3b) * k;\n            }\n            k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n            xb = x1 - (x1 - x3) * k;\n            cbr = c1r - (c1r - c3r) * k;\n            cbg = c1g - (c1g - c3g) * k;\n            cbb = c1b - (c1b - c3b) * k;\n            var x1_ = Math.round(Math.min(xa, xb));\n            var x2_ = Math.round(Math.max(xa, xb));\n            var j = rowSize * y + x1_ * 4;\n            for (var x = x1_; x <= x2_; x++) {\n              k = (xa - x) / (xa - xb);\n              k = k < 0 ? 0 : k > 1 ? 1 : k;\n              bytes[j++] = car - (car - cbr) * k | 0;\n              bytes[j++] = cag - (cag - cbg) * k | 0;\n              bytes[j++] = cab - (cab - cbb) * k | 0;\n              bytes[j++] = 255;\n            }\n          }\n        }\n        function drawFigure(data, figure, context) {\n          var ps = figure.coords;\n          var cs = figure.colors;\n          var i, ii;\n          switch (figure.type) {\n            case 'lattice':\n              var verticesPerRow = figure.verticesPerRow;\n              var rows = Math.floor(ps.length / verticesPerRow) - 1;\n              var cols = verticesPerRow - 1;\n              for (i = 0; i < rows; i++) {\n                var q = i * verticesPerRow;\n                for (var j = 0; j < cols; j++, q++) {\n                  drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n                  drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n                }\n              }\n              break;\n            case 'triangles':\n              for (i = 0, ii = ps.length; i < ii; i += 3) {\n                drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n              }\n              break;\n            default:\n              throw new Error('illegal figure');\n          }\n        }\n        function createMeshCanvas(bounds, combinesScale, coords, colors, figures, backgroundColor, cachedCanvases, webGLContext) {\n          var EXPECTED_SCALE = 1.1;\n          var MAX_PATTERN_SIZE = 3000;\n          var BORDER_SIZE = 2;\n          var offsetX = Math.floor(bounds[0]);\n          var offsetY = Math.floor(bounds[1]);\n          var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n          var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n          var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var scaleX = boundsWidth / width;\n          var scaleY = boundsHeight / height;\n          var context = {\n            coords: coords,\n            colors: colors,\n            offsetX: -offsetX,\n            offsetY: -offsetY,\n            scaleX: 1 / scaleX,\n            scaleY: 1 / scaleY\n          };\n          var paddedWidth = width + BORDER_SIZE * 2;\n          var paddedHeight = height + BORDER_SIZE * 2;\n          var canvas, tmpCanvas, i, ii;\n          if (webGLContext.isEnabled) {\n            canvas = webGLContext.drawFigures({\n              width: width,\n              height: height,\n              backgroundColor: backgroundColor,\n              figures: figures,\n              context: context\n            });\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight, false);\n            tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          } else {\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight, false);\n            var tmpCtx = tmpCanvas.context;\n            var data = tmpCtx.createImageData(width, height);\n            if (backgroundColor) {\n              var bytes = data.data;\n              for (i = 0, ii = bytes.length; i < ii; i += 4) {\n                bytes[i] = backgroundColor[0];\n                bytes[i + 1] = backgroundColor[1];\n                bytes[i + 2] = backgroundColor[2];\n                bytes[i + 3] = 255;\n              }\n            }\n            for (i = 0; i < figures.length; i++) {\n              drawFigure(data, figures[i], context);\n            }\n            tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          }\n          return {\n            canvas: canvas,\n            offsetX: offsetX - BORDER_SIZE * scaleX,\n            offsetY: offsetY - BORDER_SIZE * scaleY,\n            scaleX: scaleX,\n            scaleY: scaleY\n          };\n        }\n        return createMeshCanvas;\n      }();\n      ShadingIRs.Mesh = {\n        fromIR: function Mesh_fromIR(raw) {\n          var coords = raw[2];\n          var colors = raw[3];\n          var figures = raw[4];\n          var bounds = raw[5];\n          var matrix = raw[6];\n          var background = raw[8];\n          return {\n            type: 'Pattern',\n            getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n              var scale;\n              if (shadingFill) {\n                scale = _util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n              } else {\n                scale = _util.Util.singularValueDecompose2dScale(owner.baseTransform);\n                if (matrix) {\n                  var matrixScale = _util.Util.singularValueDecompose2dScale(matrix);\n                  scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n                }\n              }\n              var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords, colors, figures, shadingFill ? null : background, owner.cachedCanvases, owner.webGLContext);\n              if (!shadingFill) {\n                ctx.setTransform.apply(ctx, owner.baseTransform);\n                if (matrix) {\n                  ctx.transform.apply(ctx, matrix);\n                }\n              }\n              ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n              ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n              return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n            }\n          };\n        }\n      };\n      ShadingIRs.Dummy = {\n        fromIR: function Dummy_fromIR() {\n          return {\n            type: 'Pattern',\n            getPattern: function Dummy_fromIR_getPattern() {\n              return 'hotpink';\n            }\n          };\n        }\n      };\n      function getShadingPatternFromIR(raw) {\n        var shadingIR = ShadingIRs[raw[0]];\n        if (!shadingIR) {\n          throw new Error('Unknown IR type: ' + raw[0]);\n        }\n        return shadingIR.fromIR(raw);\n      }\n      var TilingPattern = function TilingPatternClosure() {\n        var PaintType = {\n          COLORED: 1,\n          UNCOLORED: 2\n        };\n        var MAX_PATTERN_SIZE = 3000;\n        function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n          this.operatorList = IR[2];\n          this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n          this.bbox = IR[4];\n          this.xstep = IR[5];\n          this.ystep = IR[6];\n          this.paintType = IR[7];\n          this.tilingType = IR[8];\n          this.color = color;\n          this.canvasGraphicsFactory = canvasGraphicsFactory;\n          this.baseTransform = baseTransform;\n          this.type = 'Pattern';\n          this.ctx = ctx;\n        }\n        TilingPattern.prototype = {\n          createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n            var operatorList = this.operatorList;\n            var bbox = this.bbox;\n            var xstep = this.xstep;\n            var ystep = this.ystep;\n            var paintType = this.paintType;\n            var tilingType = this.tilingType;\n            var color = this.color;\n            var canvasGraphicsFactory = this.canvasGraphicsFactory;\n            (0, _util.info)('TilingType: ' + tilingType);\n            var x0 = bbox[0],\n              y0 = bbox[1],\n              x1 = bbox[2],\n              y1 = bbox[3];\n            var topLeft = [x0, y0];\n            var botRight = [x0 + xstep, y0 + ystep];\n            var width = botRight[0] - topLeft[0];\n            var height = botRight[1] - topLeft[1];\n            var matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n            var curMatrixScale = _util.Util.singularValueDecompose2dScale(this.baseTransform);\n            var combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n            width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])), MAX_PATTERN_SIZE);\n            height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])), MAX_PATTERN_SIZE);\n            var tmpCanvas = owner.cachedCanvases.getCanvas('pattern', width, height, true);\n            var tmpCtx = tmpCanvas.context;\n            var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n            graphics.groupLevel = owner.groupLevel;\n            this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n            this.setScale(width, height, xstep, ystep);\n            this.transformToScale(graphics);\n            var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n            graphics.transform.apply(graphics, tmpTranslate);\n            this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n            graphics.executeOperatorList(operatorList);\n            return tmpCanvas.canvas;\n          },\n          setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n            this.scale = [width / xstep, height / ystep];\n          },\n          transformToScale: function TilingPattern_transformToScale(graphics) {\n            var scale = this.scale;\n            var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n            graphics.transform.apply(graphics, tmpScale);\n          },\n          scaleToContext: function TilingPattern_scaleToContext() {\n            var scale = this.scale;\n            this.ctx.scale(1 / scale[0], 1 / scale[1]);\n          },\n          clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n            if (Array.isArray(bbox) && bbox.length === 4) {\n              var bboxWidth = x1 - x0;\n              var bboxHeight = y1 - y0;\n              graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n              graphics.clip();\n              graphics.endPath();\n            }\n          },\n          setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(graphics, paintType, color) {\n            var context = graphics.ctx,\n              current = graphics.current;\n            switch (paintType) {\n              case PaintType.COLORED:\n                var ctx = this.ctx;\n                context.fillStyle = ctx.fillStyle;\n                context.strokeStyle = ctx.strokeStyle;\n                current.fillColor = ctx.fillStyle;\n                current.strokeColor = ctx.strokeStyle;\n                break;\n              case PaintType.UNCOLORED:\n                var cssColor = _util.Util.makeCssRgb(color[0], color[1], color[2]);\n                context.fillStyle = cssColor;\n                context.strokeStyle = cssColor;\n                current.fillColor = cssColor;\n                current.strokeColor = cssColor;\n                break;\n              default:\n                throw new _util.FormatError('Unsupported paint type: ' + paintType);\n            }\n          },\n          getPattern: function TilingPattern_getPattern(ctx, owner) {\n            var temporaryPatternCanvas = this.createPatternCanvas(owner);\n            ctx = this.ctx;\n            ctx.setTransform.apply(ctx, this.baseTransform);\n            ctx.transform.apply(ctx, this.matrix);\n            this.scaleToContext();\n            return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n          }\n        };\n        return TilingPattern;\n      }();\n      exports.getShadingPatternFromIR = getShadingPatternFromIR;\n      exports.TilingPattern = TilingPattern;\n\n      /***/\n    }, /* 116 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFDataTransportStream = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var PDFDataTransportStream = function PDFDataTransportStreamClosure() {\n        function PDFDataTransportStream(params, pdfDataRangeTransport) {\n          var _this = this;\n          (0, _util.assert)(pdfDataRangeTransport);\n          this._queuedChunks = [];\n          var initialData = params.initialData;\n          if (initialData && initialData.length > 0) {\n            var buffer = new Uint8Array(initialData).buffer;\n            this._queuedChunks.push(buffer);\n          }\n          this._pdfDataRangeTransport = pdfDataRangeTransport;\n          this._isRangeSupported = !params.disableRange;\n          this._isStreamingSupported = !params.disableStream;\n          this._contentLength = params.length;\n          this._fullRequestReader = null;\n          this._rangeReaders = [];\n          this._pdfDataRangeTransport.addRangeListener(function (begin, chunk) {\n            _this._onReceiveData({\n              begin: begin,\n              chunk: chunk\n            });\n          });\n          this._pdfDataRangeTransport.addProgressListener(function (loaded) {\n            _this._onProgress({\n              loaded: loaded\n            });\n          });\n          this._pdfDataRangeTransport.addProgressiveReadListener(function (chunk) {\n            _this._onReceiveData({\n              chunk: chunk\n            });\n          });\n          this._pdfDataRangeTransport.transportReady();\n        }\n        PDFDataTransportStream.prototype = {\n          _onReceiveData: function PDFDataTransportStream_onReceiveData(args) {\n            var buffer = new Uint8Array(args.chunk).buffer;\n            if (args.begin === undefined) {\n              if (this._fullRequestReader) {\n                this._fullRequestReader._enqueue(buffer);\n              } else {\n                this._queuedChunks.push(buffer);\n              }\n            } else {\n              var found = this._rangeReaders.some(function (rangeReader) {\n                if (rangeReader._begin !== args.begin) {\n                  return false;\n                }\n                rangeReader._enqueue(buffer);\n                return true;\n              });\n              (0, _util.assert)(found);\n            }\n          },\n          _onProgress: function PDFDataTransportStream_onDataProgress(evt) {\n            if (this._rangeReaders.length > 0) {\n              var firstReader = this._rangeReaders[0];\n              if (firstReader.onProgress) {\n                firstReader.onProgress({\n                  loaded: evt.loaded\n                });\n              }\n            }\n          },\n          _removeRangeReader: function PDFDataTransportStream_removeRangeReader(reader) {\n            var i = this._rangeReaders.indexOf(reader);\n            if (i >= 0) {\n              this._rangeReaders.splice(i, 1);\n            }\n          },\n          getFullReader: function PDFDataTransportStream_getFullReader() {\n            (0, _util.assert)(!this._fullRequestReader);\n            var queuedChunks = this._queuedChunks;\n            this._queuedChunks = null;\n            return new PDFDataTransportStreamReader(this, queuedChunks);\n          },\n          getRangeReader: function PDFDataTransportStream_getRangeReader(begin, end) {\n            var reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n            this._pdfDataRangeTransport.requestDataRange(begin, end);\n            this._rangeReaders.push(reader);\n            return reader;\n          },\n          cancelAllRequests: function PDFDataTransportStream_cancelAllRequests(reason) {\n            if (this._fullRequestReader) {\n              this._fullRequestReader.cancel(reason);\n            }\n            var readers = this._rangeReaders.slice(0);\n            readers.forEach(function (rangeReader) {\n              rangeReader.cancel(reason);\n            });\n            this._pdfDataRangeTransport.abort();\n          }\n        };\n        function PDFDataTransportStreamReader(stream, queuedChunks) {\n          this._stream = stream;\n          this._done = false;\n          this._queuedChunks = queuedChunks || [];\n          this._requests = [];\n          this._headersReady = Promise.resolve();\n          stream._fullRequestReader = this;\n          this.onProgress = null;\n        }\n        PDFDataTransportStreamReader.prototype = {\n          _enqueue: function PDFDataTransportStreamReader_enqueue(chunk) {\n            if (this._done) {\n              return;\n            }\n            if (this._requests.length > 0) {\n              var requestCapability = this._requests.shift();\n              requestCapability.resolve({\n                value: chunk,\n                done: false\n              });\n              return;\n            }\n            this._queuedChunks.push(chunk);\n          },\n          get headersReady() {\n            return this._headersReady;\n          },\n          get isRangeSupported() {\n            return this._stream._isRangeSupported;\n          },\n          get isStreamingSupported() {\n            return this._stream._isStreamingSupported;\n          },\n          get contentLength() {\n            return this._stream._contentLength;\n          },\n          read: function PDFDataTransportStreamReader_read() {\n            if (this._queuedChunks.length > 0) {\n              var chunk = this._queuedChunks.shift();\n              return Promise.resolve({\n                value: chunk,\n                done: false\n              });\n            }\n            if (this._done) {\n              return Promise.resolve({\n                value: undefined,\n                done: true\n              });\n            }\n            var requestCapability = (0, _util.createPromiseCapability)();\n            this._requests.push(requestCapability);\n            return requestCapability.promise;\n          },\n          cancel: function PDFDataTransportStreamReader_cancel(reason) {\n            this._done = true;\n            this._requests.forEach(function (requestCapability) {\n              requestCapability.resolve({\n                value: undefined,\n                done: true\n              });\n            });\n            this._requests = [];\n          }\n        };\n        function PDFDataTransportStreamRangeReader(stream, begin, end) {\n          this._stream = stream;\n          this._begin = begin;\n          this._end = end;\n          this._queuedChunk = null;\n          this._requests = [];\n          this._done = false;\n          this.onProgress = null;\n        }\n        PDFDataTransportStreamRangeReader.prototype = {\n          _enqueue: function PDFDataTransportStreamRangeReader_enqueue(chunk) {\n            if (this._done) {\n              return;\n            }\n            if (this._requests.length === 0) {\n              this._queuedChunk = chunk;\n            } else {\n              var requestsCapability = this._requests.shift();\n              requestsCapability.resolve({\n                value: chunk,\n                done: false\n              });\n              this._requests.forEach(function (requestCapability) {\n                requestCapability.resolve({\n                  value: undefined,\n                  done: true\n                });\n              });\n              this._requests = [];\n            }\n            this._done = true;\n            this._stream._removeRangeReader(this);\n          },\n          get isStreamingSupported() {\n            return false;\n          },\n          read: function PDFDataTransportStreamRangeReader_read() {\n            if (this._queuedChunk) {\n              var chunk = this._queuedChunk;\n              this._queuedChunk = null;\n              return Promise.resolve({\n                value: chunk,\n                done: false\n              });\n            }\n            if (this._done) {\n              return Promise.resolve({\n                value: undefined,\n                done: true\n              });\n            }\n            var requestCapability = (0, _util.createPromiseCapability)();\n            this._requests.push(requestCapability);\n            return requestCapability.promise;\n          },\n          cancel: function PDFDataTransportStreamRangeReader_cancel(reason) {\n            this._done = true;\n            this._requests.forEach(function (requestCapability) {\n              requestCapability.resolve({\n                value: undefined,\n                done: true\n              });\n            });\n            this._requests = [];\n            this._stream._removeRangeReader(this);\n          }\n        };\n        return PDFDataTransportStream;\n      }();\n      exports.PDFDataTransportStream = PDFDataTransportStream;\n\n      /***/\n    }, /* 117 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.WebGLContext = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _util = __w_pdfjs_require__(0);\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var WebGLContext = function () {\n        function WebGLContext(_ref) {\n          var _ref$enable = _ref.enable,\n            enable = _ref$enable === undefined ? false : _ref$enable;\n          _classCallCheck(this, WebGLContext);\n          this._enabled = enable === true;\n        }\n        _createClass(WebGLContext, [{\n          key: 'composeSMask',\n          value: function composeSMask(_ref2) {\n            var layer = _ref2.layer,\n              mask = _ref2.mask,\n              properties = _ref2.properties;\n            return WebGLUtils.composeSMask(layer, mask, properties);\n          }\n        }, {\n          key: 'drawFigures',\n          value: function drawFigures(_ref3) {\n            var width = _ref3.width,\n              height = _ref3.height,\n              backgroundColor = _ref3.backgroundColor,\n              figures = _ref3.figures,\n              context = _ref3.context;\n            return WebGLUtils.drawFigures(width, height, backgroundColor, figures, context);\n          }\n        }, {\n          key: 'clear',\n          value: function clear() {\n            WebGLUtils.cleanup();\n          }\n        }, {\n          key: 'isEnabled',\n          get: function get() {\n            var enabled = this._enabled;\n            if (enabled) {\n              enabled = WebGLUtils.tryInitGL();\n            }\n            return (0, _util.shadow)(this, 'isEnabled', enabled);\n          }\n        }]);\n        return WebGLContext;\n      }();\n      var WebGLUtils = function WebGLUtilsClosure() {\n        function loadShader(gl, code, shaderType) {\n          var shader = gl.createShader(shaderType);\n          gl.shaderSource(shader, code);\n          gl.compileShader(shader);\n          var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n          if (!compiled) {\n            var errorMsg = gl.getShaderInfoLog(shader);\n            throw new Error('Error during shader compilation: ' + errorMsg);\n          }\n          return shader;\n        }\n        function createVertexShader(gl, code) {\n          return loadShader(gl, code, gl.VERTEX_SHADER);\n        }\n        function createFragmentShader(gl, code) {\n          return loadShader(gl, code, gl.FRAGMENT_SHADER);\n        }\n        function createProgram(gl, shaders) {\n          var program = gl.createProgram();\n          for (var i = 0, ii = shaders.length; i < ii; ++i) {\n            gl.attachShader(program, shaders[i]);\n          }\n          gl.linkProgram(program);\n          var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n          if (!linked) {\n            var errorMsg = gl.getProgramInfoLog(program);\n            throw new Error('Error during program linking: ' + errorMsg);\n          }\n          return program;\n        }\n        function createTexture(gl, image, textureId) {\n          gl.activeTexture(textureId);\n          var texture = gl.createTexture();\n          gl.bindTexture(gl.TEXTURE_2D, texture);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n          return texture;\n        }\n        var currentGL, currentCanvas;\n        function generateGL() {\n          if (currentGL) {\n            return;\n          }\n          currentCanvas = document.createElement('canvas');\n          currentGL = currentCanvas.getContext('webgl', {\n            premultipliedalpha: false\n          });\n        }\n        var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n        var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n        var smaskCache = null;\n        function initSmaskGL() {\n          var canvas, gl;\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n          var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n          cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n          var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n          var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n          var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n          var texCoordBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(texCoordLocation);\n          gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n          gl.uniform1i(texLayerLocation, 0);\n          gl.uniform1i(texMaskLocation, 1);\n          smaskCache = cache;\n        }\n        function composeSMask(layer, mask, properties) {\n          var width = layer.width,\n            height = layer.height;\n          if (!smaskCache) {\n            initSmaskGL();\n          }\n          var cache = smaskCache,\n            canvas = cache.canvas,\n            gl = cache.gl;\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n          if (properties.backdrop) {\n            gl.uniform4f(cache.resolutionLocation, properties.backdrop[0], properties.backdrop[1], properties.backdrop[2], 1);\n          } else {\n            gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n          }\n          gl.uniform1i(cache.subtypeLocation, properties.subtype === 'Luminosity' ? 1 : 0);\n          var texture = createTexture(gl, layer, gl.TEXTURE0);\n          var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n          var buffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, width, 0, 0, height, 0, height, width, 0, width, height]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n          gl.clearColor(0, 0, 0, 0);\n          gl.enable(gl.BLEND);\n          gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n          gl.drawArrays(gl.TRIANGLES, 0, 6);\n          gl.flush();\n          gl.deleteTexture(texture);\n          gl.deleteTexture(maskTexture);\n          gl.deleteBuffer(buffer);\n          return canvas;\n        }\n        var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n        var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n        var figuresCache = null;\n        function initFiguresGL() {\n          var canvas, gl;\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n          var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n          cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n          figuresCache = cache;\n        }\n        function drawFigures(width, height, backgroundColor, figures, context) {\n          if (!figuresCache) {\n            initFiguresGL();\n          }\n          var cache = figuresCache,\n            canvas = cache.canvas,\n            gl = cache.gl;\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n          var count = 0;\n          var i, ii, rows;\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            switch (figures[i].type) {\n              case 'lattice':\n                rows = figures[i].coords.length / figures[i].verticesPerRow | 0;\n                count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n                break;\n              case 'triangles':\n                count += figures[i].coords.length;\n                break;\n            }\n          }\n          var coords = new Float32Array(count * 2);\n          var colors = new Uint8Array(count * 3);\n          var coordsMap = context.coords,\n            colorsMap = context.colors;\n          var pIndex = 0,\n            cIndex = 0;\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            var figure = figures[i],\n              ps = figure.coords,\n              cs = figure.colors;\n            switch (figure.type) {\n              case 'lattice':\n                var cols = figure.verticesPerRow;\n                rows = ps.length / cols | 0;\n                for (var row = 1; row < rows; row++) {\n                  var offset = row * cols + 1;\n                  for (var col = 1; col < cols; col++, offset++) {\n                    coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n                    coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n                    coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n                    coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n                    coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n                    coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n                    colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n                    colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n                    colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n                    colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n                    colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n                    colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n                    colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n                    colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n                    colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n                    coords[pIndex + 6] = coords[pIndex + 2];\n                    coords[pIndex + 7] = coords[pIndex + 3];\n                    coords[pIndex + 8] = coords[pIndex + 4];\n                    coords[pIndex + 9] = coords[pIndex + 5];\n                    coords[pIndex + 10] = coordsMap[ps[offset]];\n                    coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n                    colors[cIndex + 9] = colors[cIndex + 3];\n                    colors[cIndex + 10] = colors[cIndex + 4];\n                    colors[cIndex + 11] = colors[cIndex + 5];\n                    colors[cIndex + 12] = colors[cIndex + 6];\n                    colors[cIndex + 13] = colors[cIndex + 7];\n                    colors[cIndex + 14] = colors[cIndex + 8];\n                    colors[cIndex + 15] = colorsMap[cs[offset]];\n                    colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n                    colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n                    pIndex += 12;\n                    cIndex += 18;\n                  }\n                }\n                break;\n              case 'triangles':\n                for (var j = 0, jj = ps.length; j < jj; j++) {\n                  coords[pIndex] = coordsMap[ps[j]];\n                  coords[pIndex + 1] = coordsMap[ps[j] + 1];\n                  colors[cIndex] = colorsMap[cs[j]];\n                  colors[cIndex + 1] = colorsMap[cs[j] + 1];\n                  colors[cIndex + 2] = colorsMap[cs[j] + 2];\n                  pIndex += 2;\n                  cIndex += 3;\n                }\n                break;\n            }\n          }\n          if (backgroundColor) {\n            gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255, backgroundColor[2] / 255, 1.0);\n          } else {\n            gl.clearColor(0, 0, 0, 0);\n          }\n          gl.clear(gl.COLOR_BUFFER_BIT);\n          var coordsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n          var colorsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.colorLocation);\n          gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false, 0, 0);\n          gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n          gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n          gl.drawArrays(gl.TRIANGLES, 0, count);\n          gl.flush();\n          gl.deleteBuffer(coordsBuffer);\n          gl.deleteBuffer(colorsBuffer);\n          return canvas;\n        }\n        return {\n          tryInitGL: function tryInitGL() {\n            try {\n              generateGL();\n              return !!currentGL;\n            } catch (ex) {}\n            return false;\n          },\n          composeSMask: composeSMask,\n          drawFigures: drawFigures,\n          cleanup: function cleanup() {\n            if (smaskCache && smaskCache.canvas) {\n              smaskCache.canvas.width = 0;\n              smaskCache.canvas.height = 0;\n            }\n            if (figuresCache && figuresCache.canvas) {\n              figuresCache.canvas.width = 0;\n              figuresCache.canvas.height = 0;\n            }\n            smaskCache = null;\n            figuresCache = null;\n          }\n        };\n      }();\n      exports.WebGLContext = WebGLContext;\n\n      /***/\n    }, /* 118 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFNodeStream = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _util = __w_pdfjs_require__(0);\n      var _network_utils = __w_pdfjs_require__(38);\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      var fs = require('fs');\n      var http = require('http');\n      var https = require('https');\n      var url = require('url');\n      var PDFNodeStream = function () {\n        function PDFNodeStream(source) {\n          _classCallCheck(this, PDFNodeStream);\n          this.source = source;\n          this.url = url.parse(source.url);\n          this.isHttp = this.url.protocol === 'http:' || this.url.protocol === 'https:';\n          this.isFsUrl = this.url.protocol === 'file:' || !this.url.host;\n          this.httpHeaders = this.isHttp && source.httpHeaders || {};\n          this._fullRequest = null;\n          this._rangeRequestReaders = [];\n        }\n        _createClass(PDFNodeStream, [{\n          key: 'getFullReader',\n          value: function getFullReader() {\n            (0, _util.assert)(!this._fullRequest);\n            this._fullRequest = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n            return this._fullRequest;\n          }\n        }, {\n          key: 'getRangeReader',\n          value: function getRangeReader(start, end) {\n            var rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n            this._rangeRequestReaders.push(rangeReader);\n            return rangeReader;\n          }\n        }, {\n          key: 'cancelAllRequests',\n          value: function cancelAllRequests(reason) {\n            if (this._fullRequest) {\n              this._fullRequest.cancel(reason);\n            }\n            var readers = this._rangeRequestReaders.slice(0);\n            readers.forEach(function (reader) {\n              reader.cancel(reason);\n            });\n          }\n        }]);\n        return PDFNodeStream;\n      }();\n      var BaseFullReader = function () {\n        function BaseFullReader(stream) {\n          _classCallCheck(this, BaseFullReader);\n          this._url = stream.url;\n          this._done = false;\n          this._errored = false;\n          this._reason = null;\n          this.onProgress = null;\n          var source = stream.source;\n          this._contentLength = source.length;\n          this._loaded = 0;\n          this._disableRange = source.disableRange || false;\n          this._rangeChunkSize = source.rangeChunkSize;\n          if (!this._rangeChunkSize && !this._disableRange) {\n            this._disableRange = true;\n          }\n          this._isStreamingSupported = !source.disableStream;\n          this._isRangeSupported = !source.disableRange;\n          this._readableStream = null;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          this._headersCapability = (0, _util.createPromiseCapability)();\n        }\n        _createClass(BaseFullReader, [{\n          key: 'read',\n          value: function read() {\n            var _this = this;\n            return this._readCapability.promise.then(function () {\n              if (_this._done) {\n                return Promise.resolve({\n                  value: undefined,\n                  done: true\n                });\n              }\n              if (_this._errored) {\n                return Promise.reject(_this._reason);\n              }\n              var chunk = _this._readableStream.read();\n              if (chunk === null) {\n                _this._readCapability = (0, _util.createPromiseCapability)();\n                return _this.read();\n              }\n              _this._loaded += chunk.length;\n              if (_this.onProgress) {\n                _this.onProgress({\n                  loaded: _this._loaded,\n                  total: _this._contentLength\n                });\n              }\n              var buffer = new Uint8Array(chunk).buffer;\n              return Promise.resolve({\n                value: buffer,\n                done: false\n              });\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel(reason) {\n            if (!this._readableStream) {\n              this._error(reason);\n              return;\n            }\n            this._readableStream.destroy(reason);\n          }\n        }, {\n          key: '_error',\n          value: function _error(reason) {\n            this._errored = true;\n            this._reason = reason;\n            this._readCapability.resolve();\n          }\n        }, {\n          key: '_setReadableStream',\n          value: function _setReadableStream(readableStream) {\n            var _this2 = this;\n            this._readableStream = readableStream;\n            readableStream.on('readable', function () {\n              _this2._readCapability.resolve();\n            });\n            readableStream.on('end', function () {\n              readableStream.destroy();\n              _this2._done = true;\n              _this2._readCapability.resolve();\n            });\n            readableStream.on('error', function (reason) {\n              _this2._error(reason);\n            });\n            if (!this._isStreamingSupported && this._isRangeSupported) {\n              this._error(new _util.AbortException('streaming is disabled'));\n            }\n            if (this._errored) {\n              this._readableStream.destroy(this._reason);\n            }\n          }\n        }, {\n          key: 'headersReady',\n          get: function get() {\n            return this._headersCapability.promise;\n          }\n        }, {\n          key: 'contentLength',\n          get: function get() {\n            return this._contentLength;\n          }\n        }, {\n          key: 'isRangeSupported',\n          get: function get() {\n            return this._isRangeSupported;\n          }\n        }, {\n          key: 'isStreamingSupported',\n          get: function get() {\n            return this._isStreamingSupported;\n          }\n        }]);\n        return BaseFullReader;\n      }();\n      var BaseRangeReader = function () {\n        function BaseRangeReader(stream) {\n          _classCallCheck(this, BaseRangeReader);\n          this._url = stream.url;\n          this._done = false;\n          this._errored = false;\n          this._reason = null;\n          this.onProgress = null;\n          this._loaded = 0;\n          this._readableStream = null;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          var source = stream.source;\n          this._isStreamingSupported = !source.disableStream;\n        }\n        _createClass(BaseRangeReader, [{\n          key: 'read',\n          value: function read() {\n            var _this3 = this;\n            return this._readCapability.promise.then(function () {\n              if (_this3._done) {\n                return Promise.resolve({\n                  value: undefined,\n                  done: true\n                });\n              }\n              if (_this3._errored) {\n                return Promise.reject(_this3._reason);\n              }\n              var chunk = _this3._readableStream.read();\n              if (chunk === null) {\n                _this3._readCapability = (0, _util.createPromiseCapability)();\n                return _this3.read();\n              }\n              _this3._loaded += chunk.length;\n              if (_this3.onProgress) {\n                _this3.onProgress({\n                  loaded: _this3._loaded\n                });\n              }\n              var buffer = new Uint8Array(chunk).buffer;\n              return Promise.resolve({\n                value: buffer,\n                done: false\n              });\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel(reason) {\n            if (!this._readableStream) {\n              this._error(reason);\n              return;\n            }\n            this._readableStream.destroy(reason);\n          }\n        }, {\n          key: '_error',\n          value: function _error(reason) {\n            this._errored = true;\n            this._reason = reason;\n            this._readCapability.resolve();\n          }\n        }, {\n          key: '_setReadableStream',\n          value: function _setReadableStream(readableStream) {\n            var _this4 = this;\n            this._readableStream = readableStream;\n            readableStream.on('readable', function () {\n              _this4._readCapability.resolve();\n            });\n            readableStream.on('end', function () {\n              readableStream.destroy();\n              _this4._done = true;\n              _this4._readCapability.resolve();\n            });\n            readableStream.on('error', function (reason) {\n              _this4._error(reason);\n            });\n            if (this._errored) {\n              this._readableStream.destroy(this._reason);\n            }\n          }\n        }, {\n          key: 'isStreamingSupported',\n          get: function get() {\n            return this._isStreamingSupported;\n          }\n        }]);\n        return BaseRangeReader;\n      }();\n      function createRequestOptions(url, headers) {\n        return {\n          protocol: url.protocol,\n          auth: url.auth,\n          host: url.hostname,\n          port: url.port,\n          path: url.path,\n          method: 'GET',\n          headers: headers\n        };\n      }\n      var PDFNodeStreamFullReader = function (_BaseFullReader) {\n        _inherits(PDFNodeStreamFullReader, _BaseFullReader);\n        function PDFNodeStreamFullReader(stream) {\n          _classCallCheck(this, PDFNodeStreamFullReader);\n          var _this5 = _possibleConstructorReturn(this, (PDFNodeStreamFullReader.__proto__ || Object.getPrototypeOf(PDFNodeStreamFullReader)).call(this, stream));\n          var handleResponse = function handleResponse(response) {\n            _this5._headersCapability.resolve();\n            _this5._setReadableStream(response);\n            var _validateRangeRequest = (0, _network_utils.validateRangeRequestCapabilities)({\n                getResponseHeader: function getResponseHeader(name) {\n                  return _this5._readableStream.headers[name.toLowerCase()];\n                },\n                isHttp: stream.isHttp,\n                rangeChunkSize: _this5._rangeChunkSize,\n                disableRange: _this5._disableRange\n              }),\n              allowRangeRequests = _validateRangeRequest.allowRangeRequests,\n              suggestedLength = _validateRangeRequest.suggestedLength;\n            if (allowRangeRequests) {\n              _this5._isRangeSupported = true;\n            }\n            _this5._contentLength = suggestedLength;\n          };\n          _this5._request = null;\n          if (_this5._url.protocol === 'http:') {\n            _this5._request = http.request(createRequestOptions(_this5._url, stream.httpHeaders), handleResponse);\n          } else {\n            _this5._request = https.request(createRequestOptions(_this5._url, stream.httpHeaders), handleResponse);\n          }\n          _this5._request.on('error', function (reason) {\n            _this5._errored = true;\n            _this5._reason = reason;\n            _this5._headersCapability.reject(reason);\n          });\n          _this5._request.end();\n          return _this5;\n        }\n        return PDFNodeStreamFullReader;\n      }(BaseFullReader);\n      var PDFNodeStreamRangeReader = function (_BaseRangeReader) {\n        _inherits(PDFNodeStreamRangeReader, _BaseRangeReader);\n        function PDFNodeStreamRangeReader(stream, start, end) {\n          _classCallCheck(this, PDFNodeStreamRangeReader);\n          var _this6 = _possibleConstructorReturn(this, (PDFNodeStreamRangeReader.__proto__ || Object.getPrototypeOf(PDFNodeStreamRangeReader)).call(this, stream));\n          _this6._httpHeaders = {};\n          for (var property in stream.httpHeaders) {\n            var value = stream.httpHeaders[property];\n            if (typeof value === 'undefined') {\n              continue;\n            }\n            _this6._httpHeaders[property] = value;\n          }\n          _this6._httpHeaders['Range'] = 'bytes=' + start + '-' + (end - 1);\n          _this6._request = null;\n          if (_this6._url.protocol === 'http:') {\n            _this6._request = http.request(createRequestOptions(_this6._url, _this6._httpHeaders), function (response) {\n              _this6._setReadableStream(response);\n            });\n          } else {\n            _this6._request = https.request(createRequestOptions(_this6._url, _this6._httpHeaders), function (response) {\n              _this6._setReadableStream(response);\n            });\n          }\n          _this6._request.on('error', function (reason) {\n            _this6._errored = true;\n            _this6._reason = reason;\n          });\n          _this6._request.end();\n          return _this6;\n        }\n        return PDFNodeStreamRangeReader;\n      }(BaseRangeReader);\n      var PDFNodeStreamFsFullReader = function (_BaseFullReader2) {\n        _inherits(PDFNodeStreamFsFullReader, _BaseFullReader2);\n        function PDFNodeStreamFsFullReader(stream) {\n          _classCallCheck(this, PDFNodeStreamFsFullReader);\n          var _this7 = _possibleConstructorReturn(this, (PDFNodeStreamFsFullReader.__proto__ || Object.getPrototypeOf(PDFNodeStreamFsFullReader)).call(this, stream));\n          var path = decodeURI(_this7._url.path);\n          fs.lstat(path, function (error, stat) {\n            if (error) {\n              _this7._errored = true;\n              _this7._reason = error;\n              _this7._headersCapability.reject(error);\n              return;\n            }\n            _this7._contentLength = stat.size;\n            _this7._setReadableStream(fs.createReadStream(path));\n            _this7._headersCapability.resolve();\n          });\n          return _this7;\n        }\n        return PDFNodeStreamFsFullReader;\n      }(BaseFullReader);\n      var PDFNodeStreamFsRangeReader = function (_BaseRangeReader2) {\n        _inherits(PDFNodeStreamFsRangeReader, _BaseRangeReader2);\n        function PDFNodeStreamFsRangeReader(stream, start, end) {\n          _classCallCheck(this, PDFNodeStreamFsRangeReader);\n          var _this8 = _possibleConstructorReturn(this, (PDFNodeStreamFsRangeReader.__proto__ || Object.getPrototypeOf(PDFNodeStreamFsRangeReader)).call(this, stream));\n          _this8._setReadableStream(fs.createReadStream(decodeURI(_this8._url.path), {\n            start: start,\n            end: end - 1\n          }));\n          return _this8;\n        }\n        return PDFNodeStreamFsRangeReader;\n      }(BaseRangeReader);\n      exports.PDFNodeStream = PDFNodeStream;\n\n      /***/\n    }, /* 119 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFFetchStream = undefined;\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      var _util = __w_pdfjs_require__(0);\n      var _network_utils = __w_pdfjs_require__(38);\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function createFetchOptions(headers, withCredentials) {\n        return {\n          method: 'GET',\n          headers: headers,\n          mode: 'cors',\n          credentials: withCredentials ? 'include' : 'same-origin',\n          redirect: 'follow'\n        };\n      }\n      var PDFFetchStream = function () {\n        function PDFFetchStream(source) {\n          _classCallCheck(this, PDFFetchStream);\n          this.source = source;\n          this.isHttp = /^https?:/i.test(source.url);\n          this.httpHeaders = this.isHttp && source.httpHeaders || {};\n          this._fullRequestReader = null;\n          this._rangeRequestReaders = [];\n        }\n        _createClass(PDFFetchStream, [{\n          key: 'getFullReader',\n          value: function getFullReader() {\n            (0, _util.assert)(!this._fullRequestReader);\n            this._fullRequestReader = new PDFFetchStreamReader(this);\n            return this._fullRequestReader;\n          }\n        }, {\n          key: 'getRangeReader',\n          value: function getRangeReader(begin, end) {\n            var reader = new PDFFetchStreamRangeReader(this, begin, end);\n            this._rangeRequestReaders.push(reader);\n            return reader;\n          }\n        }, {\n          key: 'cancelAllRequests',\n          value: function cancelAllRequests(reason) {\n            if (this._fullRequestReader) {\n              this._fullRequestReader.cancel(reason);\n            }\n            var readers = this._rangeRequestReaders.slice(0);\n            readers.forEach(function (reader) {\n              reader.cancel(reason);\n            });\n          }\n        }]);\n        return PDFFetchStream;\n      }();\n      var PDFFetchStreamReader = function () {\n        function PDFFetchStreamReader(stream) {\n          var _this = this;\n          _classCallCheck(this, PDFFetchStreamReader);\n          this._stream = stream;\n          this._reader = null;\n          this._loaded = 0;\n          var source = stream.source;\n          this._withCredentials = source.withCredentials;\n          this._contentLength = source.length;\n          this._headersCapability = (0, _util.createPromiseCapability)();\n          this._disableRange = source.disableRange;\n          this._rangeChunkSize = source.rangeChunkSize;\n          if (!this._rangeChunkSize && !this._disableRange) {\n            this._disableRange = true;\n          }\n          this._isRangeSupported = !source.disableRange;\n          this._isStreamingSupported = !source.disableStream;\n          this._headers = new Headers();\n          for (var property in this._stream.httpHeaders) {\n            var value = this._stream.httpHeaders[property];\n            if (typeof value === 'undefined') {\n              continue;\n            }\n            this._headers.append(property, value);\n          }\n          var url = source.url;\n          fetch(url, createFetchOptions(this._headers, this._withCredentials)).then(function (response) {\n            if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n              throw (0, _network_utils.createResponseStatusError)(response.status, url);\n            }\n            _this._reader = response.body.getReader();\n            _this._headersCapability.resolve();\n            var _validateRangeRequest = (0, _network_utils.validateRangeRequestCapabilities)({\n                getResponseHeader: function getResponseHeader(name) {\n                  return response.headers.get(name);\n                },\n                isHttp: _this._stream.isHttp,\n                rangeChunkSize: _this._rangeChunkSize,\n                disableRange: _this._disableRange\n              }),\n              allowRangeRequests = _validateRangeRequest.allowRangeRequests,\n              suggestedLength = _validateRangeRequest.suggestedLength;\n            _this._contentLength = suggestedLength;\n            _this._isRangeSupported = allowRangeRequests;\n            if (!_this._isStreamingSupported && _this._isRangeSupported) {\n              _this.cancel(new _util.AbortException('streaming is disabled'));\n            }\n          }).catch(this._headersCapability.reject);\n          this.onProgress = null;\n        }\n        _createClass(PDFFetchStreamReader, [{\n          key: 'read',\n          value: function read() {\n            var _this2 = this;\n            return this._headersCapability.promise.then(function () {\n              return _this2._reader.read().then(function (_ref) {\n                var value = _ref.value,\n                  done = _ref.done;\n                if (done) {\n                  return Promise.resolve({\n                    value: value,\n                    done: done\n                  });\n                }\n                _this2._loaded += value.byteLength;\n                if (_this2.onProgress) {\n                  _this2.onProgress({\n                    loaded: _this2._loaded,\n                    total: _this2._contentLength\n                  });\n                }\n                var buffer = new Uint8Array(value).buffer;\n                return Promise.resolve({\n                  value: buffer,\n                  done: false\n                });\n              });\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel(reason) {\n            if (this._reader) {\n              this._reader.cancel(reason);\n            }\n          }\n        }, {\n          key: 'headersReady',\n          get: function get() {\n            return this._headersCapability.promise;\n          }\n        }, {\n          key: 'contentLength',\n          get: function get() {\n            return this._contentLength;\n          }\n        }, {\n          key: 'isRangeSupported',\n          get: function get() {\n            return this._isRangeSupported;\n          }\n        }, {\n          key: 'isStreamingSupported',\n          get: function get() {\n            return this._isStreamingSupported;\n          }\n        }]);\n        return PDFFetchStreamReader;\n      }();\n      var PDFFetchStreamRangeReader = function () {\n        function PDFFetchStreamRangeReader(stream, begin, end) {\n          var _this3 = this;\n          _classCallCheck(this, PDFFetchStreamRangeReader);\n          this._stream = stream;\n          this._reader = null;\n          this._loaded = 0;\n          var source = stream.source;\n          this._withCredentials = source.withCredentials;\n          this._readCapability = (0, _util.createPromiseCapability)();\n          this._isStreamingSupported = !source.disableStream;\n          this._headers = new Headers();\n          for (var property in this._stream.httpHeaders) {\n            var value = this._stream.httpHeaders[property];\n            if (typeof value === 'undefined') {\n              continue;\n            }\n            this._headers.append(property, value);\n          }\n          var rangeStr = begin + '-' + (end - 1);\n          this._headers.append('Range', 'bytes=' + rangeStr);\n          var url = source.url;\n          fetch(url, createFetchOptions(this._headers, this._withCredentials)).then(function (response) {\n            if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n              throw (0, _network_utils.createResponseStatusError)(response.status, url);\n            }\n            _this3._readCapability.resolve();\n            _this3._reader = response.body.getReader();\n          });\n          this.onProgress = null;\n        }\n        _createClass(PDFFetchStreamRangeReader, [{\n          key: 'read',\n          value: function read() {\n            var _this4 = this;\n            return this._readCapability.promise.then(function () {\n              return _this4._reader.read().then(function (_ref2) {\n                var value = _ref2.value,\n                  done = _ref2.done;\n                if (done) {\n                  return Promise.resolve({\n                    value: value,\n                    done: done\n                  });\n                }\n                _this4._loaded += value.byteLength;\n                if (_this4.onProgress) {\n                  _this4.onProgress({\n                    loaded: _this4._loaded\n                  });\n                }\n                var buffer = new Uint8Array(value).buffer;\n                return Promise.resolve({\n                  value: buffer,\n                  done: false\n                });\n              });\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel(reason) {\n            if (this._reader) {\n              this._reader.cancel(reason);\n            }\n          }\n        }, {\n          key: 'isStreamingSupported',\n          get: function get() {\n            return this._isStreamingSupported;\n          }\n        }]);\n        return PDFFetchStreamRangeReader;\n      }();\n      exports.PDFFetchStream = PDFFetchStream;\n\n      /***/\n    }, /* 120 */\n    /***/function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.NetworkManager = exports.PDFNetworkStream = undefined;\n      var _util = __w_pdfjs_require__(0);\n      var _network_utils = __w_pdfjs_require__(38);\n      var _global_scope = __w_pdfjs_require__(14);\n      var _global_scope2 = _interopRequireDefault(_global_scope);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n      ;\n      var OK_RESPONSE = 200;\n      var PARTIAL_CONTENT_RESPONSE = 206;\n      function NetworkManager(url, args) {\n        this.url = url;\n        args = args || {};\n        this.isHttp = /^https?:/i.test(url);\n        this.httpHeaders = this.isHttp && args.httpHeaders || {};\n        this.withCredentials = args.withCredentials || false;\n        this.getXhr = args.getXhr || function NetworkManager_getXhr() {\n          return new XMLHttpRequest();\n        };\n        this.currXhrId = 0;\n        this.pendingRequests = Object.create(null);\n        this.loadedRequests = Object.create(null);\n      }\n      function getArrayBuffer(xhr) {\n        var data = xhr.response;\n        if (typeof data !== 'string') {\n          return data;\n        }\n        var array = (0, _util.stringToBytes)(data);\n        return array.buffer;\n      }\n      var supportsMozChunked = function supportsMozChunkedClosure() {\n        try {\n          var x = new XMLHttpRequest();\n          x.open('GET', _global_scope2.default.location.href);\n          x.responseType = 'moz-chunked-arraybuffer';\n          return x.responseType === 'moz-chunked-arraybuffer';\n        } catch (e) {\n          return false;\n        }\n      }();\n      NetworkManager.prototype = {\n        requestRange: function NetworkManager_requestRange(begin, end, listeners) {\n          var args = {\n            begin: begin,\n            end: end\n          };\n          for (var prop in listeners) {\n            args[prop] = listeners[prop];\n          }\n          return this.request(args);\n        },\n        requestFull: function NetworkManager_requestFull(listeners) {\n          return this.request(listeners);\n        },\n        request: function NetworkManager_request(args) {\n          var xhr = this.getXhr();\n          var xhrId = this.currXhrId++;\n          var pendingRequest = this.pendingRequests[xhrId] = {\n            xhr: xhr\n          };\n          xhr.open('GET', this.url);\n          xhr.withCredentials = this.withCredentials;\n          for (var property in this.httpHeaders) {\n            var value = this.httpHeaders[property];\n            if (typeof value === 'undefined') {\n              continue;\n            }\n            xhr.setRequestHeader(property, value);\n          }\n          if (this.isHttp && 'begin' in args && 'end' in args) {\n            var rangeStr = args.begin + '-' + (args.end - 1);\n            xhr.setRequestHeader('Range', 'bytes=' + rangeStr);\n            pendingRequest.expectedStatus = 206;\n          } else {\n            pendingRequest.expectedStatus = 200;\n          }\n          var useMozChunkedLoading = supportsMozChunked && !!args.onProgressiveData;\n          if (useMozChunkedLoading) {\n            xhr.responseType = 'moz-chunked-arraybuffer';\n            pendingRequest.onProgressiveData = args.onProgressiveData;\n            pendingRequest.mozChunked = true;\n          } else {\n            xhr.responseType = 'arraybuffer';\n          }\n          if (args.onError) {\n            xhr.onerror = function (evt) {\n              args.onError(xhr.status);\n            };\n          }\n          xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n          xhr.onprogress = this.onProgress.bind(this, xhrId);\n          pendingRequest.onHeadersReceived = args.onHeadersReceived;\n          pendingRequest.onDone = args.onDone;\n          pendingRequest.onError = args.onError;\n          pendingRequest.onProgress = args.onProgress;\n          xhr.send(null);\n          return xhrId;\n        },\n        onProgress: function NetworkManager_onProgress(xhrId, evt) {\n          var pendingRequest = this.pendingRequests[xhrId];\n          if (!pendingRequest) {\n            return;\n          }\n          if (pendingRequest.mozChunked) {\n            var chunk = getArrayBuffer(pendingRequest.xhr);\n            pendingRequest.onProgressiveData(chunk);\n          }\n          var onProgress = pendingRequest.onProgress;\n          if (onProgress) {\n            onProgress(evt);\n          }\n        },\n        onStateChange: function NetworkManager_onStateChange(xhrId, evt) {\n          var pendingRequest = this.pendingRequests[xhrId];\n          if (!pendingRequest) {\n            return;\n          }\n          var xhr = pendingRequest.xhr;\n          if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n            pendingRequest.onHeadersReceived();\n            delete pendingRequest.onHeadersReceived;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          if (!(xhrId in this.pendingRequests)) {\n            return;\n          }\n          delete this.pendingRequests[xhrId];\n          if (xhr.status === 0 && this.isHttp) {\n            if (pendingRequest.onError) {\n              pendingRequest.onError(xhr.status);\n            }\n            return;\n          }\n          var xhrStatus = xhr.status || OK_RESPONSE;\n          var ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n          if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n            if (pendingRequest.onError) {\n              pendingRequest.onError(xhr.status);\n            }\n            return;\n          }\n          this.loadedRequests[xhrId] = true;\n          var chunk = getArrayBuffer(xhr);\n          if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n            var rangeHeader = xhr.getResponseHeader('Content-Range');\n            var matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n            var begin = parseInt(matches[1], 10);\n            pendingRequest.onDone({\n              begin: begin,\n              chunk: chunk\n            });\n          } else if (pendingRequest.onProgressiveData) {\n            pendingRequest.onDone(null);\n          } else if (chunk) {\n            pendingRequest.onDone({\n              begin: 0,\n              chunk: chunk\n            });\n          } else if (pendingRequest.onError) {\n            pendingRequest.onError(xhr.status);\n          }\n        },\n        hasPendingRequests: function NetworkManager_hasPendingRequests() {\n          for (var xhrId in this.pendingRequests) {\n            return true;\n          }\n          return false;\n        },\n        getRequestXhr: function NetworkManager_getXhr(xhrId) {\n          return this.pendingRequests[xhrId].xhr;\n        },\n        isStreamingRequest: function NetworkManager_isStreamingRequest(xhrId) {\n          return !!this.pendingRequests[xhrId].onProgressiveData;\n        },\n        isPendingRequest: function NetworkManager_isPendingRequest(xhrId) {\n          return xhrId in this.pendingRequests;\n        },\n        isLoadedRequest: function NetworkManager_isLoadedRequest(xhrId) {\n          return xhrId in this.loadedRequests;\n        },\n        abortAllRequests: function NetworkManager_abortAllRequests() {\n          for (var xhrId in this.pendingRequests) {\n            this.abortRequest(xhrId | 0);\n          }\n        },\n        abortRequest: function NetworkManager_abortRequest(xhrId) {\n          var xhr = this.pendingRequests[xhrId].xhr;\n          delete this.pendingRequests[xhrId];\n          xhr.abort();\n        }\n      };\n      function PDFNetworkStream(source) {\n        this._source = source;\n        this._manager = new NetworkManager(source.url, {\n          httpHeaders: source.httpHeaders,\n          withCredentials: source.withCredentials\n        });\n        this._rangeChunkSize = source.rangeChunkSize;\n        this._fullRequestReader = null;\n        this._rangeRequestReaders = [];\n      }\n      PDFNetworkStream.prototype = {\n        _onRangeRequestReaderClosed: function PDFNetworkStream_onRangeRequestReaderClosed(reader) {\n          var i = this._rangeRequestReaders.indexOf(reader);\n          if (i >= 0) {\n            this._rangeRequestReaders.splice(i, 1);\n          }\n        },\n        getFullReader: function PDFNetworkStream_getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader);\n          this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n          return this._fullRequestReader;\n        },\n        getRangeReader: function PDFNetworkStream_getRangeReader(begin, end) {\n          var reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n          reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n          this._rangeRequestReaders.push(reader);\n          return reader;\n        },\n        cancelAllRequests: function PDFNetworkStream_cancelAllRequests(reason) {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.cancel(reason);\n          }\n          var readers = this._rangeRequestReaders.slice(0);\n          readers.forEach(function (reader) {\n            reader.cancel(reason);\n          });\n        }\n      };\n      function PDFNetworkStreamFullRequestReader(manager, source) {\n        this._manager = manager;\n        var args = {\n          onHeadersReceived: this._onHeadersReceived.bind(this),\n          onProgressiveData: source.disableStream ? null : this._onProgressiveData.bind(this),\n          onDone: this._onDone.bind(this),\n          onError: this._onError.bind(this),\n          onProgress: this._onProgress.bind(this)\n        };\n        this._url = source.url;\n        this._fullRequestId = manager.requestFull(args);\n        this._headersReceivedCapability = (0, _util.createPromiseCapability)();\n        this._disableRange = source.disableRange || false;\n        this._contentLength = source.length;\n        this._rangeChunkSize = source.rangeChunkSize;\n        if (!this._rangeChunkSize && !this._disableRange) {\n          this._disableRange = true;\n        }\n        this._isStreamingSupported = false;\n        this._isRangeSupported = false;\n        this._cachedChunks = [];\n        this._requests = [];\n        this._done = false;\n        this._storedError = undefined;\n        this.onProgress = null;\n      }\n      PDFNetworkStreamFullRequestReader.prototype = {\n        _onHeadersReceived: function PDFNetworkStreamFullRequestReader_onHeadersReceived() {\n          var fullRequestXhrId = this._fullRequestId;\n          var fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n          var _validateRangeRequest = (0, _network_utils.validateRangeRequestCapabilities)({\n              getResponseHeader: function getResponseHeader(name) {\n                return fullRequestXhr.getResponseHeader(name);\n              },\n              isHttp: this._manager.isHttp,\n              rangeChunkSize: this._rangeChunkSize,\n              disableRange: this._disableRange\n            }),\n            allowRangeRequests = _validateRangeRequest.allowRangeRequests,\n            suggestedLength = _validateRangeRequest.suggestedLength;\n          this._contentLength = suggestedLength || this._contentLength;\n          if (allowRangeRequests) {\n            this._isRangeSupported = true;\n          }\n          var networkManager = this._manager;\n          if (networkManager.isStreamingRequest(fullRequestXhrId)) {\n            this._isStreamingSupported = true;\n          } else if (this._isRangeSupported) {\n            networkManager.abortRequest(fullRequestXhrId);\n          }\n          this._headersReceivedCapability.resolve();\n        },\n        _onProgressiveData: function PDFNetworkStreamFullRequestReader_onProgressiveData(chunk) {\n          if (this._requests.length > 0) {\n            var requestCapability = this._requests.shift();\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._cachedChunks.push(chunk);\n          }\n        },\n        _onDone: function PDFNetworkStreamFullRequestReader_onDone(args) {\n          if (args) {\n            this._onProgressiveData(args.chunk);\n          }\n          this._done = true;\n          if (this._cachedChunks.length > 0) {\n            return;\n          }\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n          this._requests = [];\n        },\n        _onError: function PDFNetworkStreamFullRequestReader_onError(status) {\n          var url = this._url;\n          var exception = (0, _network_utils.createResponseStatusError)(status, url);\n          this._storedError = exception;\n          this._headersReceivedCapability.reject(exception);\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.reject(exception);\n          });\n          this._requests = [];\n          this._cachedChunks = [];\n        },\n        _onProgress: function PDFNetworkStreamFullRequestReader_onProgress(data) {\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: data.loaded,\n              total: data.lengthComputable ? data.total : this._contentLength\n            });\n          }\n        },\n        get isRangeSupported() {\n          return this._isRangeSupported;\n        },\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        },\n        get contentLength() {\n          return this._contentLength;\n        },\n        get headersReady() {\n          return this._headersReceivedCapability.promise;\n        },\n        read: function PDFNetworkStreamFullRequestReader_read() {\n          if (this._storedError) {\n            return Promise.reject(this._storedError);\n          }\n          if (this._cachedChunks.length > 0) {\n            var chunk = this._cachedChunks.shift();\n            return Promise.resolve({\n              value: chunk,\n              done: false\n            });\n          }\n          if (this._done) {\n            return Promise.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          var requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        },\n        cancel: function PDFNetworkStreamFullRequestReader_cancel(reason) {\n          this._done = true;\n          this._headersReceivedCapability.reject(reason);\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n          this._requests = [];\n          if (this._manager.isPendingRequest(this._fullRequestId)) {\n            this._manager.abortRequest(this._fullRequestId);\n          }\n          this._fullRequestReader = null;\n        }\n      };\n      function PDFNetworkStreamRangeRequestReader(manager, begin, end) {\n        this._manager = manager;\n        var args = {\n          onDone: this._onDone.bind(this),\n          onProgress: this._onProgress.bind(this)\n        };\n        this._requestId = manager.requestRange(begin, end, args);\n        this._requests = [];\n        this._queuedChunk = null;\n        this._done = false;\n        this.onProgress = null;\n        this.onClosed = null;\n      }\n      PDFNetworkStreamRangeRequestReader.prototype = {\n        _close: function PDFNetworkStreamRangeRequestReader_close() {\n          if (this.onClosed) {\n            this.onClosed(this);\n          }\n        },\n        _onDone: function PDFNetworkStreamRangeRequestReader_onDone(data) {\n          var chunk = data.chunk;\n          if (this._requests.length > 0) {\n            var requestCapability = this._requests.shift();\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._queuedChunk = chunk;\n          }\n          this._done = true;\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n          this._requests = [];\n          this._close();\n        },\n        _onProgress: function PDFNetworkStreamRangeRequestReader_onProgress(evt) {\n          if (!this.isStreamingSupported && this.onProgress) {\n            this.onProgress({\n              loaded: evt.loaded\n            });\n          }\n        },\n        get isStreamingSupported() {\n          return false;\n        },\n        read: function PDFNetworkStreamRangeRequestReader_read() {\n          if (this._queuedChunk !== null) {\n            var chunk = this._queuedChunk;\n            this._queuedChunk = null;\n            return Promise.resolve({\n              value: chunk,\n              done: false\n            });\n          }\n          if (this._done) {\n            return Promise.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n          var requestCapability = (0, _util.createPromiseCapability)();\n          this._requests.push(requestCapability);\n          return requestCapability.promise;\n        },\n        cancel: function PDFNetworkStreamRangeRequestReader_cancel(reason) {\n          this._done = true;\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n          this._requests = [];\n          if (this._manager.isPendingRequest(this._requestId)) {\n            this._manager.abortRequest(this._requestId);\n          }\n          this._close();\n        }\n      };\n      exports.PDFNetworkStream = PDFNetworkStream;\n      exports.NetworkManager = NetworkManager;\n\n      /***/\n    }\n    /******/])\n  );\n});","map":{"version":3,"mappings":"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","names":["module","define","exports","root","modules","__w_pdfjs_require__","FONT_IDENTITY_MATRIX","NativeImageDecoding","NONE","DECODE","DISPLAY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationFlag","HIDDEN","PRINT","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RL","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VERBOSITY_LEVELS","errors","warnings","infos","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","verbosity","setVerbosityLevel","level","getVerbosityLevel","info","msg","console","log","warn","deprecated","details","unreachable","Error","assert","cond","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","isSameOrigin","baseUrl","otherUrl","base","URL","origin","e","other","isValidProtocol","url","protocol","createValidAbsoluteUrl","absoluteUrl","ex","shadow","obj","prop","value","Object","defineProperty","enumerable","configurable","writable","getLookupTableFactory","initializer","lookup","create","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PasswordException","PasswordExceptionClosure","code","name","message","prototype","constructor","UnknownErrorException","UnknownErrorExceptionClosure","InvalidPDFException","InvalidPDFExceptionClosure","MissingPDFException","MissingPDFExceptionClosure","UnexpectedResponseException","UnexpectedResponseExceptionClosure","status","NotImplementedException","NotImplementedExceptionClosure","MissingDataException","MissingDataExceptionClosure","begin","end","XRefParseException","XRefParseExceptionClosure","FormatError","FormatErrorClosure","AbortException","AbortExceptionClosure","NullCharactersRegExp","removeNullCharacters","str","replace","bytesToString","bytes","length","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","Uint8Array","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","ii","item","itemLength","pos","data","set","string32","log2","x","n","readInt8","start","readUint16","offset","readUint32","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","Function","IDENTITY_MATRIX","Util","UtilClosure","rgbBuf","makeCssRgb","Util_makeCssRgb","r","g","b","Util_transform","m1","m2","applyTransform","Util_applyTransform","p","m","xt","yt","applyInverseTransform","Util_applyInverseTransform","d","getAxialAlignedBoundingBox","Util_getAxialAlignedBoundingBox","p1","p2","slice","p3","p4","max","inverseTransform","Util_inverseTransform","apply3dTransform","Util_apply3dTransform","v","singularValueDecompose2dScale","Util_singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","sx","sy","normalizeRect","Util_normalizeRect","rect","intersect","Util_intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","ROMAN_NUMBER_MAP","toRoman","Util_toRoman","number","lowerCase","Number","isInteger","romanBuf","romanStr","toLowerCase","appendToArray","Util_appendToArray","arr1","arr2","Array","prependToArray","Util_prependToArray","unshift","extendObj","obj1","obj2","key","getInheritableProperty","Util_getInheritableProperty","dict","getArray","has","get","inherit","Util_inherit","sub","loadScript","Util_loadScript","src","callback","script","document","createElement","loaded","setAttribute","onload","getElementsByTagName","appendChild","PageViewport","PageViewportClosure","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","abs","fontScale","clone","PageViewPort_clone","args","convertToViewportPoint","PageViewport_convertToViewportPoint","y","convertToViewportRectangle","PageViewport_convertToViewportRectangle","tl","br","convertToPdfPoint","PageViewport_convertToPdfPoint","PDFStringTranslateTable","stringToPDFString","charAt","stringToUTF8String","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isEmptyObj","isBool","isNum","isString","isArrayBuffer","isSpace","ch","isNodeJS","process","createPromiseCapability","capability","promise","Promise","resolve","reject","StatTimer","StatTimerClosure","rpad","pad","started","times","enabled","time","StatTimer_time","Date","now","timeEnd","StatTimer_timeEnd","toString","StatTimer_toString","out","longest","span","duration","createBlob","contentType","Blob","type","createObjectURL","createObjectURLClosure","digits","forceDataSchema","blob","b1","b2","b3","d1","d2","d3","d4","resolveCall","fn","thisArg","wrapReason","reason","makeReasonSerializable","resolveOrReject","success","finalize","catch","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","postMessageTransfers","streamSinks","streamControllers","callbacksCapabilities","ah","actionHandler","_onComObjOnMessage","event","_this","stream","_processStreamMessage","isReply","error","action","_sourceName","_targetName","then","call","postMessage","_createStreamSink","addEventListener","on","actionName","handler","scope","send","transfers","sendWithPromise","sendWithStream","queueingStrategy","startCapability","_this2","controller","startCall","isClosed","desiredSize","pull","pullCapability","pullCall","cancel","cancelCapability","cancelCall","self","sendStreamRequest","_this3","streamSink","enqueue","size","isCancelled","lastDesiredSize","sinkCapability","ready","close","onPull","onCancel","sendStreamResponse","_this4","deleteStreamController","all","map","destroy","removeEventListener","loadJpegStream","id","imageUrl","objs","img","Image","loadJpegStream_onloadClosure","onerror","loadJpegStream_onerrorClosure","ReadableStream","it","store","uid","_Symbol","Symbol","USE_SYMBOL","$exports","global","window","__g","core","hide","redefine","ctx","PROTOTYPE","$export","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","own","exp","U","W","R","version","__e","isObject","TypeError","hasOwnProperty","SRC","TO_STRING","$toString","TPL","split","inspectSource","O","val","safe","isFunction","aFunction","that","arguments","DEFAULT_LINK_REL","SVG_NS","DOMCanvasFactory","canvas","context","getContext","canvasAndContext","DOMCMapReaderFactory","isCompressed","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","response","responseText","cMapData","compressionType","_util","DOMSVGFactory","svg","createElementNS","SimpleDOMNode","nodeName","nodeValue","_classCallCheck","childNodes","index","parentNode","indexOf","child","textContent","SimpleXMLParser","nodes","trim","text","node","_decodeXML","regex","lastLength","attrs","children","pop","forEach","childNode","documentElement","entityName","parseInt","substring","CustomStyle","CustomStyleClosure","prefixes","_cache","getProp","propName","element","style","prefixed","uPropName","toUpperCase","l","setProp","RenderingCancelledException","LinkTarget","SELF","BLANK","PARENT","TOP","LinkTargetStringMap","addLinkAttributes","link","params","href","title","getDefaultSetting","rel","getFilenameFromUrl","anchor","query","lastIndexOf","globalSettings","_global_scope2","PDFJS","pdfBug","disableAutoFetch","disableStream","disableRange","disableFontFace","disableCreateObjectURL","disableWebGL","cMapUrl","cMapPacked","workerPort","workerSrc","disableWorker","maxImageSize","imageResourcesPath","externalLinkTarget","externalLinkRel","enableStats","isExternalLinkTargetSet","dP","createDesc","object","f","exec","anObject","IE8_DOM_DEFINE","toPrimitive","Attributes","IObject","defined","px","random","concat","$keys","enumBugKeys","keys","def","TAG","tag","stat","isArrayIter","toLength","getIterFn","BREAK","RETURN","_exports","iterable","entries","ITERATOR","iterFn","step","iterator","next","done","is","bitmap","cof","propertyIsEnumerable","toInteger","ceil","floor","isNaN","shared","ARG","tryGet","T","callee","Constructor","forbiddenField","PromiseCapability","C","$$resolve","$$reject","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","validateRangeRequestCapabilities","getResponseHeader","isHttp","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","contentEncoding","createResponseStatusError","test","validateResponseStatus","valueOf","toIObject","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","SHARED","UNSCOPABLES","ArrayProto","classof","LIBRARY","Iterators","$iterCreate","setToStringTag","getPrototypeOf","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","values","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","IteratorPrototype","$iterators","getKeys","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","SPECIES","D","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","nextTick","port2","port1","onmessage","importScripts","removeChild","setTimeout","clear","newPromiseCapability","promiseCapability","SAFE_CLOSING","riter","from","skipClosing","iter","toObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","res","_t","DEFAULT_RANGE_CHUNK_SIZE","isWorkerDisabled","isPostMessageTransfersDisabled","pdfjsFilePath","currentScript","fakeWorkerFilesLoader","useRequireEnsure","require","ensure","requirejs","toUrl","dynamicLoaderSupported","load","worker","WorkerMessageHandler","PDFNetworkStream","setPDFNetworkStreamClass","cls","getDocument","task","PDFDocumentLoadingTask","PDFDataRangeTransport","range","rangeTransport","CMapReaderFactory","location","pdfBytes","ignoreErrors","stopAtErrors","nativeImageDecoderValues","nativeImageDecoderSupport","includes","PDFWorker","fromPort","_worker","docId","destroyed","workerId","networkStream","messageHandler","transport","WorkerTransport","_transport","_capability","_fetchDocument","pdfDataRangeTransport","apiVersion","initialData","password","docBaseUrl","PDFDocumentLoadingTaskClosure","nextDocumentId","onPassword","onProgress","onUnsupportedFeature","transportDestroyed","PDFDocumentLoadingTask_then","onFulfilled","onRejected","pdfDataRangeTransportClosure","_rangeListeners","_progressListeners","_progressiveReadListeners","_readyCapability","addRangeListener","PDFDataRangeTransport_addRangeListener","addProgressListener","PDFDataRangeTransport_addProgressListener","addProgressiveReadListener","PDFDataRangeTransport_addProgressiveReadListener","onDataRange","PDFDataRangeTransport_onDataRange","listeners","onDataProgress","PDFDataRangeTransport_onDataProgress","onDataProgressiveRead","transportReady","PDFDataRangeTransport_transportReady","requestDataRange","PDFDataRangeTransport_requestDataRange","abort","PDFDataRangeTransport_abort","PDFDocumentProxy","PDFDocumentProxyClosure","pdfInfo","loadingTask","numPages","fingerprint","getPage","pageNumber","getPageIndex","PDFDocumentProxy_getPageIndex","ref","getDestinations","PDFDocumentProxy_getDestinations","getDestination","PDFDocumentProxy_getDestination","getPageLabels","PDFDocumentProxy_getPageLabels","getPageMode","getAttachments","PDFDocumentProxy_getAttachments","getJavaScript","getOutline","PDFDocumentProxy_getOutline","getMetadata","PDFDocumentProxy_getMetadata","getData","PDFDocumentProxy_getData","getDownloadInfo","PDFDocumentProxy_getDownloadInfo","downloadInfoCapability","getStats","PDFDocumentProxy_getStats","cleanup","PDFDocumentProxy_cleanup","startCleanup","PDFDocumentProxy_destroy","PDFPageProxy","PDFPageProxyClosure","pageIndex","pageInfo","stats","commonObjs","PDFObjects","cleanupAfterRender","pendingCleanup","intentStates","rotate","userUnit","view","getViewport","PDFPageProxy_getViewport","getAnnotations","PDFPageProxy_getAnnotations","intent","annotationsPromise","annotationsIntent","render","PDFPageProxy_render","renderingIntent","canvasFactory","webGLContext","enable","intentState","displayReadyCapability","receivingOperatorList","operatorList","fnArray","argsArray","lastChunk","renderInteractiveForms","complete","renderTasks","internalRenderTask","splice","_tryCleanup","InternalRenderTask","useRequestAnimationFrame","renderTask","initializeGraphics","transparency","operatorListChanged","getOperatorList","PDFPageProxy_getOperatorList","opListReadCapability","opListTask","streamTextContent","TEXT_CONTENT_CHUNK_SIZE","normalizeWhitespace","combineTextItems","disableCombineTextItems","highWaterMark","items","getTextContent","PDFPageProxy_getTextContent","readableStream","pump","reader","read","styles","getReader","_destroy","PDFPageProxy_destroy","pageCache","waitOn","renderCompleted","PDFPageProxy_cleanup","PDFPageProxy_tryCleanup","some","_startRenderPage","PDFPageProxy_startRenderPage","_renderPageChunk","PDFPageProxy_renderPageChunk","operatorListChunk","LoopbackPort","_listeners","_defer","_deferred","cloneValue","cloned","transferable","byteOffset","isArray","desc","getOwnPropertyDescriptor","WeakMap","_this5","PDFWorkerClosure","nextFakeWorkerId","getWorkerSrc","fakeWorkerFilesLoadedCapability","setupFakeWorkerGlobal","loader","pdfjsDistBuildPdfWorker","createCDNWrapper","wrapper","pdfWorkerPorts","_port","_webWorker","_messageHandler","_initializeFromPort","_initialize","PDFWorker_initializeFromPort","PDFWorker_initialize","Worker","terminateEarly","onWorkerError","terminate","_this6","_setupFakeWorker","supportTypedArray","supportTransfers","sendTest","testObj","PDFWorker_setupFakeWorker","_this7","isTypedArraysPresent","Float32Array","workerHandler","setup","PDFWorker_destroy","delete","WorkerTransportClosure","fontLoader","destroyCapability","_passwordCapability","_networkStream","_fullReader","_lastProgress","pagePromises","setupMessageHandler","WorkerTransport_destroy","page","terminated","_this8","cancelAllRequests","WorkerTransport_setupMessageHandler","sink","getFullReader","_this9","evt","total","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","_this10","_loadingTask","contentLength","_rangeReader","getRangeReader","transportDoc","pdfDocument","transportPasswordRequest","exception","updatePassword","_this11","transportPasswordException","transportInvalidPDF","transportMissingPDF","transportUnexpectedResponse","transportUnknownError","transportPage","transportRender","transportObj","hasData","exportedData","exportedError","fontRegistry","FontInspector","registerFont","fontAdded","fontReady","_this12","bind","pageProxy","imageData","MAX_IMAGE_SIZE_TO_STORE","transportDocProgress","transportError","pageNum","featureId","components","rgbaLength","buf","tmpCanvas","tmpCtx","drawImage","getImageData","j","fetch","WorkerTransport_getData","_this13","WorkerTransport_getPageIndexByRef","WorkerTransport_getAnnotations","WorkerTransport_getDestinations","WorkerTransport_getDestination","WorkerTransport_getPageLabels","WorkerTransport_getAttachments","WorkerTransport_getJavaScript","WorkerTransport_getOutline","WorkerTransport_getMetadata","transportMetadata","results","metadata","WorkerTransport_getStats","WorkerTransport_startCleanup","_this14","PDFObjectsClosure","ensureObj","PDFObjects_ensureObj","objId","resolved","PDFObjects_get","PDFObjects_resolve","isResolved","PDFObjects_isResolved","PDFObjects_hasData","PDFObjects_getData","PDFObjects_clear","RenderTask","RenderTaskClosure","_internalRenderTask","onContinue","RenderTask_cancel","RenderTask_then","InternalRenderTaskClosure","canvasInRendering","operatorListIdx","running","graphicsReadyCallback","graphicsReady","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","canvasContext","InternalRenderTask_initializeGraphics","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","imageLayer","beginDrawing","viewport","background","InternalRenderTask_cancel","InternalRenderTask_operatorListChanged","updateOperatorList","InternalRenderTask__continue","InternalRenderTask__scheduleNext","requestAnimationFrame","InternalRenderTask__next","executeOperatorList","endDrawing","build","Metadata","_repair","parser","parseFromString","_metadata","_parse","codes","chars","domDocument","rdf","firstChild","nextSibling","hasChildNodes","jj","entry","AnnotationElementFactory","parameters","subtype","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","layer","linkService","downloadManager","svgFactory","container","_createContainer","_dom_utils","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderBottomStyle","color","borderColor","left","top","trigger","popupElement","PopupElement","contents","hideWrapper","popup","dest","className","newWindow","_bindNamedAction","_bindLink","destination","getDestinationHash","onclick","navigateTo","getAnchorUrl","executeNamedAction","hasPopup","image","alt","dataset","l10nId","l10nArgs","JSON","stringify","_createPopup","hasAppearance","fieldValue","TEXT_ALIGNMENT","multiLine","disabled","readOnly","maxLen","maxLength","comb","fieldWidth","combWidth","classList","add","letterSpacing","verticalAlign","display","fontRefName","_setTextStyle","textAlignment","textAlign","fontSize","direction","fontDirection","fontWeight","black","bold","fontStyle","italic","fontFamily","loadedName","fallbackName","fieldName","buttonValue","selectElement","combo","options","multiSelect","multiple","option","optionElement","displayValue","exportValue","IGNORE_TYPES","parentType","selector","parentId","parentElement","querySelector","parentLeft","parseFloat","parentWidth","pinned","BACKGROUND_ENLIGHT","hideElement","backgroundColor","_formatContents","_toggle","_show","_hide","lines","line","createTextNode","pin","hasAttribute","removeAttribute","zIndex","unpin","lineCoordinates","append","square","circle","containerClassName","svgElementName","vertices","points","polyline","_this15","file","_this21","filename","content","onFileAttachmentAnnotation","_download","downloadData","AnnotationLayer","annotations","div","renderTextLayer","renderTextLayerClosure","MAX_TEXT_DIVS_TO_RENDER","NonWhitespaceRegexp","isAllWhitespace","styleBuf","appendText","geom","textDiv","textDivProperties","angle","canvasWidth","isWhitespace","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","_textDivs","_textDivProperties","tx","_viewport","atan2","fontName","vertical","PI","fontHeight","fontAscent","ascent","descent","sin","cos","_textContentStream","_layoutText","_enhanceTextSelection","angleCos","angleSin","divWidth","divHeight","_bounds","right","bottom","_canceled","textDivs","textDivsLength","_renderingDone","expand","bounds","expanded","expandBounds","divProperties","s","ts","Float64Array","t","findPositiveMin","count","boxScale","boxes","box","x1","y1","x2","y2","x1New","x2New","expandBoundsLTR","fakeBoundary","Infinity","horizon","boundary","horizonPart","affectedBoundary","q","k","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","used","TextLayerRenderTask","textContentStream","textContentItemsStr","enhanceTextSelection","_textContent","_container","_textContentItemsStr","_reader","_layoutTextLastFontSize","_layoutTextLastFontFamily","_layoutTextCtx","_renderTimer","TextLayer_cancel","clearTimeout","_processItems","styleCache","len","textLayerFrag","_lastFontSize","_lastFontFamily","measureText","_render","TextLayer_render","timeout","mozOpaque","alpha","textItems","textStyles","expandTextDivs","TextLayer_expandTextDivs","expandDivs","padding","renderParameters","SVGGraphics","SVG_DEFAULTS","fillColor","convertImgDataToPng","convertImgDataToPngClosure","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","Int32Array","h","crc32","crc","writePngChunk","body","adler32","deflateSync","literals","deflateSyncUncompressed","input","versions","Buffer","output","maxBlockLength","deflateBlocks","idat","pi","adler","encode","imgData","bitDepth","colorType","lineSize","offsetLiterals","offsetBytes","ihdr","pngLength","SVGExtraState","SVGExtraStateClosure","fontSizeScale","textMatrix","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRise","strokeColor","fillAlpha","strokeAlpha","lineWidth","lineJoin","lineCap","miterLimit","dashArray","dashPhase","dependencies","activeClipUrl","clipGroup","maskId","SVGExtraState_clone","setCurrentPoint","SVGExtraState_setCurrentPoint","SVGGraphicsClosure","opListToTree","opList","opTree","tmp","opListLen","pf","toFixed","substr","pm","acos","current","transformMatrix","transformStack","extraStack","pendingClip","pendingEOFill","embedFonts","embeddedFonts","cssStyle","XML_NS","XLINK_NS","LINE_CAP_STYLES","LINE_JOIN_STYLES","clipCount","maskCount","SVGGraphics_save","old","SVGGraphics_restore","tgrp","group","SVGGraphics_group","executeOpTree","loadDependencies","SVGGraphics_loadDependencies","fnArrayLen","deps","nn","common","SVGGraphics_transform","getSVG","SVGGraphics_getSVG","svgElement","convertOpList","SVGGraphics_convertOpList","REVOPS","op","fnId","SVGGraphics_executeOpTree","opTreeLen","SVGGraphics_setWordSpacing","SVGGraphics_setCharSpacing","SVGGraphics_nextLine","SVGGraphics_setTextMatrix","lineMatrix","xcoords","tspan","setAttributeNS","txtElement","SVGGraphics_beginText","txtgrp","SVGGraphics_moveText","SVGGraphics_showText","glyphs","glyphsLength","widthAdvanceScale","glyph","character","fontChar","spacing","charWidth","isInFont","missingFile","_ensureTransformGroup","SVGGraphics_setLeadingMoveText","addFontStyle","SVGGraphics_addFontStyle","fontObj","defs","mimetype","SVGGraphics_setFont","SVGGraphics_endText","SVGGraphics_setLineWidth","SVGGraphics_setLineCap","SVGGraphics_setLineJoin","SVGGraphics_setMiterLimit","limit","setStrokeAlpha","SVGGraphics_setStrokeAlpha","SVGGraphics_setStrokeRGBColor","setFillAlpha","SVGGraphics_setFillAlpha","SVGGraphics_setFillRGBColor","SVGGraphics_setDash","SVGGraphics_constructPath","ops","path","opLength","xw","yh","SVGGraphics_endPath","clipId","clipPath","clipElement","cloneNode","prev","SVGGraphics_clip","SVGGraphics_closePath","getAttributeNS","SVGGraphics_setLeading","SVGGraphics_setTextRise","SVGGraphics_setHScale","SVGGraphics_setGState","states","state","SVGGraphics_fill","SVGGraphics_stroke","SVGGraphics_eoFill","SVGGraphics_fillStroke","SVGGraphics_eoFillStroke","SVGGraphics_closeStroke","SVGGraphics_closeFillStroke","SVGGraphics_paintSolidColorImageMask","SVGGraphics_paintJpegXObject","imgObj","imgEl","SVGGraphics_paintImageXObject","SVGGraphics_paintInlineImageXObject","mask","imgSrc","cliprect","SVGGraphics_paintImageMaskXObject","SVGGraphics_paintFormXObjectBegin","matrix","bbox","SVGGraphics_paintFormXObjectEnd","definitions","rootGroup","_ensureClipGroup","SVGGraphics_ensureClipGroup","SVGGraphics_ensureTransformGroup","pdfjsVersion","pdfjsBuild","pdfjsSharedUtil","pdfjsDisplayGlobal","pdfjsDisplayAPI","pdfjsDisplayTextLayer","pdfjsDisplayAnnotationLayer","pdfjsDisplayDOMUtils","pdfjsDisplaySVG","PDFNodeStream","Response","PDFFetchStream","compatibilityChecked","globalScope","userAgent","navigator","isAndroid","isAndroidPre5","isChrome","isIOSChrome","isIE","isIOS","isSafari","hasDOM","normalizeURLObject","webkitURL","checkXMLHttpRequestResponseCompatibility","xhrPrototype","xhr","xmlHttpRequestOverrideMimeType","mimeType","xmlHttpRequestGetResponseType","_responseType","xmlHttpRequestSetResponseType","overrideMimeType","xmlHttpRequestResponseGet","checkDatasetProperty","HTMLElement","_dataset","attributes","attribute","checkOnBlobSupport","checkNavigatorLanguage","locale","userLanguage","checkRangeRequests","checkSetPresenceInImageData","CanvasPixelArray","polyfill","versionMatch","match","contextPrototype","CanvasRenderingContext2D","createImageData","checkCanvasSizeLimitation","maxCanvasPixels","checkFullscreenSupport","parent","disableFullscreen","checkCurrentScript","scripts","checkInputTypeNumberAssign","inputProto","typeProperty","checkDocumentReadyState","attachEvent","documentProto","readyStateProto","checkChildNodeRemove","Element","remove","checkObjectValues","checkArrayIncludes","checkNumberIsNaN","checkNumberIsInteger","checkPromise","checkWeakMap","checkURLConstructor","hasWorkingUrl","_typeof","u","pathname","relative","relativePathDotMapping","isRelativeScheme","scheme","invalid","_isInvalid","IDNAToASCII","percentEscape","unicode","percentEscapeQuery","EOF","ALPHA","ALPHANUMERIC","parse","stateOverride","err","cursor","seenAt","seenBracket","loop","_scheme","_isRelative","_query","_fragment","_schemeData","_host","_path","_username","_password","nextC","nextNextC","cp","tempC","temp","JURL","_url","authority","host","hostname","search","hash","_","OriginalURL","revokeObjectURL","$values","isEnum","isEntries","arrayIndexOf","IE_PROTO","names","$includes","isFinite","$at","iterated","_i","point","descriptor","dPs","Empty","_createDict","iframe","lt","gt","iframeDocument","contentWindow","write","Properties","defineProperties","ObjectProto","addToUnscopables","_k","Arguments","anInstance","forOf","speciesConstructor","microtask","newPromiseCapabilityModule","perform","promiseResolve","PROMISE","$Promise","isNode","empty","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","chain","_c","_v","ok","_s","reaction","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","_a","onrejectionhandled","$reject","_d","_w","$resolve","executor","remaining","$index","alreadyCalled","race","ret","getIteratorMethod","un","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","toggle","observe","characterData","DESCRIPTORS","onFinally","each","assign","weak","fails","validate","WEAK_MAP","uncaughtFrozenStore","ufstore","InternalMap","$WeakMap","freeze","getConstructor","method","_f","original","arg","gOPS","pIE","$assign","A","K","aLen","getSymbols","getOwnPropertySymbols","redefineAll","createArrayMethod","$has","arrayFind","arrayFindIndex","_l","UncaughtFrozenStore","findUncaughtFrozen","ADDER","$iterDetect","inheritIfRequired","IS_WEAK","fixMethod","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","setStrong","setPrototypeOf","check","buggy","__proto__","gOPD","COLLECTION","of","mapFn","mapping","cb","nextItem","isReadableStreamSupported","installedModules","moduleId","getter","o","__esModule","getDefault","getModuleExports","property","_typeof2","_require","IsPropertyKey","argument","typeIsObject","createDataProperty","createArrayFromList","elements","ArrayBufferCopy","destOffset","srcOffset","CreateIterResultObject","IsFiniteNonNegativeNumber","Call","V","InvokeOrNoop","PromiseInvokeOrNoop","returnValueE","PromiseInvokeOrPerformFallback","argsF","methodE","TransferArrayBuffer","ValidateAndNormalizeHighWaterMark","RangeError","ValidateAndNormalizeQueuingStrategy","rethrowAssertionErrorRejection","AssertionError","stack","_createClass","props","protoProps","staticProps","_require2","_require3","DequeueValue","EnqueueValueWithSize","PeekQueueValue","ResetQueue","WritableStream","underlyingSink","_ref","_ref$highWaterMark","_state","_storedError","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","WritableStreamDefaultController","__startSteps","IsWritableStream","streamBrandCheckException","IsWritableStreamLocked","WritableStreamAbort","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultControllerError","WritableStreamDefaultWriterCloseWithErrorPropagation","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamCloseQueuedOrInFlight","WritableStreamDefaultWriter","wasAlreadyErroring","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","WritableStreamAddWriteRequest","writeRequest","WritableStreamDealWithRejection","WritableStreamFinishErroring","writer","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","_started","__errorSteps","storedError","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","__abortSteps","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamFinishInFlightClose","defaultWriterClosedPromiseResolve","WritableStreamFinishInFlightCloseWithError","WritableStreamMarkCloseRequestInFlight","WritableStreamMarkFirstWriteRequestInFlight","shift","defaultWriterClosedPromiseReject","_closedPromise","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseReset","defaultWriterReadyPromiseResolve","_ownerWritableStream","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","_readyPromise","defaultWriterClosedPromiseInitializeAsResolved","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","releaseLock","WritableStreamDefaultWriterGetDesiredSize","closeRequest","WritableStreamDefaultControllerClose","WritableStreamDefaultWriterEnsureClosedPromiseRejected","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","WritableStreamDefaultControllerGetDesiredSize","releasedError","chunkSize","WritableStreamDefaultControllerGetChunkSize","WritableStreamDefaultControllerWrite","_controlledWritableStream","_underlyingSink","_queue","_queueTotalSize","normalizedStrategy","_strategySize","_strategyHWM","WritableStreamDefaultControllerGetBackpressure","IsWritableStreamDefaultController","startResult","WritableStreamDefaultControllerAdvanceQueueIfNeeded","strategySize","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","writeRecord","enqueueE","WritableStreamDefaultControllerProcessClose","WritableStreamDefaultControllerProcessWrite","sinkClosePromise","sinkWritePromise","_closedPromise_resolve","_closedPromise_reject","_readyPromise_resolve","_readyPromise_reject","pair","_require4","_require5","underlyingSource","_disturbed","_readableStreamController","typeString","ReadableByteStreamController","ReadableStreamDefaultController","IsReadableStream","IsReadableStreamLocked","ReadableStreamCancel","_ref2","mode","AcquireReadableStreamDefaultReader","AcquireReadableStreamBYOBReader","pipeThrough","_ref3","readable","pipeTo","ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue","_ref4","preventClose","preventAbort","preventCancel","Boolean","shuttingDown","currentWrite","pipeLoop","_ref5","isOrBecomesErrored","shutdownWithAction","shutdown","isOrBecomesClosed","destClosed","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","newError","isError","ReadableStreamReaderGenericRelease","tee","branches","ReadableStreamTee","IsReadableStreamDisturbed","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamBYOBReader","ReadableStreamDefaultReader","cloneForBranch2","teeState","closedOrErrored","canceled1","canceled2","reason1","reason2","create_ReadableStreamTeePullFunction","_teeState","_cloneForBranch2","cancel1","create_ReadableStreamTeeBranch1CancelFunction","_stream","cancel2","create_ReadableStreamTeeBranch2CancelFunction","underlyingSource1","branch1Stream","underlyingSource2","branch2Stream","_branch1","_branch2","branch1","branch2","value1","value2","compositeReason","cancelResult","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","readIntoRequest","_readIntoRequests","ReadableStreamAddReadRequest","IsReadableStreamDefaultReader","readRequest","_readRequests","ReadableStreamClose","sourceCancelPromise","__cancelSteps","defaultReaderClosedPromiseResolve","ReadableStreamError","defaultReaderClosedPromiseReject","ReadableStreamFulfillReadIntoRequest","ReadableStreamFulfillReadRequest","ReadableStreamGetNumReadIntoRequests","ReadableStreamGetNumReadRequests","ReadableStreamHasBYOBReader","ReadableStreamHasDefaultReader","ReadableStreamReaderGenericInitialize","defaultReaderBrandCheckException","_ownerReadableStream","readerLockException","ReadableStreamReaderGenericCancel","ReadableStreamDefaultReaderRead","IsReadableByteStreamController","byobReaderBrandCheckException","ArrayBuffer","isView","ReadableStreamBYOBReaderRead","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","defaultReaderClosedPromiseResetToRejected","ReadableByteStreamControllerPullInto","__pullSteps","_controlledReadableStream","_underlyingSource","_closeRequested","_pullAgain","_pulling","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerErrorIfNeeded","IsReadableStreamDefaultController","defaultControllerBrandCheckException","pendingPromise","shouldPull","ReadableStreamDefaultControllerShouldCallPull","pullPromise","ReadableStreamBYOBRequest","_associatedReadableByteStreamController","_view","respond","bytesWritten","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","ReadableByteStreamControllerRespond","respondWithNewView","ReadableByteStreamControllerRespondWithNewView","underlyingByteSource","_underlyingByteSource","ReadableByteStreamControllerClearPendingPullIntos","autoAllocateChunkSize","_autoAllocateChunkSize","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","ReadableByteStreamControllerError","byteStreamControllerBrandCheckException","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","firstDescriptor","bytesFilled","ReadableByteStreamControllerHandleQueueDrain","viewE","bufferE","pullIntoDescriptor","elementSize","ctor","readerType","_byobRequest","ReadableByteStreamControllerGetDesiredSize","ReadableByteStreamControllerShouldCallPull","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","DataView","BYTES_PER_ELEMENT","emptyView","ReadableByteStreamControllerRespondInClosedState","ReadableByteStreamControllerRespondInReadableState","remainderSize","remainder","ReadableByteStreamControllerRespondInternal","firstPendingPullInto","transferredBuffer","transferredView","transformStream","writableStream","TransformStream","TransformStreamCloseReadable","_errored","_readableClosed","TransformStreamCloseReadableInternal","TransformStreamEnqueueToReadable","_readableController","TransformStreamErrorIfNeeded","maybeBackpressure","TransformStreamSetBackpressure","TransformStreamError","TransformStreamErrorInternal","_writableDone","_writableController","TransformStreamReadableReadyPromise","_backpressureChangePromise","_backpressureChangePromise_resolve","resolution","TransformStreamDefaultTransform","transformStreamController","_controlledTransformStream","TransformStreamTransform","_transforming","transformer","_transformer","_transformStreamController","transformPromise","IsTransformStreamDefaultController","IsTransformStream","TransformStreamSink","startPromise","_transformStream","_startPromise","flushPromise","TransformStreamSource","TransformStreamDefaultController","readableController","readableStrategy","writableStrategy","startPromise_resolve","_readable","_writable","isValidUrl","PDFJS_createObjectURL","PDFJS_isLittleEndian","FontLoader","styleElement","nativeFontFaces","loadTestFontId","loadingContext","requests","nextRequestId","insertRule","fontLoaderInsertRule","rule","styleSheet","sheet","cssRules","fontLoaderClear","nativeFontFace","fonts","getLoadTestFont","atob","addNativeFontFace","fontLoader_addNativeFontFace","fontLoaderBind","rules","fontsToLoad","fontLoadPromises","getNativeFontPromise","family","isFontLoadingAPISupported","isSyncFontLoadingSupported","attached","loading","createNativeFontFace","createFontFaceRule","queueLoadingCallback","prepareFontLoadEvent","FontLoader_queueLoadingCallback","LoadLoader_completeRequest","otherRequest","requestId","fontLoaderPrepareFontLoadEvent","int32","spliceString","insert","chunk1","chunk2","called","isFontReady","fillText","loadTestFont","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","supported","IsEvalSupportedCached","FontFaceObject","FontFaceObjectClosure","translatedData","compiledGlyphs","FontFaceObject_createNativeFontFace","FontFace","FontFaceObject_createFontFaceRule","getPathGenerator","FontFaceObject_getPathGenerator","cmds","js","cmd","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","IsLittleEndianCached","addContextCurrentTransform","mozCurrentTransform","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","_transformMatrix","_transformStack","getCurrentTransform","getCurrentTransformInverse","ad_bc","bc_ad","ctxSave","ctxRestore","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxRotate","cosValue","sinValue","CachedCanvases","CachedCanvasesClosure","cache","getCanvas","CachedCanvases_getCanvas","trackTransform","canvasEntry","reset","compileType3Glyph","POINT_TO_PROCESS_LIMIT","j0","width1","POINT_TYPES","data0","elem","sum","steps","outlines","coords","p0","pp","drawOutline","beginPath","CanvasExtraState","CanvasExtraStateClosure","alphaIsShape","textMatrixScale","textRenderingMode","patternFill","activeSMask","resumeSMaskCtx","CanvasExtraState_clone","CanvasExtraState_setCurrentPoint","CanvasGraphics","CanvasGraphicsClosure","EXECUTION_TIME","EXECUTION_STEPS","canvasCtx","stateStack","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","cachedCanvases","cachedGetSinglePixelWidth","putBinaryImageData","ImageData","putImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","destPos","thisChunkHeight","elemsInThisChunk","srcLength","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","strokeStyle","fillStyle","fillRule","globalAlpha","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","backdrop","hasBackdrop","composeFn","PIXELS_TO_PROCESS","row","chunkHeight","composeSMask","scaleX","scaleY","isEnabled","composed","NORMAL_CLIP","EO_CLIP","fillRect","transparentCanvas","compositeCtx","beginLayout","CanvasGraphics_executeOperatorList","executionStartIdx","continueCallback","argsArrayLen","chunkOperations","endTime","breakIt","depObjId","objsPool","CanvasGraphics_endDrawing","endSMaskGroup","endLayout","CanvasGraphics_setLineWidth","CanvasGraphics_setLineCap","CanvasGraphics_setLineJoin","CanvasGraphics_setMiterLimit","CanvasGraphics_setDash","CanvasGraphics_setRenderingIntent","CanvasGraphics_setFlatness","flatness","CanvasGraphics_setGState","suspendSMaskGroup","beginSMaskGroup","CanvasGraphics_beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","startTransformInverse","mozCurrentTransformInverse","CanvasGraphics_endSMaskGroup","deltaTransform","clearRect","resumeSMaskGroup","CanvasGraphics_save","CanvasGraphics_restore","CanvasGraphics_transform","CanvasGraphics_constructPath","getSinglePixelWidth","bezierCurveTo","CanvasGraphics_closePath","CanvasGraphics_stroke","consumePath","getPattern","CanvasGraphics_closeStroke","CanvasGraphics_fill","isPatternFill","needRestore","CanvasGraphics_eoFill","CanvasGraphics_fillStroke","CanvasGraphics_eoFillStroke","CanvasGraphics_closeFillStroke","CanvasGraphics_closeEOFillStroke","CanvasGraphics_endPath","CanvasGraphics_clip","CanvasGraphics_eoClip","CanvasGraphics_beginText","CanvasGraphics_endText","paths","pendingTextPaths","addToPath","CanvasGraphics_setCharSpacing","CanvasGraphics_setWordSpacing","CanvasGraphics_setHScale","CanvasGraphics_setLeading","CanvasGraphics_setFont","isType3Font","typeface","browserFontSize","CanvasGraphics_setTextRenderingMode","CanvasGraphics_setTextRise","rise","CanvasGraphics_moveText","CanvasGraphics_setLeadingMoveText","CanvasGraphics_setTextMatrix","CanvasGraphics_nextLine","paintChar","CanvasGraphics_paintChar","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","CanvasGraphics_showText","showType3Text","spacingDir","defaultVMetrics","simpleFillText","restoreNeeded","accent","scaledX","scaledY","scaledAccentX","scaledAccentY","vmetric","vx","vy","remeasure","measuredWidth","characterScaleX","CanvasGraphics_showType3Text","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","CanvasGraphics_setCharWidth","xWidth","yWidth","CanvasGraphics_setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","CanvasGraphics_getColorN_Pattern","IR","pattern","canvasGraphicsFactory","createCanvasGraphics","CanvasGraphics_setStrokeColorN","CanvasGraphics_setFillColorN","CanvasGraphics_setStrokeRGBColor","CanvasGraphics_setFillRGBColor","CanvasGraphics_shadingFill","patternIR","inv","bl","ul","ur","x0","y0","CanvasGraphics_beginInlineImage","CanvasGraphics_beginImageData","CanvasGraphics_paintFormXObjectBegin","CanvasGraphics_paintFormXObjectEnd","CanvasGraphics_beginGroup","isolated","knockout","canvasBounds","CanvasGraphics_endGroup","imageSmoothingEnabled","mozImageSmoothingEnabled","CanvasGraphics_beginAnnotations","CanvasGraphics_endAnnotations","CanvasGraphics_beginAnnotation","CanvasGraphics_endAnnotation","CanvasGraphics_paintJpegXObject","domImage","position","getCanvasPosition","appendImage","CanvasGraphics_paintImageMaskXObject","compiled","maskCanvas","CanvasGraphics_paintImageMaskXObjectRepeat","positions","CanvasGraphics_paintImageMaskXObjectGroup","images","CanvasGraphics_paintImageXObject","CanvasGraphics_paintImageXObjectRepeat","CanvasGraphics_paintInlineImageXObject","widthScale","heightScale","imgToPaint","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","CanvasGraphics_paintInlineImageXObjectGroup","CanvasGraphics_paintSolidColorImageMask","CanvasGraphics_paintXObject","CanvasGraphics_markPoint","CanvasGraphics_markPointProps","CanvasGraphics_beginMarkedContent","CanvasGraphics_beginMarkedContentProps","CanvasGraphics_endMarkedContent","CanvasGraphics_beginCompat","CanvasGraphics_endCompat","CanvasGraphics_consumePath","CanvasGraphics_getSinglePixelWidth","inverse","CanvasGraphics_getCanvasPosition","ShadingIRs","RadialAxial","fromIR","RadialAxial_fromIR","raw","colorStops","r1","RadialAxial_getPattern","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","createMeshCanvasClosure","drawTriangle","c1","c2","c3","colors","rowSize","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","combinesScale","figures","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","drawFigures","Mesh","Mesh_fromIR","Mesh_getPattern","owner","matrixScale","temporaryPatternCanvas","createPattern","Dummy","Dummy_fromIR","Dummy_fromIR_getPattern","getShadingPatternFromIR","shadingIR","TilingPattern","TilingPatternClosure","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","TilinPattern_createPatternCanvas","topLeft","botRight","curMatrixScale","combinedScale","graphics","setFillAndStrokeStyleToContext","setScale","transformToScale","tmpTranslate","clipBbox","TilingPattern_setScale","TilingPattern_transformToScale","tmpScale","scaleToContext","TilingPattern_scaleToContext","bboxWidth","bboxHeight","cssColor","TilingPattern_getPattern","PDFDataTransportStream","PDFDataTransportStreamClosure","_queuedChunks","_pdfDataRangeTransport","_isRangeSupported","_isStreamingSupported","_contentLength","_fullRequestReader","_rangeReaders","_onReceiveData","_onProgress","PDFDataTransportStream_onReceiveData","_enqueue","found","rangeReader","_begin","PDFDataTransportStream_onDataProgress","firstReader","_removeRangeReader","PDFDataTransportStream_removeRangeReader","PDFDataTransportStream_getFullReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStream_getRangeReader","PDFDataTransportStreamRangeReader","PDFDataTransportStream_cancelAllRequests","readers","_done","_requests","_headersReady","PDFDataTransportStreamReader_enqueue","requestCapability","PDFDataTransportStreamReader_read","PDFDataTransportStreamReader_cancel","_end","_queuedChunk","PDFDataTransportStreamRangeReader_enqueue","requestsCapability","PDFDataTransportStreamRangeReader_read","PDFDataTransportStreamRangeReader_cancel","WebGLContext","_enabled","WebGLUtils","tryInitGL","WebGLUtilsClosure","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","currentGL","currentCanvas","generateGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","initSmaskGL","vertexShader","fragmentShader","useProgram","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawingBufferWidth","drawingBufferHeight","uniform2f","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","deleteTexture","deleteBuffer","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","scaleLocation","offsetLocation","colorLocation","coordsMap","colorsMap","pIndex","cIndex","col","coordsBuffer","colorsBuffer","fs","http","https","isFsUrl","httpHeaders","_fullRequest","_rangeRequestReaders","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_loaded","_disableRange","_rangeChunkSize","_readableStream","_readCapability","_headersCapability","_error","BaseRangeReader","createRequestOptions","headers","auth","handleResponse","_setReadableStream","_request","_httpHeaders","decodeURI","lstat","createReadStream","createFetchOptions","withCredentials","credentials","redirect","PDFFetchStreamReader","PDFFetchStreamRangeReader","_withCredentials","_headers","Headers","rangeStr","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","NetworkManager","getXhr","NetworkManager_getXhr","currXhrId","pendingRequests","loadedRequests","getArrayBuffer","array","supportsMozChunked","supportsMozChunkedClosure","requestRange","NetworkManager_requestRange","requestFull","NetworkManager_requestFull","NetworkManager_request","xhrId","pendingRequest","setRequestHeader","expectedStatus","useMozChunkedLoading","onProgressiveData","mozChunked","onError","onStateChange","onprogress","onHeadersReceived","onDone","NetworkManager_onProgress","NetworkManager_onStateChange","xhrStatus","ok_response_on_range_request","rangeHeader","matches","hasPendingRequests","NetworkManager_hasPendingRequests","getRequestXhr","isStreamingRequest","NetworkManager_isStreamingRequest","isPendingRequest","NetworkManager_isPendingRequest","isLoadedRequest","NetworkManager_isLoadedRequest","abortAllRequests","NetworkManager_abortAllRequests","NetworkManager_abortRequest","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStream_onRangeRequestReaderClosed","PDFNetworkStream_getFullReader","PDFNetworkStreamFullRequestReader","PDFNetworkStream_getRangeReader","PDFNetworkStreamRangeRequestReader","onClosed","PDFNetworkStream_cancelAllRequests","manager","_onHeadersReceived","_onProgressiveData","_onDone","_onError","_fullRequestId","_headersReceivedCapability","_cachedChunks","PDFNetworkStreamFullRequestReader_onHeadersReceived","fullRequestXhrId","fullRequestXhr","networkManager","PDFNetworkStreamFullRequestReader_onProgressiveData","PDFNetworkStreamFullRequestReader_onDone","PDFNetworkStreamFullRequestReader_onError","PDFNetworkStreamFullRequestReader_onProgress","lengthComputable","PDFNetworkStreamFullRequestReader_read","PDFNetworkStreamFullRequestReader_cancel","_requestId","_close","PDFNetworkStreamRangeRequestReader_close","PDFNetworkStreamRangeRequestReader_onDone","PDFNetworkStreamRangeRequestReader_onProgress","PDFNetworkStreamRangeRequestReader_read","PDFNetworkStreamRangeRequestReader_cancel"],"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f427941470292bee298a","webpack:///src/shared/util.js","webpack:///node_modules/core-js/modules/_is-object.js","webpack:///node_modules/core-js/modules/_wks.js","webpack:///node_modules/core-js/modules/_global.js","webpack:///node_modules/core-js/modules/_export.js","webpack:///node_modules/core-js/modules/_core.js","webpack:///node_modules/core-js/modules/_an-object.js","webpack:///node_modules/core-js/modules/_has.js","webpack:///node_modules/core-js/modules/_redefine.js","webpack:///node_modules/core-js/modules/_ctx.js","webpack:///src/display/dom_utils.js","webpack:///node_modules/core-js/modules/_hide.js","webpack:///node_modules/core-js/modules/_descriptors.js","webpack:///node_modules/core-js/modules/_fails.js","webpack:///src/shared/global_scope.js","webpack:///node_modules/core-js/modules/_object-dp.js","webpack:///node_modules/core-js/modules/_a-function.js","webpack:///node_modules/core-js/modules/_to-iobject.js","webpack:///node_modules/core-js/modules/_cof.js","webpack:///node_modules/core-js/modules/_iterators.js","webpack:///node_modules/core-js/modules/_uid.js","webpack:///node_modules/core-js/modules/_object-keys.js","webpack:///node_modules/core-js/modules/_set-to-string-tag.js","webpack:///node_modules/core-js/modules/_for-of.js","webpack:///node_modules/core-js/modules/_dom-create.js","webpack:///node_modules/core-js/modules/_property-desc.js","webpack:///node_modules/core-js/modules/_iobject.js","webpack:///node_modules/core-js/modules/_defined.js","webpack:///node_modules/core-js/modules/_to-length.js","webpack:///node_modules/core-js/modules/_to-integer.js","webpack:///node_modules/core-js/modules/_shared-key.js","webpack:///node_modules/core-js/modules/_object-pie.js","webpack:///node_modules/core-js/modules/_classof.js","webpack:///node_modules/core-js/modules/_to-object.js","webpack:///node_modules/core-js/modules/_an-instance.js","webpack:///node_modules/core-js/modules/_new-promise-capability.js","webpack:///node_modules/core-js/modules/_redefine-all.js","webpack:///node_modules/core-js/modules/_meta.js","webpack:///src/display/network_utils.js","webpack:///node_modules/core-js/modules/_ie8-dom-define.js","webpack:///node_modules/core-js/modules/_to-primitive.js","webpack:///node_modules/core-js/modules/_array-includes.js","webpack:///node_modules/core-js/modules/_shared.js","webpack:///node_modules/core-js/modules/_enum-bug-keys.js","webpack:///node_modules/core-js/modules/_add-to-unscopables.js","webpack:///node_modules/core-js/modules/es6.object.to-string.js","webpack:///node_modules/core-js/modules/_iter-define.js","webpack:///node_modules/core-js/modules/_library.js","webpack:///node_modules/core-js/modules/_html.js","webpack:///node_modules/core-js/modules/web.dom.iterable.js","webpack:///node_modules/core-js/modules/_species-constructor.js","webpack:///node_modules/core-js/modules/_task.js","webpack:///node_modules/core-js/modules/_perform.js","webpack:///node_modules/core-js/modules/_promise-resolve.js","webpack:///node_modules/core-js/modules/_iter-detect.js","webpack:///node_modules/core-js/modules/_array-methods.js","webpack:///node_modules/core-js/modules/_validate-collection.js","webpack:///src/display/api.js","webpack:///src/display/metadata.js","webpack:///src/display/annotation_layer.js","webpack:///src/display/text_layer.js","webpack:///src/display/svg.js","webpack:///src/pdf.js","webpack:///src/shared/compatibility.js","webpack:///node_modules/core-js/fn/object/values.js","webpack:///node_modules/core-js/modules/es7.object.values.js","webpack:///node_modules/core-js/modules/_object-to-array.js","webpack:///node_modules/core-js/modules/_object-keys-internal.js","webpack:///node_modules/core-js/modules/_to-absolute-index.js","webpack:///node_modules/core-js/fn/array/includes.js","webpack:///node_modules/core-js/modules/es7.array.includes.js","webpack:///node_modules/core-js/fn/number/is-nan.js","webpack:///node_modules/core-js/modules/es6.number.is-nan.js","webpack:///node_modules/core-js/fn/number/is-integer.js","webpack:///node_modules/core-js/modules/es6.number.is-integer.js","webpack:///node_modules/core-js/modules/_is-integer.js","webpack:///node_modules/core-js/fn/promise.js","webpack:///node_modules/core-js/modules/es6.string.iterator.js","webpack:///node_modules/core-js/modules/_string-at.js","webpack:///node_modules/core-js/modules/_iter-create.js","webpack:///node_modules/core-js/modules/_object-create.js","webpack:///node_modules/core-js/modules/_object-dps.js","webpack:///node_modules/core-js/modules/_object-gpo.js","webpack:///node_modules/core-js/modules/es6.array.iterator.js","webpack:///node_modules/core-js/modules/_iter-step.js","webpack:///node_modules/core-js/modules/es6.promise.js","webpack:///node_modules/core-js/modules/_iter-call.js","webpack:///node_modules/core-js/modules/_is-array-iter.js","webpack:///node_modules/core-js/modules/core.get-iterator-method.js","webpack:///node_modules/core-js/modules/_invoke.js","webpack:///node_modules/core-js/modules/_microtask.js","webpack:///node_modules/core-js/modules/_set-species.js","webpack:///node_modules/core-js/modules/es7.promise.finally.js","webpack:///node_modules/core-js/modules/es7.promise.try.js","webpack:///node_modules/core-js/fn/weak-map.js","webpack:///node_modules/core-js/modules/es6.weak-map.js","webpack:///node_modules/core-js/modules/_array-species-create.js","webpack:///node_modules/core-js/modules/_array-species-constructor.js","webpack:///node_modules/core-js/modules/_is-array.js","webpack:///node_modules/core-js/modules/_object-assign.js","webpack:///node_modules/core-js/modules/_object-gops.js","webpack:///node_modules/core-js/modules/_collection-weak.js","webpack:///node_modules/core-js/modules/_collection.js","webpack:///node_modules/core-js/modules/_inherit-if-required.js","webpack:///node_modules/core-js/modules/_set-proto.js","webpack:///node_modules/core-js/modules/_object-gopd.js","webpack:///node_modules/core-js/modules/es7.weak-map.of.js","webpack:///node_modules/core-js/modules/_set-collection-of.js","webpack:///node_modules/core-js/modules/es7.weak-map.from.js","webpack:///node_modules/core-js/modules/_set-collection-from.js","webpack:///src/shared/streams_polyfill.js","webpack:///external/streams/streams-lib.js","webpack:///src/display/global.js","webpack:///src/display/font_loader.js","webpack:///src/display/canvas.js","webpack:///src/display/pattern_helper.js","webpack:///src/display/transport_stream.js","webpack:///src/display/webgl.js","webpack:///src/display/node_stream.js","webpack:///src/display/fetch_stream.js","webpack:///src/display/network.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 62);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f427941470292bee298a","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport './compatibility';\nimport { ReadableStream } from './streams_polyfill';\n\nvar FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nconst NativeImageDecoding = {\n  NONE: 'none',\n  DECODE: 'decode',\n  DISPLAY: 'display',\n};\n\nvar TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nvar ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nvar AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nvar AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nvar AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nvar AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nvar StreamType = {\n  UNKNOWN: 0,\n  FLATE: 1,\n  LZW: 2,\n  DCT: 3,\n  JPX: 4,\n  JBIG: 5,\n  A85: 6,\n  AHX: 7,\n  CCF: 8,\n  RL: 9,\n};\n\nvar FontType = {\n  UNKNOWN: 0,\n  TYPE1: 1,\n  TYPE1C: 2,\n  CIDFONTTYPE0: 3,\n  CIDFONTTYPE0C: 4,\n  TRUETYPE: 5,\n  CIDFONTTYPE2: 6,\n  TYPE3: 7,\n  OPENTYPE: 8,\n  TYPE0: 9,\n  MMTYPE1: 10,\n};\n\nvar VERBOSITY_LEVELS = {\n  errors: 0,\n  warnings: 1,\n  infos: 5,\n};\n\nvar CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nvar OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nvar verbosity = VERBOSITY_LEVELS.warnings;\n\nfunction setVerbosityLevel(level) {\n  verbosity = level;\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VERBOSITY_LEVELS.infos) {\n    console.log('Info: ' + msg);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VERBOSITY_LEVELS.warnings) {\n    console.log('Warning: ' + msg);\n  }\n}\n\n// Deprecated API function -- display regardless of the PDFJS.verbosity setting.\nfunction deprecated(details) {\n  console.log('Deprecated API usage: ' + details);\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\nvar UNSUPPORTED_FEATURES = {\n  unknown: 'unknown',\n  forms: 'forms',\n  javaScript: 'javaScript',\n  smask: 'smask',\n  shadingPattern: 'shadingPattern',\n  font: 'font',\n};\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  try {\n    var base = new URL(baseUrl);\n    if (!base.origin || base.origin === 'null') {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  var other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the whitelisted protocols, e.g. to avoid XSS.\nfunction isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case 'http:':\n    case 'https:':\n    case 'ftp:':\n    case 'mailto:':\n    case 'tel:':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL (utilizing `isValidProtocol`).\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    var absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) { /* `new URL()` will throw on incorrect data. */ }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, { value,\n                                     enumerable: true,\n                                     configurable: true,\n                                     writable: false, });\n  return value;\n}\n\nfunction getLookupTableFactory(initializer) {\n  var lookup;\n  return function () {\n    if (initializer) {\n      lookup = Object.create(null);\n      initializer(lookup);\n      initializer = null;\n    }\n    return lookup;\n  };\n}\n\nvar PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nvar PasswordException = (function PasswordExceptionClosure() {\n  function PasswordException(msg, code) {\n    this.name = 'PasswordException';\n    this.message = msg;\n    this.code = code;\n  }\n\n  PasswordException.prototype = new Error();\n  PasswordException.constructor = PasswordException;\n\n  return PasswordException;\n})();\n\nvar UnknownErrorException = (function UnknownErrorExceptionClosure() {\n  function UnknownErrorException(msg, details) {\n    this.name = 'UnknownErrorException';\n    this.message = msg;\n    this.details = details;\n  }\n\n  UnknownErrorException.prototype = new Error();\n  UnknownErrorException.constructor = UnknownErrorException;\n\n  return UnknownErrorException;\n})();\n\nvar InvalidPDFException = (function InvalidPDFExceptionClosure() {\n  function InvalidPDFException(msg) {\n    this.name = 'InvalidPDFException';\n    this.message = msg;\n  }\n\n  InvalidPDFException.prototype = new Error();\n  InvalidPDFException.constructor = InvalidPDFException;\n\n  return InvalidPDFException;\n})();\n\nvar MissingPDFException = (function MissingPDFExceptionClosure() {\n  function MissingPDFException(msg) {\n    this.name = 'MissingPDFException';\n    this.message = msg;\n  }\n\n  MissingPDFException.prototype = new Error();\n  MissingPDFException.constructor = MissingPDFException;\n\n  return MissingPDFException;\n})();\n\nvar UnexpectedResponseException =\n    (function UnexpectedResponseExceptionClosure() {\n  function UnexpectedResponseException(msg, status) {\n    this.name = 'UnexpectedResponseException';\n    this.message = msg;\n    this.status = status;\n  }\n\n  UnexpectedResponseException.prototype = new Error();\n  UnexpectedResponseException.constructor = UnexpectedResponseException;\n\n  return UnexpectedResponseException;\n})();\n\nvar NotImplementedException = (function NotImplementedExceptionClosure() {\n  function NotImplementedException(msg) {\n    this.message = msg;\n  }\n\n  NotImplementedException.prototype = new Error();\n  NotImplementedException.prototype.name = 'NotImplementedException';\n  NotImplementedException.constructor = NotImplementedException;\n\n  return NotImplementedException;\n})();\n\nvar MissingDataException = (function MissingDataExceptionClosure() {\n  function MissingDataException(begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.message = 'Missing data [' + begin + ', ' + end + ')';\n  }\n\n  MissingDataException.prototype = new Error();\n  MissingDataException.prototype.name = 'MissingDataException';\n  MissingDataException.constructor = MissingDataException;\n\n  return MissingDataException;\n})();\n\nvar XRefParseException = (function XRefParseExceptionClosure() {\n  function XRefParseException(msg) {\n    this.message = msg;\n  }\n\n  XRefParseException.prototype = new Error();\n  XRefParseException.prototype.name = 'XRefParseException';\n  XRefParseException.constructor = XRefParseException;\n\n  return XRefParseException;\n})();\n\n/**\n * Error caused during parsing PDF data.\n */\nlet FormatError = (function FormatErrorClosure() {\n  function FormatError(msg) {\n    this.message = msg;\n  }\n\n  FormatError.prototype = new Error();\n  FormatError.prototype.name = 'FormatError';\n  FormatError.constructor = FormatError;\n\n  return FormatError;\n})();\n\n/**\n * Error used to indicate task cancellation.\n */\nlet AbortException = (function AbortExceptionClosure() {\n  function AbortException(msg) {\n    this.name = 'AbortException';\n    this.message = msg;\n  }\n\n  AbortException.prototype = new Error();\n  AbortException.constructor = AbortException;\n\n  return AbortException;\n})();\n\nvar NullCharactersRegExp = /\\x00/g;\n\nfunction removeNullCharacters(str) {\n  if (typeof str !== 'string') {\n    warn('The argument for removeNullCharacters must be a string.');\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, '');\n}\n\nfunction bytesToString(bytes) {\n  assert(bytes !== null && typeof bytes === 'object' &&\n         bytes.length !== undefined, 'Invalid argument for bytesToString');\n  var length = bytes.length;\n  var MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  var strBuf = [];\n  for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    var chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join('');\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n  var length = str.length;\n  var bytes = new Uint8Array(length);\n  for (var i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xFF;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined);\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array} arr - the array of the arrays (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (arr.length === 1 && (arr[0] instanceof Uint8Array)) {\n    return arr[0];\n  }\n  var resultLength = 0;\n  var i, ii = arr.length;\n  var item, itemLength;\n  for (i = 0; i < ii; i++) {\n    item = arr[i];\n    itemLength = arrayByteLength(item);\n    resultLength += itemLength;\n  }\n  var pos = 0;\n  var data = new Uint8Array(resultLength);\n  for (i = 0; i < ii; i++) {\n    item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === 'string') {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode((value >> 24) & 0xff, (value >> 16) & 0xff,\n                             (value >> 8) & 0xff, value & 0xff);\n}\n\nfunction log2(x) {\n  var n = 1, i = 0;\n  while (x > n) {\n    n <<= 1;\n    i++;\n  }\n  return i;\n}\n\nfunction readInt8(data, start) {\n  return (data[start] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return ((data[offset] << 24) | (data[offset + 1] << 16) |\n         (data[offset + 2] << 8) | data[offset + 3]) >>> 0;\n}\n\n// Lazy test the endianness of the platform\n// NOTE: This will be 'true' for simulated TypedArrays\nfunction isLittleEndian() {\n  var buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  var view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return (view32[0] === 1);\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(''); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\nvar Util = (function UtilClosure() {\n  function Util() {}\n\n  var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n  // makeCssRgb() can be called thousands of times. Using |rgbBuf| avoids\n  // creating many intermediate strings.\n  Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join('');\n  };\n\n  // Concatenates two transformation matrices together and returns the result.\n  Util.transform = function Util_transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n    ];\n  };\n\n  // For 2d affine transforms\n  Util.applyTransform = function Util_applyTransform(p, m) {\n    var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  };\n\n  Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  };\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  Util.getAxialAlignedBoundingBox =\n    function Util_getAxialAlignedBoundingBox(r, m) {\n\n    var p1 = Util.applyTransform(r, m);\n    var p2 = Util.applyTransform(r.slice(2, 4), m);\n    var p3 = Util.applyTransform([r[0], r[3]], m);\n    var p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1])\n    ];\n  };\n\n  Util.inverseTransform = function Util_inverseTransform(m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  };\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2]\n    ];\n  };\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  Util.singularValueDecompose2dScale =\n    function Util_singularValueDecompose2dScale(m) {\n\n    var transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    var a = m[0] * transpose[0] + m[1] * transpose[2];\n    var b = m[0] * transpose[1] + m[1] * transpose[3];\n    var c = m[2] * transpose[0] + m[3] * transpose[2];\n    var d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    var first = (a + d) / 2;\n    var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    var sx = first + second || 1;\n    var sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  };\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  Util.normalizeRect = function Util_normalizeRect(rect) {\n    var r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  };\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  Util.intersect = function Util_intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n        orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n        result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if ((orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n        (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return false;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if ((orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n        (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return false;\n    }\n\n    return result;\n  };\n\n  var ROMAN_NUMBER_MAP = [\n    '', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM',\n    '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC',\n    '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'\n  ];\n  /**\n   * Converts positive integers to (upper case) Roman numerals.\n   * @param {integer} number - The number that should be converted.\n   * @param {boolean} lowerCase - Indicates if the result should be converted\n   *   to lower case letters. The default is false.\n   * @return {string} The resulting Roman number.\n   */\n  Util.toRoman = function Util_toRoman(number, lowerCase) {\n    assert(Number.isInteger(number) && number > 0,\n           'The number should be a positive integer.');\n    var pos, romanBuf = [];\n    // Thousands\n    while (number >= 1000) {\n      number -= 1000;\n      romanBuf.push('M');\n    }\n    // Hundreds\n    pos = (number / 100) | 0;\n    number %= 100;\n    romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n    // Tens\n    pos = (number / 10) | 0;\n    number %= 10;\n    romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n    // Ones\n    romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n\n    var romanStr = romanBuf.join('');\n    return (lowerCase ? romanStr.toLowerCase() : romanStr);\n  };\n\n  Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n    Array.prototype.push.apply(arr1, arr2);\n  };\n\n  Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n    Array.prototype.unshift.apply(arr1, arr2);\n  };\n\n  Util.extendObj = function extendObj(obj1, obj2) {\n    for (var key in obj2) {\n      obj1[key] = obj2[key];\n    }\n  };\n\n  Util.getInheritableProperty =\n      function Util_getInheritableProperty(dict, name, getArray) {\n    while (dict && !dict.has(name)) {\n      dict = dict.get('Parent');\n    }\n    if (!dict) {\n      return null;\n    }\n    return getArray ? dict.getArray(name) : dict.get(name);\n  };\n\n  Util.inherit = function Util_inherit(sub, base, prototype) {\n    sub.prototype = Object.create(base.prototype);\n    sub.prototype.constructor = sub;\n    for (var prop in prototype) {\n      sub.prototype[prop] = prototype[prop];\n    }\n  };\n\n  Util.loadScript = function Util_loadScript(src, callback) {\n    var script = document.createElement('script');\n    var loaded = false;\n    script.setAttribute('src', src);\n    if (callback) {\n      script.onload = function() {\n        if (!loaded) {\n          callback();\n        }\n        loaded = true;\n      };\n    }\n    document.getElementsByTagName('head')[0].appendChild(script);\n  };\n\n  return Util;\n})();\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n * @class\n * @alias PageViewport\n */\nvar PageViewport = (function PageViewportClosure() {\n  /**\n   * @constructor\n   * @private\n   * @param viewBox {Array} xMin, yMin, xMax and yMax coordinates.\n   * @param scale {number} scale of the viewport.\n   * @param rotation {number} rotations of the viewport in degrees.\n   * @param offsetX {number} offset X\n   * @param offsetY {number} offset Y\n   * @param dontFlip {boolean} if true, axis Y will not be flipped.\n   */\n  function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    var centerX = (viewBox[2] + viewBox[0]) / 2;\n    var centerY = (viewBox[3] + viewBox[1]) / 2;\n    var rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1; rotateB = 0; rotateC = 0; rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0; rotateB = 1; rotateC = 1; rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0; rotateB = -1; rotateC = -1; rotateD = 0;\n        break;\n      // case 0:\n      default:\n        rotateA = 1; rotateB = 0; rotateC = 0; rotateD = -1;\n        break;\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC; rotateD = -rotateD;\n    }\n\n    var offsetCanvasX, offsetCanvasY;\n    var width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY\n    ];\n\n    this.width = width;\n    this.height = height;\n    this.fontScale = scale;\n  }\n  PageViewport.prototype = /** @lends PageViewport.prototype */ {\n    /**\n     * Clones viewport with additional properties.\n     * @param args {Object} (optional) If specified, may contain the 'scale' or\n     * 'rotation' properties to override the corresponding properties in\n     * the cloned viewport.\n     * @returns {PageViewport} Cloned viewport.\n     */\n    clone: function PageViewPort_clone(args) {\n      args = args || {};\n      var scale = 'scale' in args ? args.scale : this.scale;\n      var rotation = 'rotation' in args ? args.rotation : this.rotation;\n      return new PageViewport(this.viewBox.slice(), scale, rotation,\n                              this.offsetX, this.offsetY, args.dontFlip);\n    },\n    /**\n     * Converts PDF point to the viewport coordinates. For examples, useful for\n     * converting PDF location into canvas pixel coordinates.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the viewport coordinate space.\n     * @see {@link convertToPdfPoint}\n     * @see {@link convertToViewportRectangle}\n     */\n    convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n      return Util.applyTransform([x, y], this.transform);\n    },\n    /**\n     * Converts PDF rectangle to the viewport coordinates.\n     * @param rect {Array} xMin, yMin, xMax and yMax coordinates.\n     * @returns {Array} Contains corresponding coordinates of the rectangle\n     * in the viewport coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToViewportRectangle:\n      function PageViewport_convertToViewportRectangle(rect) {\n      var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n      var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n      return [tl[0], tl[1], br[0], br[1]];\n    },\n    /**\n     * Converts viewport coordinates to the PDF location. For examples, useful\n     * for converting canvas pixel location into PDF one.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the PDF coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n      return Util.applyInverseTransform([x, y], this.transform);\n    },\n  };\n  return PageViewport;\n})();\n\nvar PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  var i, n = str.length, strBuf = [];\n  if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n    // UTF16BE BOM\n    for (i = 2; i < n; i += 2) {\n      strBuf.push(String.fromCharCode(\n        (str.charCodeAt(i) << 8) | str.charCodeAt(i + 1)));\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      var code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join('');\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === 'boolean';\n}\n\nfunction isNum(v) {\n  return typeof v === 'number';\n}\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === 'object' && v !== null && v.byteLength !== undefined;\n}\n\n// Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\nfunction isSpace(ch) {\n  return (ch === 0x20 || ch === 0x09 || ch === 0x0D || ch === 0x0A);\n}\n\nfunction isNodeJS() {\n  // eslint-disable-next-line no-undef\n  return typeof process === 'object' && process + '' === '[object process]';\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A promise object.\n * @property {function} resolve - Fulfills the promise.\n * @property {function} reject - Rejects the promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @return {PromiseCapability} A capability object contains:\n * - a Promise, resolve and reject methods.\n */\nfunction createPromiseCapability() {\n  var capability = {};\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = resolve;\n    capability.reject = reject;\n  });\n  return capability;\n}\n\nvar StatTimer = (function StatTimerClosure() {\n  function rpad(str, pad, length) {\n    while (str.length < length) {\n      str += pad;\n    }\n    return str;\n  }\n  function StatTimer() {\n    this.started = Object.create(null);\n    this.times = [];\n    this.enabled = true;\n  }\n  StatTimer.prototype = {\n    time: function StatTimer_time(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (name in this.started) {\n        warn('Timer is already running for ' + name);\n      }\n      this.started[name] = Date.now();\n    },\n    timeEnd: function StatTimer_timeEnd(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (!(name in this.started)) {\n        warn('Timer has not been started for ' + name);\n      }\n      this.times.push({\n        'name': name,\n        'start': this.started[name],\n        'end': Date.now(),\n      });\n      // Remove timer from started so it can be called again.\n      delete this.started[name];\n    },\n    toString: function StatTimer_toString() {\n      var i, ii;\n      var times = this.times;\n      var out = '';\n      // Find the longest name for padding purposes.\n      var longest = 0;\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var name = times[i]['name'];\n        if (name.length > longest) {\n          longest = name.length;\n        }\n      }\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var span = times[i];\n        var duration = span.end - span.start;\n        out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n      }\n      return out;\n    },\n  };\n  return StatTimer;\n})();\n\nvar createBlob = function createBlob(data, contentType) {\n  if (typeof Blob !== 'undefined') {\n    return new Blob([data], { type: contentType, });\n  }\n  throw new Error('The \"Blob\" constructor is not supported.');\n};\n\nvar createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      var blob = createBlob(data, contentType);\n      return URL.createObjectURL(blob);\n    }\n\n    var buffer = 'data:' + contentType + ';base64,';\n    for (var i = 0, ii = data.length; i < ii; i += 3) {\n      var b1 = data[i] & 0xFF;\n      var b2 = data[i + 1] & 0xFF;\n      var b3 = data[i + 2] & 0xFF;\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      var d3 = i + 1 < ii ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n      var d4 = i + 2 < ii ? (b3 & 0x3F) : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nfunction resolveCall(fn, args, thisArg = null) {\n  if (!fn) {\n    return Promise.resolve(undefined);\n  }\n  return new Promise((resolve, reject) => {\n    resolve(fn.apply(thisArg, args));\n  });\n}\n\nfunction wrapReason(reason) {\n  if (typeof reason !== 'object') {\n    return reason;\n  }\n  switch (reason.name) {\n    case 'AbortException':\n      return new AbortException(reason.message);\n    case 'MissingPDFException':\n      return new MissingPDFException(reason.message);\n    case 'UnexpectedResponseException':\n      return new UnexpectedResponseException(reason.message, reason.status);\n    default:\n      return new UnknownErrorException(reason.message, reason.details);\n  }\n}\n\nfunction makeReasonSerializable(reason) {\n  if (!(reason instanceof Error) ||\n      reason instanceof AbortException ||\n      reason instanceof MissingPDFException ||\n      reason instanceof UnexpectedResponseException ||\n      reason instanceof UnknownErrorException) {\n    return reason;\n  }\n  return new UnknownErrorException(reason.message, reason.toString());\n}\n\nfunction resolveOrReject(capability, success, reason) {\n  if (success) {\n    capability.resolve();\n  } else {\n    capability.reject(reason);\n  }\n}\n\nfunction finalize(promise) {\n  return Promise.resolve(promise).catch(() => {});\n}\n\nfunction MessageHandler(sourceName, targetName, comObj) {\n  this.sourceName = sourceName;\n  this.targetName = targetName;\n  this.comObj = comObj;\n  this.callbackId = 1;\n  this.streamId = 1;\n  this.postMessageTransfers = true;\n  this.streamSinks = Object.create(null);\n  this.streamControllers = Object.create(null);\n  let callbacksCapabilities = this.callbacksCapabilities = Object.create(null);\n  let ah = this.actionHandler = Object.create(null);\n\n  this._onComObjOnMessage = (event) => {\n    let data = event.data;\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this._processStreamMessage(data);\n    } else if (data.isReply) {\n      let callbackId = data.callbackId;\n      if (data.callbackId in callbacksCapabilities) {\n        let callback = callbacksCapabilities[callbackId];\n        delete callbacksCapabilities[callbackId];\n        if ('error' in data) {\n          callback.reject(wrapReason(data.error));\n        } else {\n          callback.resolve(data.data);\n        }\n      } else {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n    } else if (data.action in ah) {\n      let action = ah[data.action];\n      if (data.callbackId) {\n        let sourceName = this.sourceName;\n        let targetName = data.sourceName;\n        Promise.resolve().then(function () {\n          return action[0].call(action[1], data.data);\n        }).then((result) => {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            isReply: true,\n            callbackId: data.callbackId,\n            data: result,\n          });\n        }, (reason) => {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            isReply: true,\n            callbackId: data.callbackId,\n            error: makeReasonSerializable(reason),\n          });\n        });\n      } else if (data.streamId) {\n        this._createStreamSink(data);\n      } else {\n        action[0].call(action[1], data.data);\n      }\n    } else {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n  };\n  comObj.addEventListener('message', this._onComObjOnMessage);\n}\n\nMessageHandler.prototype = {\n  on(actionName, handler, scope) {\n    var ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = [handler, scope];\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers\n   */\n  send(actionName, data, transfers) {\n    var message = {\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data,\n    };\n    this.postMessage(message, transfers);\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    var callbackId = this.callbackId++;\n    var message = {\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data,\n      callbackId,\n    };\n    var capability = createPromiseCapability();\n    this.callbacksCapabilities[callbackId] = capability;\n    try {\n      this.postMessage(message, transfers);\n    } catch (e) {\n      capability.reject(e);\n    }\n    return capability.promise;\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers.\n   * @return {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    let streamId = this.streamId++;\n    let sourceName = this.sourceName;\n    let targetName = this.targetName;\n\n    return new ReadableStream({\n      start: (controller) => {\n        let startCapability = createPromiseCapability();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          isClosed: false,\n        };\n        this.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize,\n        });\n        // Return Promise for Async process, to signal success/failure.\n        return startCapability.promise;\n      },\n\n      pull: (controller) => {\n        let pullCapability = createPromiseCapability();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        this.postMessage({\n          sourceName,\n          targetName,\n          stream: 'pull',\n          streamId,\n          desiredSize: controller.desiredSize,\n        });\n        // Returning Promise will not call \"pull\"\n        // again until current pull is resolved.\n        return pullCapability.promise;\n      },\n\n      cancel: (reason) => {\n        let cancelCapability = createPromiseCapability();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        this.postMessage({\n          sourceName,\n          targetName,\n          stream: 'cancel',\n          reason,\n          streamId,\n        });\n        // Return Promise to signal success or failure.\n        return cancelCapability.promise;\n      },\n    }, queueingStrategy);\n  },\n\n  _createStreamSink(data) {\n    let self = this;\n    let action = this.actionHandler[data.action];\n    let streamId = data.streamId;\n    let desiredSize = data.desiredSize;\n    let sourceName = this.sourceName;\n    let targetName = data.sourceName;\n    let capability = createPromiseCapability();\n\n    let sendStreamRequest = ({ stream, chunk, transfers,\n                               success, reason, }) => {\n      this.postMessage({ sourceName, targetName, stream, streamId,\n                         chunk, success, reason, }, transfers);\n    };\n\n    let streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        let lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        sendStreamRequest({ stream: 'enqueue', chunk, transfers, });\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        sendStreamRequest({ stream: 'close', });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        sendStreamRequest({ stream: 'error', reason, });\n      },\n\n      sinkCapability: capability,\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    resolveCall(action[0], [data.data, streamSink], action[1]).then(() => {\n      sendStreamRequest({ stream: 'start_complete', success: true, });\n    }, (reason) => {\n      sendStreamRequest({ stream: 'start_complete', success: false, reason, });\n    });\n  },\n\n  _processStreamMessage(data) {\n    let sourceName = this.sourceName;\n    let targetName = data.sourceName;\n    let streamId = data.streamId;\n\n    let sendStreamResponse = ({ stream, success, reason, }) => {\n      this.comObj.postMessage({ sourceName, targetName, stream,\n                                success, streamId, reason, });\n    };\n\n    let deleteStreamController = () => {\n      // Delete streamController only when start, pull and\n      // cancel callbacks are resolved, to avoid \"TypeError\".\n      Promise.all([\n        this.streamControllers[data.streamId].startCall,\n        this.streamControllers[data.streamId].pullCall,\n        this.streamControllers[data.streamId].cancelCall\n      ].map(function(capability) {\n        return capability && finalize(capability.promise);\n      })).then(() => {\n        delete this.streamControllers[data.streamId];\n      });\n    };\n\n    switch (data.stream) {\n      case 'start_complete':\n        resolveOrReject(this.streamControllers[data.streamId].startCall,\n                        data.success, wrapReason(data.reason));\n        break;\n      case 'pull_complete':\n        resolveOrReject(this.streamControllers[data.streamId].pullCall,\n                        data.success, wrapReason(data.reason));\n        break;\n      case 'pull':\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[data.streamId]) {\n          sendStreamResponse({ stream: 'pull_complete', success: true, });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (this.streamSinks[data.streamId].desiredSize <= 0 &&\n            data.desiredSize > 0) {\n          this.streamSinks[data.streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[data.streamId].desiredSize = data.desiredSize;\n        resolveCall(this.streamSinks[data.streamId].onPull).then(() => {\n          sendStreamResponse({ stream: 'pull_complete', success: true, });\n        }, (reason) => {\n          sendStreamResponse({ stream: 'pull_complete',\n                               success: false, reason, });\n        });\n        break;\n      case 'enqueue':\n        assert(this.streamControllers[data.streamId],\n               'enqueue should have stream controller');\n        if (!this.streamControllers[data.streamId].isClosed) {\n          this.streamControllers[data.streamId].controller.enqueue(data.chunk);\n        }\n        break;\n      case 'close':\n        assert(this.streamControllers[data.streamId],\n               'close should have stream controller');\n        if (this.streamControllers[data.streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[data.streamId].isClosed = true;\n        this.streamControllers[data.streamId].controller.close();\n        deleteStreamController();\n        break;\n      case 'error':\n        assert(this.streamControllers[data.streamId],\n               'error should have stream controller');\n        this.streamControllers[data.streamId].controller.\n          error(wrapReason(data.reason));\n        deleteStreamController();\n        break;\n      case 'cancel_complete':\n        resolveOrReject(this.streamControllers[data.streamId].cancelCall,\n                        data.success, wrapReason(data.reason));\n        deleteStreamController();\n        break;\n      case 'cancel':\n        if (!this.streamSinks[data.streamId]) {\n          break;\n        }\n        resolveCall(this.streamSinks[data.streamId].onCancel,\n                    [wrapReason(data.reason)]).then(() => {\n          sendStreamResponse({ stream: 'cancel_complete', success: true, });\n        }, (reason) => {\n          sendStreamResponse({ stream: 'cancel_complete',\n                               success: false, reason, });\n        });\n        this.streamSinks[data.streamId].sinkCapability.\n          reject(wrapReason(data.reason));\n        this.streamSinks[data.streamId].isCancelled = true;\n        delete this.streamSinks[data.streamId];\n        break;\n      default:\n        throw new Error('Unexpected stream case');\n    }\n  },\n\n  /**\n   * Sends raw message to the comObj.\n   * @private\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   */\n  postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  },\n\n  destroy() {\n    this.comObj.removeEventListener('message', this._onComObjOnMessage);\n  },\n};\n\nfunction loadJpegStream(id, imageUrl, objs) {\n  var img = new Image();\n  img.onload = (function loadJpegStream_onloadClosure() {\n    objs.resolve(id, img);\n  });\n  img.onerror = (function loadJpegStream_onerrorClosure() {\n    objs.resolve(id, null);\n    warn('Error during JPEG image loading');\n  });\n  img.src = imageUrl;\n}\n\nexport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VERBOSITY_LEVELS,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MessageHandler,\n  MissingDataException,\n  MissingPDFException,\n  NativeImageDecoding,\n  NotImplementedException,\n  PageViewport,\n  PasswordException,\n  PasswordResponses,\n  StatTimer,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  XRefParseException,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createBlob,\n  createPromiseCapability,\n  createObjectURL,\n  deprecated,\n  getLookupTableFactory,\n  getVerbosityLevel,\n  info,\n  isArrayBuffer,\n  isBool,\n  isEmptyObj,\n  isNum,\n  isString,\n  isSpace,\n  isNodeJS,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  isLittleEndian,\n  isEvalSupported,\n  loadJpegStream,\n  log2,\n  readInt8,\n  readUint16,\n  readUint32,\n  removeNullCharacters,\n  ReadableStream,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/shared/util.js","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_is-object.js","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_wks.js","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_global.js","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_export.js","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_core.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_an-object.js","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_has.js","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_redefine.js","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_ctx.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert, CMapCompressionType, removeNullCharacters, stringToBytes, warn\n} from '../shared/util';\nimport globalScope from '../shared/global_scope';\n\nconst DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nclass DOMCanvasFactory {\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error('invalid canvas size');\n    }\n    let canvas = document.createElement('canvas');\n    let context = canvas.getContext('2d');\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error('canvas is not specified');\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error('invalid canvas size');\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error('canvas is not specified');\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false, }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  fetch({ name, }) {\n    if (!this.baseUrl) {\n      return Promise.reject(new Error('CMap baseUrl must be specified, ' +\n        'see \"PDFJS.cMapUrl\" (and also \"PDFJS.cMapPacked\").'));\n    }\n    if (!name) {\n      return Promise.reject(new Error('CMap name must be specified.'));\n    }\n    return new Promise((resolve, reject) => {\n      let url = this.baseUrl + name + (this.isCompressed ? '.bcmap' : '');\n\n      let request = new XMLHttpRequest();\n      request.open('GET', url, true);\n\n      if (this.isCompressed) {\n        request.responseType = 'arraybuffer';\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let data;\n          if (this.isCompressed && request.response) {\n            data = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            data = stringToBytes(request.responseText);\n          }\n          if (data) {\n            resolve({\n              cMapData: data,\n              compressionType: this.isCompressed ?\n                CMapCompressionType.BINARY : CMapCompressionType.NONE,\n            });\n            return;\n          }\n        }\n        reject(new Error('Unable to load ' +\n                         (this.isCompressed ? 'binary ' : '') +\n                         'CMap at: ' + url));\n      };\n\n      request.send(null);\n    });\n  }\n}\n\nclass DOMSVGFactory {\n  create(width, height) {\n    assert(width > 0 && height > 0, 'Invalid SVG dimensions');\n\n    let svg = document.createElementNS(SVG_NS, 'svg:svg');\n    svg.setAttribute('version', '1.1');\n    svg.setAttribute('width', width + 'px');\n    svg.setAttribute('height', height + 'px');\n    svg.setAttribute('preserveAspectRatio', 'none');\n    svg.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n\n    return svg;\n  }\n\n  createElement(type) {\n    assert(typeof type === 'string', 'Invalid SVG element type');\n\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n\n    Object.defineProperty(this, 'parentNode', { value: null, writable: true, });\n  }\n\n  get firstChild() {\n    return this.childNodes[0];\n  }\n\n  get nextSibling() {\n    let index = this.parentNode.childNodes.indexOf(this);\n    return this.parentNode.childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || '';\n    }\n    return this.childNodes.map(function(child) {\n      return child.textContent;\n    }).join('');\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n}\n\nclass SimpleXMLParser {\n  parseFromString(data) {\n    let nodes = [];\n\n    // Remove all comments and processing instructions.\n    data = data.replace(/<\\?[\\s\\S]*?\\?>|<!--[\\s\\S]*?-->/g, '').trim();\n    data = data.replace(/<!DOCTYPE[^>\\[]+(\\[[^\\]]+)?[^>]+>/g, '').trim();\n\n    // Extract all text nodes and replace them with a numeric index in\n    // the nodes.\n    data = data.replace(/>([^<][\\s\\S]*?)</g, (all, text) => {\n      let length = nodes.length;\n      let node = new SimpleDOMNode('#text', this._decodeXML(text));\n      nodes.push(node);\n      if (node.textContent.trim().length === 0) {\n        return '><'; // Ignore whitespace.\n      }\n      return '>' + length + ',<';\n    });\n\n    // Extract all CDATA nodes.\n    data = data.replace(/<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>/g,\n        function(all, text) {\n      let length = nodes.length;\n      let node = new SimpleDOMNode('#text', text);\n      nodes.push(node);\n      return length + ',';\n    });\n\n    // Until nodes without '<' and '>' content are present, replace them\n    // with a numeric index in the nodes.\n    let regex =\n      /<([\\w\\:]+)((?:[\\s\\w:=]|'[^']*'|\"[^\"]*\")*)(?:\\/>|>([\\d,]*)<\\/[^>]+>)/g;\n    let lastLength;\n    do {\n      lastLength = nodes.length;\n      data = data.replace(regex, function(all, name, attrs, data) {\n        let length = nodes.length;\n        let node = new SimpleDOMNode(name);\n        let children = [];\n        if (data) {\n          data = data.split(',');\n          data.pop();\n          data.forEach(function(child) {\n            let childNode = nodes[+child];\n            childNode.parentNode = node;\n            children.push(childNode);\n          });\n        }\n\n        node.childNodes = children;\n        nodes.push(node);\n        return length + ',';\n      });\n    } while (lastLength < nodes.length);\n\n    // We should only have one root index left, which will be last in the nodes.\n    return {\n      documentElement: nodes.pop(),\n    };\n  }\n\n  _decodeXML(text) {\n    if (text.indexOf('&') < 0) {\n      return text;\n    }\n\n    return text.replace(/&(#(x[0-9a-f]+|\\d+)|\\w+);/gi,\n        function(all, entityName, number) {\n      if (number) {\n        if (number[0] === 'x') {\n          number = parseInt(number.substring(1), 16);\n        } else {\n          number = +number;\n        }\n        return String.fromCharCode(number);\n      }\n\n      switch (entityName) {\n        case 'amp':\n          return '&';\n        case 'lt':\n          return '<';\n        case 'gt':\n          return '>';\n        case 'quot':\n          return '\\\"';\n        case 'apos':\n          return '\\'';\n      }\n      return '&' + entityName + ';';\n    });\n  }\n}\n\n/**\n * Optimised CSS custom property getter/setter.\n * @class\n */\nvar CustomStyle = (function CustomStyleClosure() {\n\n  // As noted on: http://www.zachstronaut.com/posts/2009/02/17/\n  //              animate-css-transforms-firefox-webkit.html\n  // in some versions of IE9 it is critical that ms appear in this list\n  // before Moz\n  var prefixes = ['ms', 'Moz', 'Webkit', 'O'];\n  var _cache = Object.create(null);\n\n  function CustomStyle() {}\n\n  CustomStyle.getProp = function get(propName, element) {\n    // check cache only when no element is given\n    if (arguments.length === 1 && typeof _cache[propName] === 'string') {\n      return _cache[propName];\n    }\n\n    element = element || document.documentElement;\n    var style = element.style, prefixed, uPropName;\n\n    // test standard property first\n    if (typeof style[propName] === 'string') {\n      return (_cache[propName] = propName);\n    }\n\n    // capitalize\n    uPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n    // test vendor specific properties\n    for (var i = 0, l = prefixes.length; i < l; i++) {\n      prefixed = prefixes[i] + uPropName;\n      if (typeof style[prefixed] === 'string') {\n        return (_cache[propName] = prefixed);\n      }\n    }\n\n    // If all fails then set to undefined.\n    return (_cache[propName] = 'undefined');\n  };\n\n  CustomStyle.setProp = function set(propName, element, str) {\n    var prop = this.getProp(propName);\n    if (prop !== 'undefined') {\n      element.style[prop] = str;\n    }\n  };\n\n  return CustomStyle;\n})();\n\nvar RenderingCancelledException = (function RenderingCancelledException() {\n  function RenderingCancelledException(msg, type) {\n    this.message = msg;\n    this.type = type;\n  }\n\n  RenderingCancelledException.prototype = new Error();\n  RenderingCancelledException.prototype.name = 'RenderingCancelledException';\n  RenderingCancelledException.constructor = RenderingCancelledException;\n\n  return RenderingCancelledException;\n})();\n\nvar LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\nvar LinkTargetStringMap = [\n  '',\n  '_self',\n  '_blank',\n  '_parent',\n  '_top'\n];\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} target - The link target.\n * @property {string} rel - The link relationship.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, params) {\n  var url = params && params.url;\n  link.href = link.title = (url ? removeNullCharacters(url) : '');\n\n  if (url) {\n    var target = params.target;\n    if (typeof target === 'undefined') {\n      target = getDefaultSetting('externalLinkTarget');\n    }\n    link.target = LinkTargetStringMap[target];\n\n    var rel = params.rel;\n    if (typeof rel === 'undefined') {\n      rel = getDefaultSetting('externalLinkRel');\n    }\n    link.rel = rel;\n  }\n}\n\n// Gets the file name from a given URL.\nfunction getFilenameFromUrl(url) {\n  var anchor = url.indexOf('#');\n  var query = url.indexOf('?');\n  var end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length);\n  return url.substring(url.lastIndexOf('/', end) + 1, end);\n}\n\nfunction getDefaultSetting(id) {\n  // The list of the settings and their default is maintained for backward\n  // compatibility and shall not be extended or modified. See also global.js.\n  var globalSettings = globalScope.PDFJS;\n  switch (id) {\n    case 'pdfBug':\n      return globalSettings ? globalSettings.pdfBug : false;\n    case 'disableAutoFetch':\n      return globalSettings ? globalSettings.disableAutoFetch : false;\n    case 'disableStream':\n      return globalSettings ? globalSettings.disableStream : false;\n    case 'disableRange':\n      return globalSettings ? globalSettings.disableRange : false;\n    case 'disableFontFace':\n      return globalSettings ? globalSettings.disableFontFace : false;\n    case 'disableCreateObjectURL':\n      return globalSettings ? globalSettings.disableCreateObjectURL : false;\n    case 'disableWebGL':\n      return globalSettings ? globalSettings.disableWebGL : true;\n    case 'cMapUrl':\n      return globalSettings ? globalSettings.cMapUrl : null;\n    case 'cMapPacked':\n      return globalSettings ? globalSettings.cMapPacked : false;\n    case 'postMessageTransfers':\n      return globalSettings ? globalSettings.postMessageTransfers : true;\n    case 'workerPort':\n      return globalSettings ? globalSettings.workerPort : null;\n    case 'workerSrc':\n      return globalSettings ? globalSettings.workerSrc : null;\n    case 'disableWorker':\n      return globalSettings ? globalSettings.disableWorker : false;\n    case 'maxImageSize':\n      return globalSettings ? globalSettings.maxImageSize : -1;\n    case 'imageResourcesPath':\n      return globalSettings ? globalSettings.imageResourcesPath : '';\n    case 'isEvalSupported':\n      return globalSettings ? globalSettings.isEvalSupported : true;\n    case 'externalLinkTarget':\n      if (!globalSettings) {\n        return LinkTarget.NONE;\n      }\n      switch (globalSettings.externalLinkTarget) {\n        case LinkTarget.NONE:\n        case LinkTarget.SELF:\n        case LinkTarget.BLANK:\n        case LinkTarget.PARENT:\n        case LinkTarget.TOP:\n          return globalSettings.externalLinkTarget;\n      }\n      warn('PDFJS.externalLinkTarget is invalid: ' +\n           globalSettings.externalLinkTarget);\n      // Reset the external link target, to suppress further warnings.\n      globalSettings.externalLinkTarget = LinkTarget.NONE;\n      return LinkTarget.NONE;\n    case 'externalLinkRel':\n      return globalSettings ? globalSettings.externalLinkRel : DEFAULT_LINK_REL;\n    case 'enableStats':\n      return !!(globalSettings && globalSettings.enableStats);\n    default:\n      throw new Error('Unknown default setting: ' + id);\n  }\n}\n\nfunction isExternalLinkTargetSet() {\n  var externalLinkTarget = getDefaultSetting('externalLinkTarget');\n  switch (externalLinkTarget) {\n    case LinkTarget.NONE:\n      return false;\n    case LinkTarget.SELF:\n    case LinkTarget.BLANK:\n    case LinkTarget.PARENT:\n    case LinkTarget.TOP:\n      return true;\n  }\n}\n\nexport {\n  CustomStyle,\n  RenderingCancelledException,\n  addLinkAttributes,\n  isExternalLinkTargetSet,\n  getFilenameFromUrl,\n  LinkTarget,\n  getDefaultSetting,\n  DEFAULT_LINK_REL,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMSVGFactory,\n  SimpleXMLParser,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/dom_utils.js","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_hide.js","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_descriptors.js","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_fails.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals module */\n\nmodule.exports =\n  (typeof window !== 'undefined' && window.Math === Math) ? window :\n  // eslint-disable-next-line no-undef\n  (typeof global !== 'undefined' && global.Math === Math) ? global :\n  (typeof self !== 'undefined' && self.Math === Math) ? self : {};\n\n\n\n// WEBPACK FOOTER //\n// src/shared/global_scope.js","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-dp.js","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_a-function.js","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-iobject.js","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_cof.js","module.exports = {};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iterators.js","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_uid.js","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-keys.js","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_set-to-string-tag.js","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_for-of.js","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_dom-create.js","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_property-desc.js","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iobject.js","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_defined.js","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-length.js","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-integer.js","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_shared-key.js","exports.f = {}.propertyIsEnumerable;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-pie.js","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_classof.js","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-object.js","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_an-instance.js","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_new-promise-capability.js","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_redefine-all.js","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_meta.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert, MissingPDFException, UnexpectedResponseException\n} from '../shared/util';\n\nfunction validateRangeRequestCapabilities({ getResponseHeader, isHttp,\n                                            rangeChunkSize, disableRange, }) {\n  assert(rangeChunkSize > 0);\n  let returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader('Accept-Ranges') !== 'bytes') {\n    return returnValues;\n  }\n\n  let contentEncoding = getResponseHeader('Content-Encoding') || 'identity';\n  if (contentEncoding !== 'identity') {\n    return returnValues;\n  }\n\n  let length = parseInt(getResponseHeader('Content-Length'), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && /^file:/.test(url)) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    'Unexpected server response (' + status +\n    ') while retrieving PDF \"' + url + '\".', status);\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/network_utils.js","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_ie8-dom-define.js","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-primitive.js","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_array-includes.js","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_shared.js","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_enum-bug-keys.js","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_add-to-unscopables.js","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.object.to-string.js","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iter-define.js","module.exports = false;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_library.js","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_html.js","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/web.dom.iterable.js","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_species-constructor.js","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_task.js","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_perform.js","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_promise-resolve.js","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iter-detect.js","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_array-methods.js","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_validate-collection.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals requirejs, __non_webpack_require__ */\n\nimport {\n  assert, createPromiseCapability, getVerbosityLevel, info,\n  InvalidPDFException, isArrayBuffer, isSameOrigin, loadJpegStream,\n  MessageHandler, MissingPDFException, NativeImageDecoding, PageViewport,\n  PasswordException, StatTimer, stringToBytes, UnexpectedResponseException,\n  UnknownErrorException, Util, warn\n} from '../shared/util';\nimport {\n  DOMCanvasFactory, DOMCMapReaderFactory, getDefaultSetting,\n  RenderingCancelledException\n} from './dom_utils';\nimport { FontFaceObject, FontLoader } from './font_loader';\nimport { CanvasGraphics } from './canvas';\nimport globalScope from '../shared/global_scope';\nimport { Metadata } from './metadata';\nimport { PDFDataTransportStream } from './transport_stream';\nimport { WebGLContext } from './webgl';\n\nvar DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\n\nvar isWorkerDisabled = false;\nvar workerSrc;\nvar isPostMessageTransfersDisabled = false;\n\nvar pdfjsFilePath =\n  typeof PDFJSDev !== 'undefined' &&\n  PDFJSDev.test('PRODUCTION && !(MOZCENTRAL || FIREFOX)') &&\n  typeof document !== 'undefined' && document.currentScript ?\n    document.currentScript.src : null;\n\nvar fakeWorkerFilesLoader = null;\nvar useRequireEnsure = false;\nif (typeof PDFJSDev !== 'undefined' &&\n    PDFJSDev.test('GENERIC && !SINGLE_FILE')) {\n  // For GENERIC build we need add support of different fake file loaders\n  // for different  frameworks.\n  if (typeof window === 'undefined') {\n    // node.js - disable worker and set require.ensure.\n    isWorkerDisabled = true;\n    if (typeof __non_webpack_require__.ensure === 'undefined') {\n      __non_webpack_require__.ensure = __non_webpack_require__('node-ensure');\n    }\n    useRequireEnsure = true;\n  } else if (typeof __non_webpack_require__ !== 'undefined' &&\n             typeof __non_webpack_require__.ensure === 'function') {\n    useRequireEnsure = true;\n  }\n  if (typeof requirejs !== 'undefined' && requirejs.toUrl) {\n    workerSrc = requirejs.toUrl('pdfjs-dist/build/pdf.worker.js');\n  }\n  var dynamicLoaderSupported =\n    typeof requirejs !== 'undefined' && requirejs.load;\n  fakeWorkerFilesLoader = useRequireEnsure ? (function (callback) {\n    __non_webpack_require__.ensure([], function () {\n      var worker;\n      if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('LIB')) {\n        worker = __non_webpack_require__('../pdf.worker.js');\n      } else {\n        worker = __non_webpack_require__('./pdf.worker.js');\n      }\n      callback(worker.WorkerMessageHandler);\n    });\n  }) : dynamicLoaderSupported ? (function (callback) {\n    requirejs(['pdfjs-dist/build/pdf.worker'], function (worker) {\n      callback(worker.WorkerMessageHandler);\n    });\n  }) : null;\n}\n\n/** @type IPDFStream */\nvar PDFNetworkStream;\n\n/**\n * Sets PDFNetworkStream class to be used as alternative PDF data transport.\n * @param {IPDFStream} cls - the PDF data transport.\n */\nfunction setPDFNetworkStreamClass(cls) {\n  PDFNetworkStream = cls;\n}\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string}     url   - The URL of the PDF.\n * @property {TypedArray|Array|string} data - Binary PDF data. Use typed arrays\n *   (Uint8Array) to improve the memory usage. If PDF data is BASE64-encoded,\n *   use atob() to convert it to a binary string first.\n * @property {Object}     httpHeaders - Basic authentication headers.\n * @property {boolean}    withCredentials - Indicates whether or not cross-site\n *   Access-Control requests should be made using credentials such as cookies\n *   or authorization headers. The default is false.\n * @property {string}     password - For decrypting password-protected PDFs.\n * @property {TypedArray} initialData - A typed array with the first portion or\n *   all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number}     length - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} range\n * @property {number}     rangeChunkSize - Optional parameter to specify\n *   maximum number of bytes fetched per range request. The default value is\n *   2^16 = 65536.\n * @property {PDFWorker}  worker - The worker that will be used for the loading\n *   and parsing of the PDF data.\n * @property {string} docBaseUrl - (optional) The base URL of the document,\n *   used when attempting to recover valid absolute URLs for annotations, and\n *   outline items, that (incorrectly) only specify relative URLs.\n * @property {string} nativeImageDecoderSupport - (optional) Strategy for\n *   decoding certain (simple) JPEG images in the browser. This is useful for\n *   environments without DOM image and canvas support, such as e.g. Node.js.\n *   Valid values are 'decode', 'display' or 'none'; where 'decode' is intended\n *   for browsers with full image/canvas support, 'display' for environments\n *   with limited image support through stubs (useful for SVG conversion),\n *   and 'none' where JPEG images will be decoded entirely by PDF.js.\n *   The default value is 'decode'.\n * @property {Object} CMapReaderFactory - (optional) The factory that will be\n *   used when reading built-in CMap files. Providing a custom factory is useful\n *   for environments without `XMLHttpRequest` support, such as e.g. Node.js.\n *   The default value is {DOMCMapReaderFactory}.\n * @property {boolean} stopAtErrors - (optional) Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Array} streamTypes - Used stream types in the document (an item\n *   is set to true if specific stream ID was used in the document).\n * @property {Array} fontTypes - Used font type in the document (an item is set\n *   to true if specific font ID was used in the document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n * is used, which means it must follow the same origin rules that any XHR does\n * e.g. No cross domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src\n * Can be a url to where a PDF is located, a typed array (Uint8Array)\n * already populated with data or parameter object.\n *\n * @return {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  var task = new PDFDocumentLoadingTask();\n\n  var source;\n  if (typeof src === 'string') {\n    source = { url: src, };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src, };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src, };\n  } else {\n    if (typeof src !== 'object') {\n      throw new Error('Invalid parameter in getDocument, ' +\n                      'need either Uint8Array, string or a parameter object');\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        'Invalid parameter object: need either .data, .range or .url');\n    }\n\n    source = src;\n  }\n\n  var params = {};\n  var rangeTransport = null;\n  var worker = null;\n  var CMapReaderFactory = DOMCMapReaderFactory;\n\n  for (var key in source) {\n    if (key === 'url' && typeof window !== 'undefined') {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === 'range') {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === 'worker') {\n      worker = source[key];\n      continue;\n    } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      var pdfBytes = source[key];\n      if (typeof pdfBytes === 'string') {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (typeof pdfBytes === 'object' && pdfBytes !== null &&\n                 !isNaN(pdfBytes.length)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error('Invalid PDF binary data: either typed array, ' +\n                        'string or array-like object is expected in the ' +\n                        'data property.');\n      }\n      continue;\n    } else if (key === 'CMapReaderFactory') {\n      CMapReaderFactory = source[key];\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.ignoreErrors = params.stopAtErrors !== true;\n\n  const nativeImageDecoderValues = Object.values(NativeImageDecoding);\n  if (params.nativeImageDecoderSupport === undefined ||\n      !nativeImageDecoderValues.includes(params.nativeImageDecoderSupport)) {\n    params.nativeImageDecoderSupport = NativeImageDecoding.DECODE;\n  }\n\n  if (!worker) {\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global settings, using it.\n    var workerPort = getDefaultSetting('workerPort');\n    worker = workerPort ? PDFWorker.fromPort(workerPort) : new PDFWorker();\n    task._worker = worker;\n  }\n  var docId = task.docId;\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error('Loading aborted');\n    }\n    return _fetchDocument(worker, params, rangeTransport, docId).then(\n        function (workerId) {\n      if (task.destroyed) {\n        throw new Error('Loading aborted');\n      }\n\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new PDFDataTransportStream(params, rangeTransport);\n      } else if (!params.data) {\n        networkStream = new PDFNetworkStream(params);\n      }\n\n      var messageHandler = new MessageHandler(docId, workerId, worker.port);\n      messageHandler.postMessageTransfers = worker.postMessageTransfers;\n      var transport = new WorkerTransport(messageHandler, task, networkStream,\n                                          CMapReaderFactory);\n      task._transport = transport;\n      messageHandler.send('Ready', null);\n    });\n  }).catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId Unique document id, used as MessageHandler id.\n * @returns {Promise} The promise, which is resolved when worker id of\n *                    MessageHandler is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error('Worker was destroyed'));\n  }\n  let apiVersion =\n    typeof PDFJSDev !== 'undefined' ? PDFJSDev.eval('BUNDLE_VERSION') : null;\n\n  source.disableRange = getDefaultSetting('disableRange');\n  source.disableAutoFetch = getDefaultSetting('disableAutoFetch');\n  source.disableStream = getDefaultSetting('disableStream');\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n  }\n  return worker.messageHandler.sendWithPromise('GetDocRequest', {\n    docId,\n    apiVersion,\n    source: {\n      data: source.data,\n      url: source.url,\n      password: source.password,\n      disableAutoFetch: source.disableAutoFetch,\n      rangeChunkSize: source.rangeChunkSize,\n      length: source.length,\n    },\n    maxImageSize: getDefaultSetting('maxImageSize'),\n    disableFontFace: getDefaultSetting('disableFontFace'),\n    disableCreateObjectURL: getDefaultSetting('disableCreateObjectURL'),\n    postMessageTransfers: getDefaultSetting('postMessageTransfers') &&\n                          !isPostMessageTransfersDisabled,\n    docBaseUrl: source.docBaseUrl,\n    nativeImageDecoderSupport: source.nativeImageDecoderSupport,\n    ignoreErrors: source.ignoreErrors,\n    isEvalSupported: getDefaultSetting('isEvalSupported'),\n  }).then(function (workerId) {\n    if (worker.destroyed) {\n      throw new Error('Worker was destroyed');\n    }\n    return workerId;\n  });\n}\n\n/**\n * PDF document loading operation.\n * @class\n * @alias PDFDocumentLoadingTask\n */\nvar PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  var nextDocumentId = 0;\n\n  /** @constructs PDFDocumentLoadingTask */\n  function PDFDocumentLoadingTask() {\n    this._capability = createPromiseCapability();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique document loading task id -- used in MessageHandlers.\n     * @type {string}\n     */\n    this.docId = 'd' + (nextDocumentId++);\n\n    /**\n     * Shows if loading task is destroyed.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if wrong or no password was provided.\n     * The callback receives two parameters: function that needs to be called\n     * with new password and reason (see {PasswordResponses}).\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar). The callback receives\n     * an {Object} with the properties: {number} loaded and {number} total.\n     */\n    this.onProgress = null;\n\n    /**\n     * Callback to when unsupported feature is used. The callback receives\n     * an {UNSUPPORTED_FEATURES} argument.\n     */\n    this.onUnsupportedFeature = null;\n  }\n\n  PDFDocumentLoadingTask.prototype =\n      /** @lends PDFDocumentLoadingTask.prototype */ {\n    /**\n     * @return {Promise}\n     */\n    get promise() {\n      return this._capability.promise;\n    },\n\n    /**\n     * Aborts all network requests and destroys worker.\n     * @return {Promise} A promise that is resolved after destruction activity\n     *                   is completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      var transportDestroyed = !this._transport ? Promise.resolve() :\n        this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    },\n\n    /**\n     * Registers callbacks to indicate the document loading completion.\n     *\n     * @param {function} onFulfilled The callback for the loading completion.\n     * @param {function} onRejected The callback for the loading failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    },\n  };\n\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n * @class\n * @alias PDFDataRangeTransport\n * @param {number} length\n * @param {Uint8Array} initialData\n */\nvar PDFDataRangeTransport = (function pdfDataRangeTransportClosure() {\n  function PDFDataRangeTransport(length, initialData) {\n    this.length = length;\n    this.initialData = initialData;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n  PDFDataRangeTransport.prototype =\n      /** @lends PDFDataRangeTransport.prototype */ {\n    addRangeListener:\n        function PDFDataRangeTransport_addRangeListener(listener) {\n      this._rangeListeners.push(listener);\n    },\n\n    addProgressListener:\n        function PDFDataRangeTransport_addProgressListener(listener) {\n      this._progressListeners.push(listener);\n    },\n\n    addProgressiveReadListener:\n        function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n      this._progressiveReadListeners.push(listener);\n    },\n\n    onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n      var listeners = this._rangeListeners;\n      for (var i = 0, n = listeners.length; i < n; ++i) {\n        listeners[i](begin, chunk);\n      }\n    },\n\n    onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n      this._readyCapability.promise.then(() => {\n        var listeners = this._progressListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](loaded);\n        }\n      });\n    },\n\n    onDataProgressiveRead:\n        function PDFDataRangeTransport_onDataProgress(chunk) {\n      this._readyCapability.promise.then(() => {\n        var listeners = this._progressiveReadListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](chunk);\n        }\n      });\n    },\n\n    transportReady: function PDFDataRangeTransport_transportReady() {\n      this._readyCapability.resolve();\n    },\n\n    requestDataRange:\n        function PDFDataRangeTransport_requestDataRange(begin, end) {\n      throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n    },\n\n    abort: function PDFDataRangeTransport_abort() {\n    },\n  };\n  return PDFDataRangeTransport;\n})();\n\n/**\n * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n * properties that can be read synchronously.\n * @class\n * @alias PDFDocumentProxy\n */\nvar PDFDocumentProxy = (function PDFDocumentProxyClosure() {\n  function PDFDocumentProxy(pdfInfo, transport, loadingTask) {\n    this.pdfInfo = pdfInfo;\n    this.transport = transport;\n    this.loadingTask = loadingTask;\n  }\n  PDFDocumentProxy.prototype = /** @lends PDFDocumentProxy.prototype */ {\n    /**\n     * @return {number} Total number of pages the PDF contains.\n     */\n    get numPages() {\n      return this.pdfInfo.numPages;\n    },\n    /**\n     * @return {string} A unique ID to identify a PDF. Not guaranteed to be\n     * unique.\n     */\n    get fingerprint() {\n      return this.pdfInfo.fingerprint;\n    },\n    /**\n     * @param {number} pageNumber The page number to get. The first page is 1.\n     * @return {Promise} A promise that is resolved with a {@link PDFPageProxy}\n     * object.\n     */\n    getPage(pageNumber) {\n      return this.transport.getPage(pageNumber);\n    },\n    /**\n     * @param {{num: number, gen: number}} ref The page reference. Must have\n     *   the 'num' and 'gen' properties.\n     * @return {Promise} A promise that is resolved with the page index that is\n     * associated with the reference.\n     */\n    getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n      return this.transport.getPageIndex(ref);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named destinations to reference numbers.\n     *\n     * This can be slow for large documents: use getDestination instead\n     */\n    getDestinations: function PDFDocumentProxy_getDestinations() {\n      return this.transport.getDestinations();\n    },\n    /**\n     * @param {string} id The named destination to get.\n     * @return {Promise} A promise that is resolved with all information\n     * of the given named destination.\n     */\n    getDestination: function PDFDocumentProxy_getDestination(id) {\n      return this.transport.getDestination(id);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with:\n     *   an Array containing the pageLabels that correspond to the pageIndexes,\n     *   or `null` when no pageLabels are present in the PDF file.\n     */\n    getPageLabels: function PDFDocumentProxy_getPageLabels() {\n      return this.transport.getPageLabels();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a {string} containing\n     *   the PageMode name.\n     */\n    getPageMode() {\n      return this.transport.getPageMode();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named attachments to their content.\n     */\n    getAttachments: function PDFDocumentProxy_getAttachments() {\n      return this.transport.getAttachments();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} of all the\n     * JavaScript strings in the name tree, or `null` if no JavaScript exists.\n     */\n    getJavaScript() {\n      return this.transport.getJavaScript();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} that is a\n     * tree outline (if it has one) of the PDF. The tree is in the format of:\n     * [\n     *  {\n     *   title: string,\n     *   bold: boolean,\n     *   italic: boolean,\n     *   color: rgb Uint8Array,\n     *   dest: dest obj,\n     *   url: string,\n     *   items: array of more items like this\n     *  },\n     *  ...\n     * ].\n     */\n    getOutline: function PDFDocumentProxy_getOutline() {\n      return this.transport.getOutline();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Object} that has\n     * info and metadata properties.  Info is an {Object} filled with anything\n     * available in the information dictionary and similarly metadata is a\n     * {Metadata} object with information from the metadata section of the PDF.\n     */\n    getMetadata: function PDFDocumentProxy_getMetadata() {\n      return this.transport.getMetadata();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a TypedArray that has\n     * the raw data from the PDF.\n     */\n    getData: function PDFDocumentProxy_getData() {\n      return this.transport.getData();\n    },\n    /**\n     * @return {Promise} A promise that is resolved when the document's data\n     * is loaded. It is resolved with an {Object} that contains the length\n     * property that indicates size of the PDF data in bytes.\n     */\n    getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n      return this.transport.downloadInfoCapability.promise;\n    },\n    /**\n     * @return {Promise} A promise this is resolved with current stats about\n     * document structures (see {@link PDFDocumentStats}).\n     */\n    getStats: function PDFDocumentProxy_getStats() {\n      return this.transport.getStats();\n    },\n    /**\n     * Cleans up resources allocated by the document, e.g. created @font-face.\n     */\n    cleanup: function PDFDocumentProxy_cleanup() {\n      this.transport.startCleanup();\n    },\n    /**\n     * Destroys current document instance and terminates worker.\n     */\n    destroy: function PDFDocumentProxy_destroy() {\n      return this.loadingTask.destroy();\n    },\n  };\n  return PDFDocumentProxy;\n})();\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {array} items - array of {@link TextItem}\n * @property {Object} styles - {@link TextStyles} objects, indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - text content.\n * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {array} transform - transformation matrix.\n * @property {number} width - width in device space.\n * @property {number} height - height in device space.\n * @property {string} fontName - font name used by pdf.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - font ascent.\n * @property {number} descent - font descent.\n * @property {boolean} vertical - text is in vertical mode.\n * @property {string} fontFamily - possible font family\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *                    can be either 'display' (viewable annotations) or 'print'\n *                    (printable annotations).\n *                    If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by\n *                                calling of PDFPage.getViewport method.\n * @property {string} intent - Rendering intent, can be 'display' or 'print'\n *                    (default value is 'display').\n * @property {boolean} renderInteractiveForms - (optional) Whether or not\n *                     interactive form elements are rendered in the display\n *                     layer. If so, we do not render them on canvas as well.\n * @property {Array}  transform - (optional) Additional transform, applied\n *                    just before viewport transform.\n * @property {Object} imageLayer - (optional) An object that has beginLayout,\n *                    endLayout and appendImage functions.\n * @property {Object} canvasFactory - (optional) The factory that will be used\n *                    when creating canvases. The default value is\n *                    {DOMCanvasFactory}.\n * @property {Object} background - (optional) Background to use for the canvas.\n *                    Can use any valid canvas.fillStyle: A DOMString parsed as\n *                    CSS <color> value, a CanvasGradient object (a linear or\n *                    radial gradient) or a CanvasPattern object (a repetitive\n *                    image). The default value is 'rgb(255,255,255)'.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array} fnArray - Array containing the operator functions.\n * @property {Array} argsArray - Array containing the arguments of the\n *                               functions.\n */\n\n/**\n * Proxy to a PDFPage in the worker thread.\n * @class\n * @alias PDFPageProxy\n */\nvar PDFPageProxy = (function PDFPageProxyClosure() {\n  function PDFPageProxy(pageIndex, pageInfo, transport) {\n    this.pageIndex = pageIndex;\n    this.pageInfo = pageInfo;\n    this.transport = transport;\n    this.stats = new StatTimer();\n    this.stats.enabled = getDefaultSetting('enableStats');\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this.intentStates = Object.create(null);\n    this.destroyed = false;\n  }\n  PDFPageProxy.prototype = /** @lends PDFPageProxy.prototype */ {\n    /**\n     * @return {number} Page number of the page. First page is 1.\n     */\n    get pageNumber() {\n      return this.pageIndex + 1;\n    },\n    /**\n     * @return {number} The number of degrees the page is rotated clockwise.\n     */\n    get rotate() {\n      return this.pageInfo.rotate;\n    },\n    /**\n     * @return {Object} The reference that points to this page. It has 'num' and\n     * 'gen' properties.\n     */\n    get ref() {\n      return this.pageInfo.ref;\n    },\n    /**\n     * @return {number} The default size of units in 1/72nds of an inch.\n     */\n    get userUnit() {\n      return this.pageInfo.userUnit;\n    },\n    /**\n     * @return {Array} An array of the visible portion of the PDF page in the\n     * user space units - [x1, y1, x2, y2].\n     */\n    get view() {\n      return this.pageInfo.view;\n    },\n    /**\n     * @param {number} scale The desired scale of the viewport.\n     * @param {number} rotate Degrees to rotate the viewport. If omitted this\n     * defaults to the page rotation.\n     * @return {PageViewport} Contains 'width' and 'height' properties\n     * along with transforms required for rendering.\n     */\n    getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n      if (arguments.length < 2) {\n        rotate = this.rotate;\n      }\n      return new PageViewport(this.view, scale, rotate, 0, 0);\n    },\n    /**\n     * @param {GetAnnotationsParameters} params - Annotation parameters.\n     * @return {Promise} A promise that is resolved with an {Array} of the\n     * annotation objects.\n     */\n    getAnnotations: function PDFPageProxy_getAnnotations(params) {\n      var intent = (params && params.intent) || null;\n\n      if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n        this.annotationsPromise = this.transport.getAnnotations(this.pageIndex,\n                                                                intent);\n        this.annotationsIntent = intent;\n      }\n      return this.annotationsPromise;\n    },\n    /**\n     * Begins the process of rendering a page to the desired context.\n     * @param {RenderParameters} params Page render parameters.\n     * @return {RenderTask} An object that contains the promise, which\n     *                      is resolved when the page finishes rendering.\n     */\n    render: function PDFPageProxy_render(params) {\n      var stats = this.stats;\n      stats.time('Overall');\n\n      // If there was a pending destroy cancel it so no cleanup happens during\n      // this call to render.\n      this.pendingCleanup = false;\n\n      var renderingIntent = (params.intent === 'print' ? 'print' : 'display');\n      var canvasFactory = params.canvasFactory || new DOMCanvasFactory();\n      let webGLContext = new WebGLContext({\n        // TODO: When moving this parameter from `PDFJS` to {RenderParameters},\n        //       change its name to `enableWebGL` instead.\n        enable: !getDefaultSetting('disableWebGL'),\n      });\n\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = Object.create(null);\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      // If there's no displayReadyCapability yet, then the operatorList\n      // was never requested before. Make the request and create the promise.\n      if (!intentState.displayReadyCapability) {\n        intentState.receivingOperatorList = true;\n        intentState.displayReadyCapability = createPromiseCapability();\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false,\n        };\n\n        this.stats.time('Page Request');\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageNumber - 1,\n          intent: renderingIntent,\n          renderInteractiveForms: (params.renderInteractiveForms === true),\n        });\n      }\n\n      var complete = (error) => {\n        var i = intentState.renderTasks.indexOf(internalRenderTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n\n        if (this.cleanupAfterRender) {\n          this.pendingCleanup = true;\n        }\n        this._tryCleanup();\n\n        if (error) {\n          internalRenderTask.capability.reject(error);\n        } else {\n          internalRenderTask.capability.resolve();\n        }\n        stats.timeEnd('Rendering');\n        stats.timeEnd('Overall');\n      };\n\n      var internalRenderTask = new InternalRenderTask(complete, params,\n                                                      this.objs,\n                                                      this.commonObjs,\n                                                      intentState.operatorList,\n                                                      this.pageNumber,\n                                                      canvasFactory,\n                                                      webGLContext);\n      internalRenderTask.useRequestAnimationFrame = renderingIntent !== 'print';\n      if (!intentState.renderTasks) {\n        intentState.renderTasks = [];\n      }\n      intentState.renderTasks.push(internalRenderTask);\n      var renderTask = internalRenderTask.task;\n\n      intentState.displayReadyCapability.promise.then((transparency) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        stats.time('Rendering');\n        internalRenderTask.initializeGraphics(transparency);\n        internalRenderTask.operatorListChanged();\n      }).catch(complete);\n\n      return renderTask;\n    },\n\n    /**\n     * @return {Promise} A promise resolved with an {@link PDFOperatorList}\n     *   object that represents page's operator list.\n     */\n    getOperatorList: function PDFPageProxy_getOperatorList() {\n      function operatorListChanged() {\n        if (intentState.operatorList.lastChunk) {\n          intentState.opListReadCapability.resolve(intentState.operatorList);\n\n          var i = intentState.renderTasks.indexOf(opListTask);\n          if (i >= 0) {\n            intentState.renderTasks.splice(i, 1);\n          }\n        }\n      }\n\n      var renderingIntent = 'oplist';\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = Object.create(null);\n      }\n      var intentState = this.intentStates[renderingIntent];\n      var opListTask;\n\n      if (!intentState.opListReadCapability) {\n        opListTask = {};\n        opListTask.operatorListChanged = operatorListChanged;\n        intentState.receivingOperatorList = true;\n        intentState.opListReadCapability = createPromiseCapability();\n        intentState.renderTasks = [];\n        intentState.renderTasks.push(opListTask);\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false,\n        };\n\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageIndex,\n          intent: renderingIntent,\n        });\n      }\n      return intentState.opListReadCapability.promise;\n    },\n\n    /**\n     * @param {getTextContentParameters} params - getTextContent parameters.\n     * @return {ReadableStream} ReadableStream to read textContent chunks.\n     */\n    streamTextContent(params = {}) {\n      const TEXT_CONTENT_CHUNK_SIZE = 100;\n      return this.transport.messageHandler.sendWithStream('GetTextContent', {\n        pageIndex: this.pageNumber - 1,\n        normalizeWhitespace: (params.normalizeWhitespace === true),\n        combineTextItems: (params.disableCombineTextItems !== true),\n      }, {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      });\n    },\n\n    /**\n     * @param {getTextContentParameters} params - getTextContent parameters.\n     * @return {Promise} That is resolved a {@link TextContent}\n     * object that represent the page text content.\n     */\n    getTextContent: function PDFPageProxy_getTextContent(params) {\n      params = params || {};\n      let readableStream = this.streamTextContent(params);\n\n      return new Promise(function(resolve, reject) {\n        function pump() {\n          reader.read().then(function({ value, done, }) {\n            if (done) {\n              resolve(textContent);\n              return;\n            }\n            Util.extendObj(textContent.styles, value.styles);\n            Util.appendToArray(textContent.items, value.items);\n            pump();\n          }, reject);\n        }\n\n        let reader = readableStream.getReader();\n        let textContent = {\n          items: [],\n          styles: Object.create(null),\n        };\n\n        pump();\n      });\n    },\n\n    /**\n     * Destroys page object.\n     */\n    _destroy: function PDFPageProxy_destroy() {\n      this.destroyed = true;\n      this.transport.pageCache[this.pageIndex] = null;\n\n      var waitOn = [];\n      Object.keys(this.intentStates).forEach(function(intent) {\n        if (intent === 'oplist') {\n          // Avoid errors below, since the renderTasks are just stubs.\n          return;\n        }\n        var intentState = this.intentStates[intent];\n        intentState.renderTasks.forEach(function(renderTask) {\n          var renderCompleted = renderTask.capability.promise.\n            catch(function () {}); // ignoring failures\n          waitOn.push(renderCompleted);\n          renderTask.cancel();\n        });\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingCleanup = false;\n      return Promise.all(waitOn);\n    },\n\n    /**\n     * Cleans up resources allocated by the page.\n     */\n    cleanup: function PDFPageProxy_cleanup() {\n      this.pendingCleanup = true;\n      this._tryCleanup();\n    },\n    /**\n     * For internal use only. Attempts to clean up if rendering is in a state\n     * where that's possible.\n     * @ignore\n     */\n    _tryCleanup: function PDFPageProxy_tryCleanup() {\n      if (!this.pendingCleanup ||\n          Object.keys(this.intentStates).some(function(intent) {\n            var intentState = this.intentStates[intent];\n            return (intentState.renderTasks.length !== 0 ||\n                    intentState.receivingOperatorList);\n          }, this)) {\n        return;\n      }\n\n      Object.keys(this.intentStates).forEach(function(intent) {\n        delete this.intentStates[intent];\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingCleanup = false;\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _startRenderPage: function PDFPageProxy_startRenderPage(transparency,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      // TODO Refactor RenderPageRequest to separate rendering\n      // and operator list logic\n      if (intentState.displayReadyCapability) {\n        intentState.displayReadyCapability.resolve(transparency);\n      }\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      var i, ii;\n      // Add the new chunk to the current operator list.\n      for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n        intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n        intentState.operatorList.argsArray.push(\n          operatorListChunk.argsArray[i]);\n      }\n      intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n      // Notify all the rendering tasks there are more operators to be consumed.\n      for (i = 0; i < intentState.renderTasks.length; i++) {\n        intentState.renderTasks[i].operatorListChanged();\n      }\n\n      if (operatorListChunk.lastChunk) {\n        intentState.receivingOperatorList = false;\n        this._tryCleanup();\n      }\n    },\n  };\n  return PDFPageProxy;\n})();\n\nclass LoopbackPort {\n  constructor(defer) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== 'object' || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) { // already cloned the object\n        return cloned.get(value);\n      }\n      var result;\n      var buffer;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        var transferable = transfers && transfers.indexOf(buffer) >= 0;\n        if (value === buffer) {\n          // Special case when we are faking typed arrays in compatibility.js.\n          result = value;\n        } else if (transferable) {\n          result = new value.constructor(buffer, value.byteOffset,\n                                         value.byteLength);\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (var i in value) {\n        var desc, p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === 'undefined' ||\n            typeof desc.value === 'function') {\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(function (listener) {\n        listener.call(this, { data: obj, });\n      }, this);\n      return;\n    }\n\n    var cloned = new WeakMap();\n    var e = { data: cloneValue(obj), };\n    this._deferred.then(() => {\n      this._listeners.forEach(function (listener) {\n        listener.call(this, e);\n      }, this);\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    var i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners = [];\n  }\n}\n\n/**\n * PDF.js web worker abstraction, it controls instantiation of PDF documents and\n * WorkerTransport for them.  If creation of a web worker is not possible,\n * a \"fake\" worker will be used instead.\n * @class\n */\nvar PDFWorker = (function PDFWorkerClosure() {\n  let nextFakeWorkerId = 0;\n\n  function getWorkerSrc() {\n    if (typeof workerSrc !== 'undefined') {\n      return workerSrc;\n    }\n    if (getDefaultSetting('workerSrc')) {\n      return getDefaultSetting('workerSrc');\n    }\n    if (typeof PDFJSDev !== 'undefined' &&\n        PDFJSDev.test('PRODUCTION && !(MOZCENTRAL || FIREFOX)') &&\n        pdfjsFilePath) {\n      return pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, '.worker$1$2');\n    }\n    throw new Error('No PDFJS.workerSrc specified');\n  }\n\n  let fakeWorkerFilesLoadedCapability;\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    var WorkerMessageHandler;\n    if (fakeWorkerFilesLoadedCapability) {\n      return fakeWorkerFilesLoadedCapability.promise;\n    }\n    fakeWorkerFilesLoadedCapability = createPromiseCapability();\n    // In the developer build load worker_loader which in turn loads all the\n    // other files and resolves the promise. In production only the\n    // pdf.worker.js file is needed.\n    if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('PRODUCTION')) {\n      if (typeof SystemJS === 'object') {\n        SystemJS.import('pdfjs/core/worker').then((worker) => {\n          WorkerMessageHandler = worker.WorkerMessageHandler;\n          fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n        });\n      } else if (typeof require === 'function') {\n        var worker = require('../core/worker.js');\n        WorkerMessageHandler = worker.WorkerMessageHandler;\n        fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n      } else {\n        throw new Error(\n          'SystemJS or CommonJS must be used to load fake worker.');\n      }\n    } else if (PDFJSDev.test('SINGLE_FILE')) {\n      var pdfjsCoreWorker = require('../core/worker.js');\n      WorkerMessageHandler = pdfjsCoreWorker.WorkerMessageHandler;\n      fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n    } else {\n      var loader = fakeWorkerFilesLoader || function (callback) {\n        Util.loadScript(getWorkerSrc(), function () {\n          callback(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler);\n        });\n      };\n      loader(fakeWorkerFilesLoadedCapability.resolve);\n    }\n    return fakeWorkerFilesLoadedCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    var wrapper = 'importScripts(\\'' + url + '\\');';\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  let pdfWorkerPorts = new WeakMap();\n\n  function PDFWorker(name, port) {\n    if (port && pdfWorkerPorts.has(port)) {\n      throw new Error('Cannot use more than one PDFWorker per port');\n    }\n\n    this.name = name;\n    this.destroyed = false;\n    this.postMessageTransfers = true;\n\n    this._readyCapability = createPromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (port) {\n      pdfWorkerPorts.set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n\n    this._initialize();\n  }\n\n  PDFWorker.prototype = /** @lends PDFWorker.prototype */ {\n    get promise() {\n      return this._readyCapability.promise;\n    },\n\n    get port() {\n      return this._port;\n    },\n\n    get messageHandler() {\n      return this._messageHandler;\n    },\n\n    _initializeFromPort: function PDFWorker_initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler('main', 'worker', port);\n      this._messageHandler.on('ready', function () {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    },\n\n    _initialize: function PDFWorker_initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if ((typeof PDFJSDev === 'undefined' || !PDFJSDev.test('SINGLE_FILE')) &&\n          !isWorkerDisabled && !getDefaultSetting('disableWorker') &&\n          typeof Worker !== 'undefined') {\n        var workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('GENERIC') &&\n              !isSameOrigin(window.location.href, workerSrc)) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href);\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          var worker = new Worker(workerSrc);\n          var messageHandler = new MessageHandler('main', 'worker', worker);\n          var terminateEarly = () => {\n            worker.removeEventListener('error', onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error('Worker was destroyed'));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          var onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener('error', onWorkerError);\n\n          messageHandler.on('test', (data) => {\n            worker.removeEventListener('error', onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            var supportTypedArray = data && data.supportTypedArray;\n            if (supportTypedArray) {\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n                isPostMessageTransfersDisabled = true;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send('configure', {\n                verbosity: getVerbosityLevel(),\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on('ready', (data) => {\n            worker.removeEventListener('error', onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          var sendTest = function () {\n            var postMessageTransfers =\n              getDefaultSetting('postMessageTransfers') &&\n              !isPostMessageTransfersDisabled;\n            var testObj = new Uint8Array([postMessageTransfers ? 255 : 0]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send('test', testObj, [testObj.buffer]);\n            } catch (ex) {\n              info('Cannot use postMessage transfers');\n              testObj[0] = 0;\n              messageHandler.send('test', testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info('The worker has been disabled.');\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    },\n\n    _setupFakeWorker: function PDFWorker_setupFakeWorker() {\n      if (!isWorkerDisabled && !getDefaultSetting('disableWorker')) {\n        warn('Setting up fake worker.');\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal().then((WorkerMessageHandler) => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error('Worker was destroyed'));\n          return;\n        }\n\n        // We cannot turn on proper fake port simulation (this includes\n        // structured cloning) when typed arrays are not supported. Relying\n        // on a chance that messages will be sent in proper order.\n        var isTypedArraysPresent = Uint8Array !== Float32Array;\n        var port = new LoopbackPort(isTypedArraysPresent);\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        var id = 'fake' + (nextFakeWorkerId++);\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        var workerHandler = new MessageHandler(id + '_worker', id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        var messageHandler = new MessageHandler(id, id + '_worker', port);\n        this._messageHandler = messageHandler;\n        this._readyCapability.resolve();\n      });\n    },\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy: function PDFWorker_destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    },\n  };\n\n  PDFWorker.fromPort = function (port) {\n    if (pdfWorkerPorts.has(port)) {\n      return pdfWorkerPorts.get(port);\n    }\n    return new PDFWorker(null, port);\n  };\n\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar WorkerTransport = (function WorkerTransportClosure() {\n  function WorkerTransport(messageHandler, loadingTask, networkStream,\n                           CMapReaderFactory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader(loadingTask.docId);\n    this.CMapReaderFactory = new CMapReaderFactory({\n      baseUrl: getDefaultSetting('cMapUrl'),\n      isCompressed: getDefaultSetting('cMapPacked'),\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n  WorkerTransport.prototype = {\n    destroy: function WorkerTransport_destroy() {\n      if (this.destroyCapability) {\n        return this.destroyCapability.promise;\n      }\n\n      this.destroyed = true;\n      this.destroyCapability = createPromiseCapability();\n\n      if (this._passwordCapability) {\n        this._passwordCapability.reject(\n          new Error('Worker was destroyed during onPassword callback'));\n      }\n\n      var waitOn = [];\n      // We need to wait for all renderings to be completed, e.g.\n      // timeout/rAF can take a long time.\n      this.pageCache.forEach(function (page) {\n        if (page) {\n          waitOn.push(page._destroy());\n        }\n      });\n      this.pageCache = [];\n      this.pagePromises = [];\n      // We also need to wait for the worker to finish its long running tasks.\n      var terminated = this.messageHandler.sendWithPromise('Terminate', null);\n      waitOn.push(terminated);\n      Promise.all(waitOn).then(() => {\n        this.fontLoader.clear();\n        if (this._networkStream) {\n          this._networkStream.cancelAllRequests();\n        }\n\n        if (this.messageHandler) {\n          this.messageHandler.destroy();\n          this.messageHandler = null;\n        }\n        this.destroyCapability.resolve();\n      }, this.destroyCapability.reject);\n      return this.destroyCapability.promise;\n    },\n\n    setupMessageHandler: function WorkerTransport_setupMessageHandler() {\n      var messageHandler = this.messageHandler;\n      var loadingTask = this.loadingTask;\n\n      messageHandler.on('GetReader', function(data, sink) {\n        assert(this._networkStream);\n        this._fullReader = this._networkStream.getFullReader();\n        this._fullReader.onProgress = (evt) => {\n          this._lastProgress = {\n            loaded: evt.loaded,\n            total: evt.total,\n          };\n        };\n        sink.onPull = () => {\n          this._fullReader.read().then(function({ value, done, }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          }).catch((reason) => {\n            sink.error(reason);\n          });\n        };\n\n        sink.onCancel = (reason) => {\n          this._fullReader.cancel(reason);\n        };\n      }, this);\n\n      messageHandler.on('ReaderHeadersReady', function(data) {\n        let headersCapability = createPromiseCapability();\n        let fullReader = this._fullReader;\n        fullReader.headersReady.then(() => {\n          // If stream or range are disabled, it's our only way to report\n          // loading progress.\n          if (!fullReader.isStreamingSupported ||\n              !fullReader.isRangeSupported) {\n            if (this._lastProgress) {\n              let loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress(this._lastProgress);\n              }\n            }\n            fullReader.onProgress = (evt) => {\n              let loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress({\n                  loaded: evt.loaded,\n                  total: evt.total,\n                });\n              }\n            };\n          }\n\n          headersCapability.resolve({\n            isStreamingSupported: fullReader.isStreamingSupported,\n            isRangeSupported: fullReader.isRangeSupported,\n            contentLength: fullReader.contentLength,\n          });\n        }, headersCapability.reject);\n\n        return headersCapability.promise;\n      }, this);\n\n      messageHandler.on('GetRangeReader', function(data, sink) {\n        assert(this._networkStream);\n        let _rangeReader =\n          this._networkStream.getRangeReader(data.begin, data.end);\n\n        sink.onPull = () => {\n          _rangeReader.read().then(function({ value, done, }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          }).catch((reason) => {\n            sink.error(reason);\n          });\n        };\n\n        sink.onCancel = (reason) => {\n          _rangeReader.cancel(reason);\n        };\n      }, this);\n\n      messageHandler.on('GetDoc', function transportDoc(data) {\n        var pdfInfo = data.pdfInfo;\n        this.numPages = data.pdfInfo.numPages;\n        var loadingTask = this.loadingTask;\n        var pdfDocument = new PDFDocumentProxy(pdfInfo, this, loadingTask);\n        this.pdfDocument = pdfDocument;\n        loadingTask._capability.resolve(pdfDocument);\n      }, this);\n\n      messageHandler.on('PasswordRequest',\n                        function transportPasswordRequest(exception) {\n        this._passwordCapability = createPromiseCapability();\n\n        if (loadingTask.onPassword) {\n          var updatePassword = (password) => {\n            this._passwordCapability.resolve({\n              password,\n            });\n          };\n          loadingTask.onPassword(updatePassword, exception.code);\n        } else {\n          this._passwordCapability.reject(\n            new PasswordException(exception.message, exception.code));\n        }\n        return this._passwordCapability.promise;\n      }, this);\n\n      messageHandler.on('PasswordException',\n                        function transportPasswordException(exception) {\n        loadingTask._capability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n        this.loadingTask._capability.reject(\n          new InvalidPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n        this.loadingTask._capability.reject(\n          new MissingPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('UnexpectedResponse',\n                        function transportUnexpectedResponse(exception) {\n        this.loadingTask._capability.reject(\n          new UnexpectedResponseException(exception.message, exception.status));\n      }, this);\n\n      messageHandler.on('UnknownError',\n                        function transportUnknownError(exception) {\n        this.loadingTask._capability.reject(\n          new UnknownErrorException(exception.message, exception.details));\n      }, this);\n\n      messageHandler.on('DataLoaded', function transportPage(data) {\n        this.downloadInfoCapability.resolve(data);\n      }, this);\n\n      messageHandler.on('PDFManagerReady', function transportPage(data) {\n      }, this);\n\n      messageHandler.on('StartRenderPage', function transportRender(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        var page = this.pageCache[data.pageIndex];\n\n        page.stats.timeEnd('Page Request');\n        page._startRenderPage(data.transparency, data.intent);\n      }, this);\n\n      messageHandler.on('RenderPageChunk', function transportRender(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        var page = this.pageCache[data.pageIndex];\n\n        page._renderPageChunk(data.operatorList, data.intent);\n      }, this);\n\n      messageHandler.on('commonobj', function transportObj(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var id = data[0];\n        var type = data[1];\n        if (this.commonObjs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'Font':\n            var exportedData = data[2];\n\n            if ('error' in exportedData) {\n              var exportedError = exportedData.error;\n              warn('Error during font loading: ' + exportedError);\n              this.commonObjs.resolve(id, exportedError);\n              break;\n            }\n            var fontRegistry = null;\n            if (getDefaultSetting('pdfBug') && globalScope.FontInspector &&\n                globalScope['FontInspector'].enabled) {\n              fontRegistry = {\n                registerFont(font, url) {\n                  globalScope['FontInspector'].fontAdded(font, url);\n                },\n              };\n            }\n            var font = new FontFaceObject(exportedData, {\n              isEvalSupported: getDefaultSetting('isEvalSupported'),\n              disableFontFace: getDefaultSetting('disableFontFace'),\n              fontRegistry,\n            });\n            var fontReady = (fontObjs) => {\n              this.commonObjs.resolve(id, font);\n            };\n\n            this.fontLoader.bind([font], fontReady);\n            break;\n          case 'FontPath':\n            this.commonObjs.resolve(id, data[2]);\n            break;\n          default:\n            throw new Error(`Got unknown common object type ${type}`);\n        }\n      }, this);\n\n      messageHandler.on('obj', function transportObj(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var id = data[0];\n        var pageIndex = data[1];\n        var type = data[2];\n        var pageProxy = this.pageCache[pageIndex];\n        var imageData;\n        if (pageProxy.objs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'JpegStream':\n            imageData = data[3];\n            loadJpegStream(id, imageData, pageProxy.objs);\n            break;\n          case 'Image':\n            imageData = data[3];\n            pageProxy.objs.resolve(id, imageData);\n\n            // heuristics that will allow not to store large data\n            var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n            if (imageData && 'data' in imageData &&\n                imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n              pageProxy.cleanupAfterRender = true;\n            }\n            break;\n          default:\n            throw new Error(`Got unknown object type ${type}`);\n        }\n      }, this);\n\n      messageHandler.on('DocProgress', function transportDocProgress(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onProgress) {\n          loadingTask.onProgress({\n            loaded: data.loaded,\n            total: data.total,\n          });\n        }\n      }, this);\n\n      messageHandler.on('PageError', function transportError(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var page = this.pageCache[data.pageNum - 1];\n        var intentState = page.intentStates[data.intent];\n\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(data.error);\n        } else {\n          throw new Error(data.error);\n        }\n\n        if (intentState.operatorList) {\n          // Mark operator list as complete.\n          intentState.operatorList.lastChunk = true;\n          for (var i = 0; i < intentState.renderTasks.length; i++) {\n            intentState.renderTasks[i].operatorListChanged();\n          }\n        }\n      }, this);\n\n      messageHandler.on('UnsupportedFeature', function(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        let loadingTask = this.loadingTask;\n        if (loadingTask.onUnsupportedFeature) {\n          loadingTask.onUnsupportedFeature(data.featureId);\n        }\n      }, this);\n\n      messageHandler.on('JpegDecode', function(data) {\n        if (this.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n\n        if (typeof document === 'undefined') {\n          // Make sure that this code is not executing in node.js, as\n          // it's using DOM image, and there is no library to support that.\n          return Promise.reject(new Error('\"document\" is not defined.'));\n        }\n\n        var imageUrl = data[0];\n        var components = data[1];\n        if (components !== 3 && components !== 1) {\n          return Promise.reject(\n            new Error('Only 3 components or 1 component can be returned'));\n        }\n\n        return new Promise(function (resolve, reject) {\n          var img = new Image();\n          img.onload = function () {\n            var width = img.width;\n            var height = img.height;\n            var size = width * height;\n            var rgbaLength = size * 4;\n            var buf = new Uint8Array(size * components);\n            var tmpCanvas = document.createElement('canvas');\n            tmpCanvas.width = width;\n            tmpCanvas.height = height;\n            var tmpCtx = tmpCanvas.getContext('2d');\n            tmpCtx.drawImage(img, 0, 0);\n            var data = tmpCtx.getImageData(0, 0, width, height).data;\n            var i, j;\n\n            if (components === 3) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                buf[j] = data[i];\n                buf[j + 1] = data[i + 1];\n                buf[j + 2] = data[i + 2];\n              }\n            } else if (components === 1) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                buf[j] = data[i];\n              }\n            }\n            resolve({ data: buf, width, height, });\n          };\n          img.onerror = function () {\n            reject(new Error('JpegDecode failed to load image'));\n          };\n          img.src = imageUrl;\n        });\n      }, this);\n\n      messageHandler.on('FetchBuiltInCMap', function (data) {\n        if (this.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n        return this.CMapReaderFactory.fetch({\n          name: data.name,\n        });\n      }, this);\n    },\n\n    getData: function WorkerTransport_getData() {\n      return this.messageHandler.sendWithPromise('GetData', null);\n    },\n\n    getPage(pageNumber) {\n      if (!Number.isInteger(pageNumber) ||\n          pageNumber <= 0 || pageNumber > this.numPages) {\n        return Promise.reject(new Error('Invalid page request'));\n      }\n\n      var pageIndex = pageNumber - 1;\n      if (pageIndex in this.pagePromises) {\n        return this.pagePromises[pageIndex];\n      }\n      var promise = this.messageHandler.sendWithPromise('GetPage', {\n        pageIndex,\n      }).then((pageInfo) => {\n        if (this.destroyed) {\n          throw new Error('Transport destroyed');\n        }\n        var page = new PDFPageProxy(pageIndex, pageInfo, this);\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n      this.pagePromises[pageIndex] = promise;\n      return promise;\n    },\n\n    getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n      return this.messageHandler.sendWithPromise('GetPageIndex', {\n        ref,\n      }).catch(function (reason) {\n        return Promise.reject(new Error(reason));\n      });\n    },\n\n    getAnnotations: function WorkerTransport_getAnnotations(pageIndex, intent) {\n      return this.messageHandler.sendWithPromise('GetAnnotations', {\n        pageIndex,\n        intent,\n      });\n    },\n\n    getDestinations: function WorkerTransport_getDestinations() {\n      return this.messageHandler.sendWithPromise('GetDestinations', null);\n    },\n\n    getDestination: function WorkerTransport_getDestination(id) {\n      return this.messageHandler.sendWithPromise('GetDestination', {\n        id,\n      });\n    },\n\n    getPageLabels: function WorkerTransport_getPageLabels() {\n      return this.messageHandler.sendWithPromise('GetPageLabels', null);\n    },\n\n    getPageMode() {\n      return this.messageHandler.sendWithPromise('GetPageMode', null);\n    },\n\n    getAttachments: function WorkerTransport_getAttachments() {\n      return this.messageHandler.sendWithPromise('GetAttachments', null);\n    },\n\n    getJavaScript: function WorkerTransport_getJavaScript() {\n      return this.messageHandler.sendWithPromise('GetJavaScript', null);\n    },\n\n    getOutline: function WorkerTransport_getOutline() {\n      return this.messageHandler.sendWithPromise('GetOutline', null);\n    },\n\n    getMetadata: function WorkerTransport_getMetadata() {\n      return this.messageHandler.sendWithPromise('GetMetadata', null).\n        then(function transportMetadata(results) {\n        return {\n          info: results[0],\n          metadata: (results[1] ? new Metadata(results[1]) : null),\n        };\n      });\n    },\n\n    getStats: function WorkerTransport_getStats() {\n      return this.messageHandler.sendWithPromise('GetStats', null);\n    },\n\n    startCleanup: function WorkerTransport_startCleanup() {\n      this.messageHandler.sendWithPromise('Cleanup', null).then(() => {\n        for (var i = 0, ii = this.pageCache.length; i < ii; i++) {\n          var page = this.pageCache[i];\n          if (page) {\n            page.cleanup();\n          }\n        }\n        this.commonObjs.clear();\n        this.fontLoader.clear();\n      });\n    },\n  };\n  return WorkerTransport;\n\n})();\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects\n * for fonts, images, rendering code and such. These objects might get processed\n * inside of a worker. The `PDFObjects` implements some basic functions to\n * manage these objects.\n * @ignore\n */\nvar PDFObjects = (function PDFObjectsClosure() {\n  function PDFObjects() {\n    this.objs = Object.create(null);\n  }\n\n  PDFObjects.prototype = {\n    /**\n     * Internal function.\n     * Ensures there is an object defined for `objId`.\n     */\n    ensureObj: function PDFObjects_ensureObj(objId) {\n      if (this.objs[objId]) {\n        return this.objs[objId];\n      }\n\n      var obj = {\n        capability: createPromiseCapability(),\n        data: null,\n        resolved: false,\n      };\n      this.objs[objId] = obj;\n\n      return obj;\n    },\n\n    /**\n     * If called *without* callback, this returns the data of `objId` but the\n     * object needs to be resolved. If it isn't, this function throws.\n     *\n     * If called *with* a callback, the callback is called with the data of the\n     * object once the object is resolved. That means, if you call this\n     * function and the object is already resolved, the callback gets called\n     * right away.\n     */\n    get: function PDFObjects_get(objId, callback) {\n      // If there is a callback, then the get can be async and the object is\n      // not required to be resolved right now\n      if (callback) {\n        this.ensureObj(objId).capability.promise.then(callback);\n        return null;\n      }\n\n      // If there isn't a callback, the user expects to get the resolved data\n      // directly.\n      var obj = this.objs[objId];\n\n      // If there isn't an object yet or the object isn't resolved, then the\n      // data isn't ready yet!\n      if (!obj || !obj.resolved) {\n        throw new Error(`Requesting object that isn't resolved yet ${objId}`);\n      }\n\n      return obj.data;\n    },\n\n    /**\n     * Resolves the object `objId` with optional `data`.\n     */\n    resolve: function PDFObjects_resolve(objId, data) {\n      var obj = this.ensureObj(objId);\n\n      obj.resolved = true;\n      obj.data = data;\n      obj.capability.resolve(data);\n    },\n\n    isResolved: function PDFObjects_isResolved(objId) {\n      var objs = this.objs;\n\n      if (!objs[objId]) {\n        return false;\n      }\n      return objs[objId].resolved;\n    },\n\n    hasData: function PDFObjects_hasData(objId) {\n      return this.isResolved(objId);\n    },\n\n    /**\n     * Returns the data of `objId` if object exists, null otherwise.\n     */\n    getData: function PDFObjects_getData(objId) {\n      var objs = this.objs;\n      if (!objs[objId] || !objs[objId].resolved) {\n        return null;\n      }\n      return objs[objId].data;\n    },\n\n    clear: function PDFObjects_clear() {\n      this.objs = Object.create(null);\n    },\n  };\n  return PDFObjects;\n})();\n\n/**\n * Allows controlling of the rendering tasks.\n * @class\n * @alias RenderTask\n */\nvar RenderTask = (function RenderTaskClosure() {\n  function RenderTask(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  RenderTask.prototype = /** @lends RenderTask.prototype */ {\n    /**\n     * Promise for rendering task completion.\n     * @return {Promise}\n     */\n    get promise() {\n      return this._internalRenderTask.capability.promise;\n    },\n\n    /**\n     * Cancels the rendering task. If the task is currently rendering it will\n     * not be cancelled until graphics pauses with a timeout. The promise that\n     * this object extends will be rejected when cancelled.\n     */\n    cancel: function RenderTask_cancel() {\n      this._internalRenderTask.cancel();\n    },\n\n    /**\n     * Registers callbacks to indicate the rendering task completion.\n     *\n     * @param {function} onFulfilled The callback for the rendering completion.\n     * @param {function} onRejected The callback for the rendering failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function RenderTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    },\n  };\n\n  return RenderTask;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar InternalRenderTask = (function InternalRenderTaskClosure() {\n  let canvasInRendering = new WeakMap();\n\n  function InternalRenderTask(callback, params, objs, commonObjs, operatorList,\n                              pageNumber, canvasFactory, webGLContext) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this.pageNumber = pageNumber;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this.useRequestAnimationFrame = false;\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  InternalRenderTask.prototype = {\n\n    initializeGraphics:\n        function InternalRenderTask_initializeGraphics(transparency) {\n\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            'Cannot use the same canvas during multiple render() operations. ' +\n            'Use different canvas or ensure previous operations were ' +\n            'cancelled or completed.');\n        }\n        canvasInRendering.set(this._canvas, this);\n      }\n\n      if (this.cancelled) {\n        return;\n      }\n      if (getDefaultSetting('pdfBug') && globalScope.StepperManager &&\n          globalScope.StepperManager.enabled) {\n        this.stepper = globalScope.StepperManager.create(this.pageNumber - 1);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n\n      var params = this.params;\n      this.gfx = new CanvasGraphics(params.canvasContext, this.commonObjs,\n                                    this.objs, this.canvasFactory,\n                                    this.webGLContext, params.imageLayer);\n\n      this.gfx.beginDrawing({\n        transform: params.transform,\n        viewport: params.viewport,\n        transparency,\n        background: params.background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    },\n\n    cancel: function InternalRenderTask_cancel() {\n      this.running = false;\n      this.cancelled = true;\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n      this.callback(new RenderingCancelledException(\n        'Rendering cancelled, page ' + this.pageNumber, 'canvas'));\n    },\n\n    operatorListChanged: function InternalRenderTask_operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    },\n\n    _continue: function InternalRenderTask__continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    },\n\n    _scheduleNext: function InternalRenderTask__scheduleNext() {\n      if (this.useRequestAnimationFrame && typeof window !== 'undefined') {\n        window.requestAnimationFrame(this._nextBound);\n      } else {\n        Promise.resolve(undefined).then(this._nextBound);\n      }\n    },\n\n    _next: function InternalRenderTask__next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList,\n                                        this.operatorListIdx,\n                                        this._continueBound,\n                                        this.stepper);\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    },\n\n  };\n\n  return InternalRenderTask;\n})();\n\nvar version, build;\nif (typeof PDFJSDev !== 'undefined') {\n  version = PDFJSDev.eval('BUNDLE_VERSION');\n  build = PDFJSDev.eval('BUNDLE_BUILD');\n}\n\nexport {\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  setPDFNetworkStreamClass,\n  version,\n  build,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/api.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../shared/util';\nimport { SimpleXMLParser } from './dom_utils';\n\nclass Metadata {\n  constructor(data) {\n    assert(typeof data === 'string', 'Metadata: input is not a string');\n\n    // Ghostscript may produce invalid metadata, so try to repair that first.\n    data = this._repair(data);\n\n    // Convert the string to a DOM `Document`.\n    let parser = new SimpleXMLParser();\n    data = parser.parseFromString(data);\n\n    this._metadata = Object.create(null);\n\n    this._parse(data);\n  }\n\n  _repair(data) {\n    return data.replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n      let bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g,\n          function(code, d1, d2, d3) {\n        return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n      });\n\n      let chars = '';\n      for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n        let code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n        if (code >= 32 && code < 127 && code !== 60 && code !== 62 &&\n            code !== 38) {\n          chars += String.fromCharCode(code);\n        } else {\n          chars += '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n        }\n      }\n\n      return '>' + chars;\n    });\n  }\n\n  _parse(domDocument) {\n    let rdf = domDocument.documentElement;\n\n    if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') { // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    let nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n    if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    let children = rdf.childNodes;\n    for (let i = 0, ii = children.length; i < ii; i++) {\n      let desc = children[i];\n      if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n        continue;\n      }\n\n      for (let j = 0, jj = desc.childNodes.length; j < jj; j++) {\n        if (desc.childNodes[j].nodeName.toLowerCase() !== '#text') {\n          let entry = desc.childNodes[j];\n          let name = entry.nodeName.toLowerCase();\n\n          this._metadata[name] = entry.textContent.trim();\n        }\n      }\n    }\n  }\n\n  get(name) {\n    return this._metadata[name] || null;\n  }\n\n  getAll() {\n    return this._metadata;\n  }\n\n  has(name) {\n    return typeof this._metadata[name] !== 'undefined';\n  }\n}\n\nexport {\n  Metadata,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/metadata.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes, CustomStyle, DOMSVGFactory, getDefaultSetting,\n  getFilenameFromUrl, LinkTarget\n} from './dom_utils';\nimport {\n  AnnotationBorderStyleType, AnnotationType, stringToPDFString, Util, warn\n} from '../shared/util';\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} imageResourcesPath\n * @property {boolean} renderInteractiveForms\n * @property {Object} svgFactory\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    let subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        let fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case 'Tx':\n            return new TextWidgetAnnotationElement(parameters);\n          case 'Btn':\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            warn('Unimplemented button widget annotation: pushbutton');\n            break;\n          case 'Ch':\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(parameters, isRenderable = false, ignoreBorder = false) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    let data = this.data, page = this.page, viewport = this.viewport;\n    let container = document.createElement('section');\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute('data-annotation-id', data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    let rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1]\n    ]);\n\n    CustomStyle.setProp('transform', container,\n                        'matrix(' + viewport.transform.join(',') + ')');\n    CustomStyle.setProp('transformOrigin', container,\n                        -rect[0] + 'px ' + -rect[1] + 'px');\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = data.borderStyle.width + 'px';\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      let horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      let verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        let radius = horizontalRadius + 'px / ' + verticalRadius + 'px';\n        CustomStyle.setProp('borderRadius', container, radius);\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = 'solid';\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = 'dashed';\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn('Unimplemented border style: beveled');\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn('Unimplemented border style: inset');\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = 'solid';\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = Util.makeCssRgb(data.color[0] | 0,\n                                                      data.color[1] | 0,\n                                                      data.color[2] | 0);\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = rect[0] + 'px';\n    container.style.top = rect[1] + 'px';\n\n    container.style.width = width + 'px';\n    container.style.height = height + 'px';\n\n    return container;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLSectionElement} container\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(container, trigger, data) {\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement('div');\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    let popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      contents: data.contents,\n      hideWrapper: true,\n    });\n    let popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    throw new Error('Abstract method `AnnotationElement.render` called');\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.url || parameters.data.dest ||\n                          parameters.data.action);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the link annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LinkAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'linkAnnotation';\n\n    let link = document.createElement('a');\n    addLinkAttributes(link, {\n      url: this.data.url,\n      target: (this.data.newWindow ? LinkTarget.BLANK : undefined),\n    });\n\n    if (!this.data.url) {\n      if (this.data.action) {\n        this._bindNamedAction(link, this.data.action);\n      } else {\n        this._bindLink(link, this.data.dest);\n      }\n    }\n\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.navigateTo(destination);\n      }\n      return false;\n    };\n    if (destination) {\n      link.className = 'internalLink';\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl('');\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = 'internalLink';\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'textAnnotation';\n\n    let image = document.createElement('img');\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src = this.imageResourcesPath + 'annotation-' +\n      this.data.name.toLowerCase() + '.svg';\n    image.alt = '[{{type}} Annotation]';\n    image.dataset.l10nId = 'text_annotation_type';\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name, });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  /**\n   * Render the widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof WidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    let isRenderable = parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the text widget annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof TextWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const TEXT_ALIGNMENT = ['left', 'center', 'right'];\n\n    this.container.className = 'textWidgetAnnotation';\n\n    let element = null;\n    if (this.renderInteractiveForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      if (this.data.multiLine) {\n        element = document.createElement('textarea');\n        element.textContent = this.data.fieldValue;\n      } else {\n        element = document.createElement('input');\n        element.type = 'text';\n        element.setAttribute('value', this.data.fieldValue);\n      }\n\n      element.disabled = this.data.readOnly;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        let fieldWidth = this.data.rect[2] - this.data.rect[0];\n        let combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add('comb');\n        element.style.letterSpacing = 'calc(' + combWidth + 'px - 1ch)';\n      }\n    } else {\n      element = document.createElement('div');\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = 'middle';\n      element.style.display = 'table-cell';\n\n      let font = null;\n      if (this.data.fontRefName) {\n        font = this.page.commonObjs.getData(this.data.fontRefName);\n      }\n      this._setTextStyle(element, font);\n    }\n\n    if (this.data.textAlignment !== null) {\n      element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @param {Object} font\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element, font) {\n    // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n    let style = element.style;\n    style.fontSize = this.data.fontSize + 'px';\n    style.direction = (this.data.fontDirection < 0 ? 'rtl' : 'ltr');\n\n    if (!font) {\n      return;\n    }\n\n    style.fontWeight = (font.black ?\n      (font.bold ? '900' : 'bold') :\n      (font.bold ? 'bold' : 'normal'));\n    style.fontStyle = (font.italic ? 'italic' : 'normal');\n\n    // Use a reasonable default font if the font doesn't specify a fallback.\n    let fontFamily = font.loadedName ? '\"' + font.loadedName + '\", ' : '';\n    let fallbackName = font.fallbackName || 'Helvetica, sans-serif';\n    style.fontFamily = fontFamily + fallbackName;\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the checkbox widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof CheckboxWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'buttonWidgetAnnotation checkBox';\n\n    let element = document.createElement('input');\n    element.disabled = this.data.readOnly;\n    element.type = 'checkbox';\n    if (this.data.fieldValue && this.data.fieldValue !== 'Off') {\n      element.setAttribute('checked', true);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the radio button widget annotation's HTML element\n   * in the empty container.\n   *\n   * @public\n   * @memberof RadioButtonWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'buttonWidgetAnnotation radioButton';\n\n    let element = document.createElement('input');\n    element.disabled = this.data.readOnly;\n    element.type = 'radio';\n    element.name = this.data.fieldName;\n    if (this.data.fieldValue === this.data.buttonValue) {\n      element.setAttribute('checked', true);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, parameters.renderInteractiveForms);\n  }\n\n  /**\n   * Render the choice widget annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof ChoiceWidgetAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'choiceWidgetAnnotation';\n\n    let selectElement = document.createElement('select');\n    selectElement.disabled = this.data.readOnly;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    // Insert the options into the choice field.\n    for (let i = 0, ii = this.data.options.length; i < ii; i++) {\n      let option = this.data.options[i];\n\n      let optionElement = document.createElement('option');\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n\n      if (this.data.fieldValue.indexOf(option.displayValue) >= 0) {\n        optionElement.setAttribute('selected', true);\n      }\n\n      selectElement.appendChild(optionElement);\n    }\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable);\n  }\n\n  /**\n   * Render the popup annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PopupAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = ['Line', 'Square', 'Circle', 'PolyLine', 'Polygon'];\n\n    this.container.className = 'popupAnnotation';\n\n    if (IGNORE_TYPES.indexOf(this.data.parentType) >= 0) {\n      return this.container;\n    }\n\n    let selector = '[data-annotation-id=\"' + this.data.parentId + '\"]';\n    let parentElement = this.layer.querySelector(selector);\n    if (!parentElement) {\n      return this.container;\n    }\n\n    let popup = new PopupElement({\n      container: this.container,\n      trigger: parentElement,\n      color: this.data.color,\n      title: this.data.title,\n      contents: this.data.contents,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    let parentLeft = parseFloat(parentElement.style.left);\n    let parentWidth = parseFloat(parentElement.style.width);\n    CustomStyle.setProp('transformOrigin', this.container,\n                        -(parentLeft + parentWidth) + 'px -' +\n                        parentElement.style.top);\n    this.container.style.left = (parentLeft + parentWidth) + 'px';\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  /**\n   * Render the popup's HTML element.\n   *\n   * @public\n   * @memberof PopupElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    let wrapper = document.createElement('div');\n    wrapper.className = 'popupWrapper';\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = (this.hideWrapper ? wrapper : this.container);\n    this.hideElement.setAttribute('hidden', true);\n\n    let popup = document.createElement('div');\n    popup.className = 'popup';\n\n    let color = this.color;\n    if (color) {\n      // Enlighten the color.\n      let r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      let g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      let b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n    }\n\n    let contents = this._formatContents(this.contents);\n    let title = document.createElement('h1');\n    title.textContent = this.title;\n\n    // Attach the event listeners to the trigger element.\n    this.trigger.addEventListener('click', this._toggle.bind(this));\n    this.trigger.addEventListener('mouseover', this._show.bind(this, false));\n    this.trigger.addEventListener('mouseout', this._hide.bind(this, false));\n    popup.addEventListener('click', this._hide.bind(this, true));\n\n    popup.appendChild(title);\n    popup.appendChild(contents);\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {string} contents\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents(contents) {\n    let p = document.createElement('p');\n    let lines = contents.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      let line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < (ii - 1)) {\n        p.appendChild(document.createElement('br'));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hasAttribute('hidden')) {\n      this.hideElement.removeAttribute('hidden');\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hasAttribute('hidden') && !this.pinned) {\n      this.hideElement.setAttribute('hidden', true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the line annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof LineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'lineAnnotation';\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    let data = this.data;\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n    let svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    let line = this.svgFactory.createElement('svg:line');\n    line.setAttribute('x1', data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute('y1', data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute('x2', data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute('y2', data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute('stroke-width', data.borderStyle.width);\n    line.setAttribute('stroke', 'transparent');\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the square annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquareAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'squareAnnotation';\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    let data = this.data;\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n    let svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    let borderWidth = data.borderStyle.width;\n    let square = this.svgFactory.createElement('svg:rect');\n    square.setAttribute('x', borderWidth / 2);\n    square.setAttribute('y', borderWidth / 2);\n    square.setAttribute('width', width - borderWidth);\n    square.setAttribute('height', height - borderWidth);\n    square.setAttribute('stroke-width', borderWidth);\n    square.setAttribute('stroke', 'transparent');\n    square.setAttribute('fill', 'none');\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the circle annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof CircleAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'circleAnnotation';\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    let data = this.data;\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n    let svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    let borderWidth = data.borderStyle.width;\n    let circle = this.svgFactory.createElement('svg:ellipse');\n    circle.setAttribute('cx', width / 2);\n    circle.setAttribute('cy', height / 2);\n    circle.setAttribute('rx', (width / 2) - (borderWidth / 2));\n    circle.setAttribute('ry', (height / 2) - (borderWidth / 2));\n    circle.setAttribute('stroke-width', borderWidth);\n    circle.setAttribute('stroke', 'transparent');\n    circle.setAttribute('fill', 'none');\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(this.container, circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n\n    this.containerClassName = 'polylineAnnotation';\n    this.svgElementName = 'svg:polyline';\n  }\n\n  /**\n   * Render the polyline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof PolylineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    let data = this.data;\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n    let svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let vertices = data.vertices;\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i++) {\n      let x = vertices[i].x - data.rect[0];\n      let y = data.rect[3] - vertices[i].y;\n      points.push(x + ',' + y);\n    }\n    points = points.join(' ');\n\n    let borderWidth = data.borderStyle.width;\n    let polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute('points', points);\n    polyline.setAttribute('stroke-width', borderWidth);\n    polyline.setAttribute('stroke', 'transparent');\n    polyline.setAttribute('fill', 'none');\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(this.container, polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = 'polygonAnnotation';\n    this.svgElementName = 'svg:polygon';\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the highlight annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof HighlightAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'highlightAnnotation';\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the underline annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof UnderlineAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'underlineAnnotation';\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the squiggly annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof SquigglyAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'squigglyAnnotation';\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the strikeout annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StrikeOutAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'strikeoutAnnotation';\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    let isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    super(parameters, isRenderable, /* ignoreBorder = */ true);\n  }\n\n  /**\n   * Render the stamp annotation's HTML element in the empty container.\n   *\n   * @public\n   * @memberof StampAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'stampAnnotation';\n\n    if (!this.data.hasPopup) {\n      this._createPopup(this.container, null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, /* isRenderable = */ true);\n\n    let file = this.data.file;\n    this.filename = getFilenameFromUrl(file.filename);\n    this.content = file.content;\n\n    this.linkService.onFileAttachmentAnnotation({\n      id: stringToPDFString(file.filename),\n      filename: file.filename,\n      content: file.content,\n    });\n  }\n\n  /**\n   * Render the file attachment annotation's HTML element in the empty\n   * container.\n   *\n   * @public\n   * @memberof FileAttachmentAnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  render() {\n    this.container.className = 'fileAttachmentAnnotation';\n\n    let trigger = document.createElement('div');\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener('dblclick', this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(this.container, trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    if (!this.downloadManager) {\n      warn('Download cannot be started due to unavailable download manager');\n      return;\n    }\n    this.downloadManager.downloadData(this.content, this.filename, '');\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {string} imageResourcesPath\n * @property {boolean} renderInteractiveForms\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    for (let i = 0, ii = parameters.annotations.length; i < ii; i++) {\n      let data = parameters.annotations[i];\n      if (!data) {\n        continue;\n      }\n      let element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath ||\n                            getDefaultSetting('imageResourcesPath'),\n        renderInteractiveForms: parameters.renderInteractiveForms || false,\n        svgFactory: new DOMSVGFactory(),\n      });\n      if (element.isRenderable) {\n        parameters.div.appendChild(element.render());\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    for (let i = 0, ii = parameters.annotations.length; i < ii; i++) {\n      let data = parameters.annotations[i];\n      let element = parameters.div.querySelector(\n        '[data-annotation-id=\"' + data.id + '\"]');\n      if (element) {\n        CustomStyle.setProp('transform', element,\n          'matrix(' + parameters.viewport.transform.join(',') + ')');\n      }\n    }\n    parameters.div.removeAttribute('hidden');\n  }\n}\n\nexport {\n  AnnotationLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/annotation_layer.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbortException, createPromiseCapability, Util } from '../shared/util';\nimport { CustomStyle, getDefaultSetting } from './dom_utils';\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {TextContent} textContent - (optional) Text content to render\n *   (the object is returned by the page's getTextContent() method).\n * @property {ReadableStream} textContentStream - (optional) Text content\n *   stream to render (the stream is returned by the page's\n *   streamTextContent() method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {PageViewport} viewport - The target viewport to properly\n *   layout the text runs.\n * @property {Array} textDivs - (optional) HTML elements that are correspond\n *   the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array} textContentItemsStr - (optional) Strings that correspond\n *   the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} timeout - (optional) Delay in milliseconds before\n *   rendering of the text  runs occurs.\n * @property {boolean} enhanceTextSelection - (optional) Whether to turn on the\n *   text selection enhancement.\n */\nvar renderTextLayer = (function renderTextLayerClosure() {\n  var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  var NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  // Text layers may contain many thousand div's, and using `styleBuf` avoids\n  // creating many intermediate strings when building their 'style' properties.\n  var styleBuf = ['left: ', 0, 'px; top: ', 0, 'px; font-size: ', 0,\n                  'px; font-family: ', '', ';'];\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    var textDiv = document.createElement('div');\n    var textDivProperties = {\n      style: null,\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    var tx = Util.transform(task._viewport.transform, geom.transform);\n    var angle = Math.atan2(tx[1], tx[0]);\n    var style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    var fontHeight = Math.sqrt((tx[2] * tx[2]) + (tx[3] * tx[3]));\n    var fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    var left;\n    var top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + (fontAscent * Math.sin(angle));\n      top = tx[5] - (fontAscent * Math.cos(angle));\n    }\n    styleBuf[1] = left;\n    styleBuf[3] = top;\n    styleBuf[5] = fontHeight;\n    styleBuf[7] = style.fontFamily;\n    textDivProperties.style = styleBuf.join('');\n    textDiv.setAttribute('style', textDivProperties.style);\n\n    textDiv.textContent = geom.str;\n    // |fontName| is only used by the Font Inspector. This test will succeed\n    // when e.g. the Font Inspector is off but the Stepper is on, but it's\n    // not worth the effort to do a more accurate test. We only use `dataset`\n    // here to make the font name available for the debugger.\n    if (getDefaultSetting('pdfBug')) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    if (geom.str.length > 1) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      var angleCos = 1, angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      var divWidth = (style.vertical ? geom.height : geom.width) *\n                     task._viewport.scale;\n      var divHeight = fontHeight;\n\n      var m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    var textDivs = task._textDivs;\n    var capability = task._capability;\n    var textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (var i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function expand(task) {\n    var bounds = task._bounds;\n    var viewport = task._viewport;\n\n    var expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (var i = 0; i < expanded.length; i++) {\n      var div = bounds[i].div;\n      var divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      var e = expanded[i], b = bounds[i];\n      var m = b.m, c = m[0], s = m[1];\n      // Finding intersections with expanded box.\n      var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      var ts = new Float64Array(64);\n      points.forEach(function (p, i) {\n        var t = Util.applyTransform(p, m);\n        ts[i + 0] = c && (e.left - t[0]) / c;\n        ts[i + 4] = s && (e.top - t[1]) / s;\n        ts[i + 8] = c && (e.right - t[0]) / c;\n        ts[i + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[i + 16] = s && (e.left - t[0]) / -s;\n        ts[i + 20] = c && (e.top - t[1]) / c;\n        ts[i + 24] = s && (e.right - t[0]) / -s;\n        ts[i + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[i + 32] = c && (e.left - t[0]) / -c;\n        ts[i + 36] = s && (e.top - t[1]) / -s;\n        ts[i + 40] = c && (e.right - t[0]) / -c;\n        ts[i + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[i + 48] = s && (e.left - t[0]) / s;\n        ts[i + 52] = c && (e.top - t[1]) / -c;\n        ts[i + 56] = s && (e.right - t[0]) / s;\n        ts[i + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      var findPositiveMin = function (ts, offset, count) {\n        var result = 0;\n        for (var i = 0; i < count; i++) {\n          var t = ts[offset++];\n          if (t > 0) {\n            result = result ? Math.min(t, result) : t;\n          }\n        }\n        return result;\n      };\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    var bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    var expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function (box, i) {\n      var e = expanded[i], b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    var fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    var horizon = [{\n      start: -Infinity,\n      end: Infinity,\n      boundary: fakeBoundary,\n    }];\n\n    bounds.forEach(function (boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      var i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      var j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      var horizonPart, affectedBoundary;\n      var q, k, maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        var xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected bondary\n          // placed on top of the current one.\n          xNew = affectedBoundary.index > boundary.index ?\n            affectedBoundary.x1New : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      var changedHorizon = [], lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        var useBoundary = affectedBoundary.x2 > boundary.x2 ?\n          affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        var used = false;\n        for (k = i - 1; !used && k >= 0 &&\n        horizon[k].start >= affectedBoundary.y1; k--) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = j + 1; !used && k < horizon.length &&\n        horizon[k].end <= affectedBoundary.y2; k++) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(horizon,\n        [i, j - i + 1].concat(changedHorizon));\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function (horizonPart) {\n      var affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({ textContent, textContentStream, container,\n                                 viewport, textDivs, textContentItemsStr,\n                                 enhanceTextSelection, }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      if (this._reader) {\n        this._reader.cancel(new AbortException('text layer task cancelled'));\n        this._reader = null;\n      }\n      this._canceled = true;\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject('canceled');\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      let textLayerFrag = this._container;\n\n      let textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let fontSize = textDiv.style.fontSize;\n      let fontFamily = textDiv.style.fontFamily;\n\n      // Only build font string and set to context if different from last.\n      if (fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily) {\n        this._layoutTextCtx.font = fontSize + ' ' + fontFamily;\n        this._lastFontSize = fontSize;\n        this._lastFontFamily = fontFamily;\n      }\n\n      let width = this._layoutTextCtx.measureText(textDiv.textContent).width;\n\n      let transform = '';\n      if (textDivProperties.canvasWidth !== 0 && width > 0) {\n        textDivProperties.scale = textDivProperties.canvasWidth / width;\n        transform = 'scaleX(' + textDivProperties.scale + ')';\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = 'rotate(' + textDivProperties.angle + 'deg) ' + transform;\n      }\n      if (transform !== '') {\n        textDivProperties.originalTransform = transform;\n        CustomStyle.setProp('transform', textDiv, transform);\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      textLayerFrag.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      let capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      let canvas = document.createElement('canvas');\n      if (typeof PDFJSDev === 'undefined' ||\n          PDFJSDev.test('FIREFOX || MOZCENTRAL || GENERIC')) {\n         canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext('2d', { alpha: false, });\n\n      if (this._textContent) {\n        let textItems = this._textContent.items;\n        let textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        let pump = () => {\n          this._reader.read().then(({ value, done, }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Util.extendObj(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error('Neither \"textContent\" nor \"textContentStream\"' +\n          ' parameters specified.');\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) { // Render right away\n          render(this);\n        } else { // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n\n      for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n        var div = this._textDivs[i];\n        var divProperties = this._textDivProperties.get(div);\n\n        if (divProperties.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          var transform = '', padding = '';\n\n          if (divProperties.scale !== 1) {\n            transform = 'scaleX(' + divProperties.scale + ')';\n          }\n          if (divProperties.angle !== 0) {\n            transform = 'rotate(' + divProperties.angle + 'deg) ' + transform;\n          }\n          if (divProperties.paddingLeft !== 0) {\n            padding += ' padding-left: ' +\n              (divProperties.paddingLeft / divProperties.scale) + 'px;';\n            transform += ' translateX(' +\n              (-divProperties.paddingLeft / divProperties.scale) + 'px)';\n          }\n          if (divProperties.paddingTop !== 0) {\n            padding += ' padding-top: ' + divProperties.paddingTop + 'px;';\n            transform += ' translateY(' + (-divProperties.paddingTop) + 'px)';\n          }\n          if (divProperties.paddingRight !== 0) {\n            padding += ' padding-right: ' +\n              (divProperties.paddingRight / divProperties.scale) + 'px;';\n          }\n          if (divProperties.paddingBottom !== 0) {\n            padding += ' padding-bottom: ' +\n              divProperties.paddingBottom + 'px;';\n          }\n\n          if (padding !== '') {\n            div.setAttribute('style', divProperties.style + padding);\n          }\n          if (transform !== '') {\n            CustomStyle.setProp('transform', div, transform);\n          }\n        } else {\n          div.style.padding = 0;\n          CustomStyle.setProp('transform', div,\n                              divProperties.originalTransform || '');\n        }\n      }\n    },\n  };\n\n  /**\n   * Starts rendering of the text layer.\n   *\n   * @param {TextLayerRenderParameters} renderParameters\n   * @returns {TextLayerRenderTask}\n   */\n  function renderTextLayer(renderParameters) {\n    var task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport {\n  renderTextLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/text_layer.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  createObjectURL, FONT_IDENTITY_MATRIX, IDENTITY_MATRIX, ImageKind, isNodeJS,\n  isNum, OPS, Util, warn\n} from '../shared/util';\nimport { DOMSVGFactory } from './dom_utils';\n\nvar SVGGraphics = function() {\n  throw new Error('Not implemented: SVGGraphics');\n};\n\nif (typeof PDFJSDev === 'undefined' ||\n    PDFJSDev.test('GENERIC || SINGLE_FILE')) {\n\nvar SVG_DEFAULTS = {\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  fillColor: '#000000',\n};\n\nvar convertImgDataToPng = (function convertImgDataToPngClosure() {\n  var PNG_HEADER =\n    new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n  var CHUNK_WRAPPER_SIZE = 12;\n\n  var crcTable = new Int32Array(256);\n  for (var i = 0; i < 256; i++) {\n    var c = i;\n    for (var h = 0; h < 8; h++) {\n      if (c & 1) {\n        c = 0xedB88320 ^ ((c >> 1) & 0x7fffffff);\n      } else {\n        c = (c >> 1) & 0x7fffffff;\n      }\n    }\n    crcTable[i] = c;\n  }\n\n  function crc32(data, start, end) {\n    var crc = -1;\n    for (var i = start; i < end; i++) {\n      var a = (crc ^ data[i]) & 0xff;\n      var b = crcTable[a];\n      crc = (crc >>> 8) ^ b;\n    }\n    return crc ^ -1;\n  }\n\n  function writePngChunk(type, body, data, offset) {\n    var p = offset;\n    var len = body.length;\n\n    data[p] = len >> 24 & 0xff;\n    data[p + 1] = len >> 16 & 0xff;\n    data[p + 2] = len >> 8 & 0xff;\n    data[p + 3] = len & 0xff;\n    p += 4;\n\n    data[p] = type.charCodeAt(0) & 0xff;\n    data[p + 1] = type.charCodeAt(1) & 0xff;\n    data[p + 2] = type.charCodeAt(2) & 0xff;\n    data[p + 3] = type.charCodeAt(3) & 0xff;\n    p += 4;\n\n    data.set(body, p);\n    p += body.length;\n\n    var crc = crc32(data, offset + 4, p);\n\n    data[p] = crc >> 24 & 0xff;\n    data[p + 1] = crc >> 16 & 0xff;\n    data[p + 2] = crc >> 8 & 0xff;\n    data[p + 3] = crc & 0xff;\n  }\n\n  function adler32(data, start, end) {\n    var a = 1;\n    var b = 0;\n    for (var i = start; i < end; ++i) {\n      a = (a + (data[i] & 0xff)) % 65521;\n      b = (b + a) % 65521;\n    }\n    return (b << 16) | a;\n  }\n\n  /**\n   * @param {Uint8Array} literals The input data.\n   * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n   *   This is the required format for compressed streams in the PNG format:\n   *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n   */\n  function deflateSync(literals) {\n    if (!isNodeJS()) {\n      // zlib is certainly not available outside of Node.js. We can either use\n      // the pako library for client-side DEFLATE compression, or use the canvas\n      // API of the browser to obtain a more optimal PNG file.\n      return deflateSyncUncompressed(literals);\n    }\n    try {\n      // NOTE: This implementation is far from perfect, but already way better\n      // than not applying any compression.\n      //\n      // A better algorithm will try to choose a good predictor/filter and\n      // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n      //\n      // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n      // Node v3.0.0   Buffer inherits from Uint8Array.\n      // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n      var input;\n        // eslint-disable-next-line no-undef\n      if (parseInt(process.versions.node) >= 8) {\n        input = literals;\n      } else {\n        // eslint-disable-next-line no-undef\n        input = new Buffer(literals);\n      }\n      var output = __non_webpack_require__('zlib')\n        .deflateSync(input, { level: 9, });\n      return output instanceof Uint8Array ? output : new Uint8Array(output);\n    } catch (e) {\n      warn('Not compressing PNG because zlib.deflateSync is unavailable: ' + e);\n    }\n\n    return deflateSyncUncompressed(literals);\n  }\n\n  // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n  function deflateSyncUncompressed(literals) {\n    var len = literals.length;\n    var maxBlockLength = 0xFFFF;\n\n    var deflateBlocks = Math.ceil(len / maxBlockLength);\n    var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n    var pi = 0;\n    idat[pi++] = 0x78; // compression method and flags\n    idat[pi++] = 0x9c; // flags\n\n    var pos = 0;\n    while (len > maxBlockLength) {\n      // writing non-final DEFLATE blocks type 0 and length of 65535\n      idat[pi++] = 0x00;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0x00;\n      idat[pi++] = 0x00;\n      idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n      pi += maxBlockLength;\n      pos += maxBlockLength;\n      len -= maxBlockLength;\n    }\n\n    // writing non-final DEFLATE blocks type 0\n    idat[pi++] = 0x01;\n    idat[pi++] = len & 0xff;\n    idat[pi++] = len >> 8 & 0xff;\n    idat[pi++] = (~len & 0xffff) & 0xff;\n    idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n    idat.set(literals.subarray(pos), pi);\n    pi += literals.length - pos;\n\n    var adler = adler32(literals, 0, literals.length); // checksum\n    idat[pi++] = adler >> 24 & 0xff;\n    idat[pi++] = adler >> 16 & 0xff;\n    idat[pi++] = adler >> 8 & 0xff;\n    idat[pi++] = adler & 0xff;\n    return idat;\n  }\n\n  function encode(imgData, kind, forceDataSchema) {\n    var width = imgData.width;\n    var height = imgData.height;\n    var bitDepth, colorType, lineSize;\n    var bytes = imgData.data;\n\n    switch (kind) {\n      case ImageKind.GRAYSCALE_1BPP:\n        colorType = 0;\n        bitDepth = 1;\n        lineSize = (width + 7) >> 3;\n        break;\n      case ImageKind.RGB_24BPP:\n        colorType = 2;\n        bitDepth = 8;\n        lineSize = width * 3;\n        break;\n      case ImageKind.RGBA_32BPP:\n        colorType = 6;\n        bitDepth = 8;\n        lineSize = width * 4;\n        break;\n      default:\n        throw new Error('invalid format');\n    }\n\n    // prefix every row with predictor 0\n    var literals = new Uint8Array((1 + lineSize) * height);\n    var offsetLiterals = 0, offsetBytes = 0;\n    var y, i;\n    for (y = 0; y < height; ++y) {\n      literals[offsetLiterals++] = 0; // no prediction\n      literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize),\n                   offsetLiterals);\n      offsetBytes += lineSize;\n      offsetLiterals += lineSize;\n    }\n\n    if (kind === ImageKind.GRAYSCALE_1BPP) {\n      // inverting for B/W\n      offsetLiterals = 0;\n      for (y = 0; y < height; y++) {\n        offsetLiterals++; // skipping predictor\n        for (i = 0; i < lineSize; i++) {\n          literals[offsetLiterals++] ^= 0xFF;\n        }\n      }\n    }\n\n    var ihdr = new Uint8Array([\n      width >> 24 & 0xff,\n      width >> 16 & 0xff,\n      width >> 8 & 0xff,\n      width & 0xff,\n      height >> 24 & 0xff,\n      height >> 16 & 0xff,\n      height >> 8 & 0xff,\n      height & 0xff,\n      bitDepth, // bit depth\n      colorType, // color type\n      0x00, // compression method\n      0x00, // filter method\n      0x00 // interlace method\n    ]);\n\n    var idat = deflateSync(literals);\n\n    // PNG will consists: header, IHDR+data, IDAT+data, and IEND.\n    var pngLength = PNG_HEADER.length + (CHUNK_WRAPPER_SIZE * 3) +\n                    ihdr.length + idat.length;\n    var data = new Uint8Array(pngLength);\n    var offset = 0;\n    data.set(PNG_HEADER, offset);\n    offset += PNG_HEADER.length;\n    writePngChunk('IHDR', ihdr, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n    writePngChunk('IDATA', idat, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + idat.length;\n    writePngChunk('IEND', new Uint8Array(0), data, offset);\n\n    return createObjectURL(data, 'image/png', forceDataSchema);\n  }\n\n  return function convertImgDataToPng(imgData, forceDataSchema) {\n    var kind = (imgData.kind === undefined ?\n                ImageKind.GRAYSCALE_1BPP : imgData.kind);\n    return encode(imgData, kind, forceDataSchema);\n  };\n})();\n\nvar SVGExtraState = (function SVGExtraStateClosure() {\n  function SVGExtraState() {\n    this.fontSizeScale = 1;\n    this.fontWeight = SVG_DEFAULTS.fontWeight;\n    this.fontSize = 0;\n\n    this.textMatrix = IDENTITY_MATRIX;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRise = 0;\n\n    // Default foreground and background colors\n    this.fillColor = SVG_DEFAULTS.fillColor;\n    this.strokeColor = '#000000';\n\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.lineJoin = '';\n    this.lineCap = '';\n    this.miterLimit = 0;\n\n    this.dashArray = [];\n    this.dashPhase = 0;\n\n    this.dependencies = [];\n\n    // Clipping\n    this.activeClipUrl = null;\n    this.clipGroup = null;\n\n    this.maskId = '';\n  }\n\n  SVGExtraState.prototype = {\n    clone: function SVGExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return SVGExtraState;\n})();\n\nSVGGraphics = (function SVGGraphicsClosure() {\n  function opListToTree(opList) {\n    var opTree = [];\n    var tmp = [];\n    var opListLen = opList.length;\n\n    for (var x = 0; x < opListLen; x++) {\n      if (opList[x].fn === 'save') {\n        opTree.push({ 'fnId': 92, 'fn': 'group', 'items': [], });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opList[x].fn === 'restore') {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opList[x]);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Formats float number.\n   * @param value {number} number to format.\n   * @returns {string}\n   */\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    var s = value.toFixed(10);\n    var i = s.length - 1;\n    if (s[i] !== '0') {\n      return s;\n    }\n    // removing trailing zeros\n    do {\n      i--;\n    } while (s[i] === '0');\n    return s.substr(0, s[i] === '.' ? i : i + 1);\n  }\n\n  /**\n   * Formats transform matrix. The standard rotation, scale and translate\n   * matrices are replaced by their shorter forms, and for identity matrix\n   * returns empty string to save the memory.\n   * @param m {Array} matrix to format.\n   * @returns {string}\n   */\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return '';\n        }\n        return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        var a = Math.acos(m[0]) * 180 / Math.PI;\n        return 'rotate(' + pf(a) + ')';\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n      }\n    }\n    return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' +\n      pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n  }\n\n  function SVGGraphics(commonObjs, objs, forceDataSchema) {\n    this.svgFactory = new DOMSVGFactory();\n\n    this.current = new SVGExtraState();\n    this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n    this.transformStack = [];\n    this.extraStack = [];\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n\n    this.embedFonts = false;\n    this.embeddedFonts = Object.create(null);\n    this.cssStyle = null;\n    this.forceDataSchema = !!forceDataSchema;\n  }\n\n  var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n  var XLINK_NS = 'http://www.w3.org/1999/xlink';\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var clipCount = 0;\n  var maskCount = 0;\n\n  SVGGraphics.prototype = {\n    save: function SVGGraphics_save() {\n      this.transformStack.push(this.transformMatrix);\n      var old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    },\n\n    restore: function SVGGraphics_restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n\n      this.pendingClip = null;\n      this.tgrp = null;\n    },\n\n    group: function SVGGraphics_group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    },\n\n    loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var argsArray = operatorList.argsArray;\n\n      for (var i = 0; i < fnArrayLen; i++) {\n        if (OPS.dependency === fnArray[i]) {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var obj = deps[n];\n            var common = obj.substring(0, 2) === 'g_';\n            var promise;\n            if (common) {\n              promise = new Promise((resolve) => {\n                this.commonObjs.get(obj, resolve);\n              });\n            } else {\n              promise = new Promise((resolve) => {\n                this.objs.get(obj, resolve);\n              });\n            }\n            this.current.dependencies.push(promise);\n          }\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    },\n\n    transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n      var transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(this.transformMatrix,\n                                            transformMatrix);\n      this.tgrp = null;\n    },\n\n    getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      var svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        var opTree = this.convertOpList(operatorList);\n        this.executeOpTree(opTree);\n        return svgElement;\n      });\n    },\n\n    convertOpList: function SVGGraphics_convertOpList(operatorList) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var REVOPS = [];\n      var opList = [];\n\n      for (var op in OPS) {\n        REVOPS[OPS[op]] = op;\n      }\n\n      for (var x = 0; x < fnArrayLen; x++) {\n        var fnId = fnArray[x];\n        opList.push({\n          'fnId': fnId,\n          'fn': REVOPS[fnId],\n          'args': argsArray[x],\n        });\n      }\n      return opListToTree(opList);\n    },\n\n    executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n      var opTreeLen = opTree.length;\n      for (var x = 0; x < opTreeLen; x++) {\n        var fn = opTree[x].fn;\n        var fnId = opTree[x].fnId;\n        var args = opTree[x].args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2],\n                               args[3], args[4], args[5]);\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip('nonzero');\n            break;\n          case OPS.eoClip:\n            this.clip('evenodd');\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintJpegXObject:\n            this.paintJpegXObject(args[0], args[1], args[2]);\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3],\n                           args[4], args[5]);\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTree[x].items);\n            break;\n          default:\n            warn('Unimplemented operator ' + fn);\n            break;\n        }\n      }\n    },\n\n    setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    },\n\n    setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    },\n\n    nextLine: function SVGGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n      var current = this.current;\n      this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n\n      current.xcoords = [];\n      current.tspan = this.svgFactory.createElement('svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement('svg:text');\n      current.txtElement.appendChild(current.tspan);\n    },\n\n    beginText: function SVGGraphics_beginText() {\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.lineMatrix = IDENTITY_MATRIX;\n      this.current.tspan = this.svgFactory.createElement('svg:tspan');\n      this.current.txtElement = this.svgFactory.createElement('svg:text');\n      this.current.txtgrp = this.svgFactory.createElement('svg:g');\n      this.current.xcoords = [];\n    },\n\n    moveText: function SVGGraphics_moveText(x, y) {\n      var current = this.current;\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n\n      current.xcoords = [];\n      current.tspan = this.svgFactory.createElement('svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n    },\n\n    showText: function SVGGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n\n        var width = glyph.width;\n        var character = glyph.fontChar;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n\n        if (!glyph.isInFont && !font.missingFile) {\n          x += charWidth;\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n          continue;\n        }\n        current.xcoords.push(current.x + x * textHScale);\n        current.tspan.textContent += character;\n        x += charWidth;\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, 'x',\n                                   current.xcoords.map(pf).join(' '));\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n      }\n      if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n        current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(null, 'transform',\n                                        pm(textMatrix) + ' scale(1, -1)');\n      current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    },\n\n    setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n\n    addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement('svg:style');\n        this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      var url = createObjectURL(fontObj.data, fontObj.mimetype,\n                                this.forceDataSchema);\n      this.cssStyle.textContent +=\n        '@font-face { font-family: \"' + fontObj.loadedName + '\";' +\n        ' src: url(' + url + '); }\\n';\n    },\n\n    setFont: function SVGGraphics_setFont(details) {\n      var current = this.current;\n      var fontObj = this.commonObjs.get(details[0]);\n      var size = details[1];\n      this.current.font = fontObj;\n\n      if (this.embedFonts && fontObj.data &&\n          !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement('svg:tspan');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.xcoords = [];\n    },\n\n    endText: function SVGGraphics_endText() {},\n\n    // Path properties\n    setLineWidth: function SVGGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n    },\n    setLineCap: function SVGGraphics_setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function SVGGraphics_setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    },\n    setStrokeAlpha: function SVGGraphics_setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    },\n    setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.strokeColor = color;\n    },\n    setFillAlpha: function SVGGraphics_setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    },\n    setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.fillColor = color;\n      this.current.tspan = this.svgFactory.createElement('svg:tspan');\n      this.current.xcoords = [];\n    },\n    setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    },\n\n    constructPath: function SVGGraphics_constructPath(ops, args) {\n      var current = this.current;\n      var x = current.x, y = current.y;\n      current.path = this.svgFactory.createElement('svg:path');\n      var d = [];\n      var opLength = ops.length;\n\n      for (var i = 0, j = 0; i < opLength; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            var xw = x + width;\n            var yh = y + height;\n            d.push('M', pf(x), pf(y), 'L', pf(xw), pf(y), 'L', pf(xw), pf(yh),\n                   'L', pf(x), pf(yh), 'Z');\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('M', pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('L', pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]),\n                   pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]),\n                   pf(args[j + 2]), pf(args[j + 3]));\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y),\n                   pf(x), pf(y));\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push('Z');\n            break;\n        }\n      }\n      current.path.setAttributeNS(null, 'd', d.join(' '));\n      current.path.setAttributeNS(null, 'fill', 'none');\n\n      this._ensureTransformGroup().appendChild(current.path);\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    },\n\n    endPath: function SVGGraphics_endPath() {\n      if (!this.pendingClip) {\n        return;\n      }\n      var current = this.current;\n      // Add current path to clipping path\n      var clipId = 'clippath' + clipCount;\n      clipCount++;\n      var clipPath = this.svgFactory.createElement('svg:clipPath');\n      clipPath.setAttributeNS(null, 'id', clipId);\n      clipPath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      var clipElement = current.element.cloneNode();\n      if (this.pendingClip === 'evenodd') {\n        clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n      } else {\n        clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n      }\n      current.activeClipUrl = 'url(#' + clipId + ')';\n\n      this.tgrp = null;\n    },\n\n    clip: function SVGGraphics_clip(type) {\n      this.pendingClip = type;\n    },\n\n    closePath: function SVGGraphics_closePath() {\n      var current = this.current;\n      if (current.path) {\n        var d = current.path.getAttributeNS(null, 'd');\n        d += 'Z';\n        current.path.setAttributeNS(null, 'd', d);\n      }\n    },\n\n    setLeading: function SVGGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n\n    setTextRise: function SVGGraphics_setTextRise(textRise) {\n      this.current.textRise = textRise;\n    },\n\n    setHScale: function SVGGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n\n    setGState: function SVGGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'Font':\n            this.setFont(value);\n            break;\n          case 'CA':\n            this.setStrokeAlpha(value);\n            break;\n          case 'ca':\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn('Unimplemented graphic state ' + key);\n            break;\n        }\n      }\n    },\n\n    fill: function SVGGraphics_fill() {\n      var current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, 'fill', current.fillColor);\n        current.element.setAttributeNS(null, 'fill-opacity', current.fillAlpha);\n      }\n    },\n\n    stroke: function SVGGraphics_stroke() {\n      var current = this.current;\n\n      if (current.element) {\n        current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n        current.element.setAttributeNS(null, 'stroke-opacity',\n                                       current.strokeAlpha);\n        current.element.setAttributeNS(null, 'stroke-miterlimit',\n                                       pf(current.miterLimit));\n        current.element.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n        current.element.setAttributeNS(null, 'stroke-linejoin',\n                                       current.lineJoin);\n        current.element.setAttributeNS(null, 'stroke-width',\n                                       pf(current.lineWidth) + 'px');\n        current.element.setAttributeNS(null, 'stroke-dasharray',\n                                       current.dashArray.map(pf).join(' '));\n        current.element.setAttributeNS(null, 'stroke-dashoffset',\n                                       pf(current.dashPhase) + 'px');\n\n        current.element.setAttributeNS(null, 'fill', 'none');\n      }\n    },\n\n    eoFill: function SVGGraphics_eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      }\n      this.fill();\n    },\n\n    fillStroke: function SVGGraphics_fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    },\n\n    eoFillStroke: function SVGGraphics_eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      }\n      this.fillStroke();\n    },\n\n    closeStroke: function SVGGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n\n    closeFillStroke: function SVGGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n\n    paintSolidColorImageMask:\n        function SVGGraphics_paintSolidColorImageMask() {\n      var current = this.current;\n      var rect = this.svgFactory.createElement('svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', '1px');\n      rect.setAttributeNS(null, 'height', '1px');\n      rect.setAttributeNS(null, 'fill', current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    },\n\n    paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n      var imgObj = this.objs.get(objId);\n      var imgEl = this.svgFactory.createElement('svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n      imgEl.setAttributeNS(null, 'width', pf(w));\n      imgEl.setAttributeNS(null, 'height', pf(h));\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-h));\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n      this._ensureTransformGroup().appendChild(imgEl);\n    },\n\n    paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintInlineImageXObject:\n        function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n      var width = imgData.width;\n      var height = imgData.height;\n\n      var imgSrc = convertImgDataToPng(imgData, this.forceDataSchema);\n      var cliprect = this.svgFactory.createElement('svg:rect');\n      cliprect.setAttributeNS(null, 'x', '0');\n      cliprect.setAttributeNS(null, 'y', '0');\n      cliprect.setAttributeNS(null, 'width', pf(width));\n      cliprect.setAttributeNS(null, 'height', pf(height));\n      this.current.element = cliprect;\n      this.clip('nonzero');\n      var imgEl = this.svgFactory.createElement('svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-height));\n      imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n      imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / width) + ' ' +\n                           pf(-1 / height) + ')');\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    },\n\n    paintImageMaskXObject:\n        function SVGGraphics_paintImageMaskXObject(imgData) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = current.fillColor;\n\n      current.maskId = 'mask' + maskCount++;\n      var mask = this.svgFactory.createElement('svg:mask');\n      mask.setAttributeNS(null, 'id', current.maskId);\n\n      var rect = this.svgFactory.createElement('svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', pf(width));\n      rect.setAttributeNS(null, 'height', pf(height));\n      rect.setAttributeNS(null, 'fill', fillColor);\n      rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId + ')');\n      this.defs.appendChild(mask);\n\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    },\n\n    paintFormXObjectBegin:\n        function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2],\n                       matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n\n        var cliprect = this.svgFactory.createElement('svg:rect');\n        cliprect.setAttributeNS(null, 'x', bbox[0]);\n        cliprect.setAttributeNS(null, 'y', bbox[1]);\n        cliprect.setAttributeNS(null, 'width', pf(width));\n        cliprect.setAttributeNS(null, 'height', pf(height));\n        this.current.element = cliprect;\n        this.clip('nonzero');\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd:\n        function SVGGraphics_paintFormXObjectEnd() {},\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      let svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      let definitions = this.svgFactory.createElement('svg:defs');\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      let rootGroup = this.svgFactory.createElement('svg:g');\n      rootGroup.setAttributeNS(null, 'transform', pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    },\n\n    /**\n     * @private\n     */\n    _ensureClipGroup: function SVGGraphics_ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        var clipGroup = this.svgFactory.createElement('svg:g');\n        clipGroup.setAttributeNS(null, 'clip-path',\n                                 this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    },\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup: function SVGGraphics_ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement('svg:g');\n        this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    },\n  };\n  return SVGGraphics;\n})();\n\n}\n\nexport {\n  SVGGraphics,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/svg.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-unused-vars */\n\n'use strict';\n\nvar pdfjsVersion =\n  typeof PDFJSDev !== 'undefined' ? PDFJSDev.eval('BUNDLE_VERSION') : void 0;\nvar pdfjsBuild =\n  typeof PDFJSDev !== 'undefined' ? PDFJSDev.eval('BUNDLE_BUILD') : void 0;\n\nvar pdfjsSharedUtil = require('./shared/util.js');\nvar pdfjsDisplayGlobal = require('./display/global.js');\nvar pdfjsDisplayAPI = require('./display/api.js');\nvar pdfjsDisplayTextLayer = require('./display/text_layer.js');\nvar pdfjsDisplayAnnotationLayer = require('./display/annotation_layer.js');\nvar pdfjsDisplayDOMUtils = require('./display/dom_utils.js');\nvar pdfjsDisplaySVG = require('./display/svg.js');\n\nif (typeof PDFJSDev === 'undefined' ||\n    !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n  if (pdfjsSharedUtil.isNodeJS()) {\n    var PDFNodeStream = require('./display/node_stream.js').PDFNodeStream;\n    pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFNodeStream);\n  } else if (typeof Response !== 'undefined' && 'body' in Response.prototype &&\n             typeof ReadableStream !== 'undefined') {\n    var PDFFetchStream = require('./display/fetch_stream.js').PDFFetchStream;\n    pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFFetchStream);\n   } else {\n    var PDFNetworkStream = require('./display/network.js').PDFNetworkStream;\n    pdfjsDisplayAPI.setPDFNetworkStreamClass(PDFNetworkStream);\n  }\n}\n\nexports.PDFJS = pdfjsDisplayGlobal.PDFJS;\nexports.build = pdfjsDisplayAPI.build;\nexports.version = pdfjsDisplayAPI.version;\nexports.getDocument = pdfjsDisplayAPI.getDocument;\nexports.LoopbackPort = pdfjsDisplayAPI.LoopbackPort;\nexports.PDFDataRangeTransport = pdfjsDisplayAPI.PDFDataRangeTransport;\nexports.PDFWorker = pdfjsDisplayAPI.PDFWorker;\nexports.renderTextLayer = pdfjsDisplayTextLayer.renderTextLayer;\nexports.AnnotationLayer = pdfjsDisplayAnnotationLayer.AnnotationLayer;\nexports.CustomStyle = pdfjsDisplayDOMUtils.CustomStyle;\nexports.createPromiseCapability = pdfjsSharedUtil.createPromiseCapability;\nexports.PasswordResponses = pdfjsSharedUtil.PasswordResponses;\nexports.InvalidPDFException = pdfjsSharedUtil.InvalidPDFException;\nexports.MissingPDFException = pdfjsSharedUtil.MissingPDFException;\nexports.SVGGraphics = pdfjsDisplaySVG.SVGGraphics;\nexports.NativeImageDecoding = pdfjsSharedUtil.NativeImageDecoding;\nexports.UnexpectedResponseException =\n  pdfjsSharedUtil.UnexpectedResponseException;\nexports.OPS = pdfjsSharedUtil.OPS;\nexports.UNSUPPORTED_FEATURES = pdfjsSharedUtil.UNSUPPORTED_FEATURES;\nexports.createValidAbsoluteUrl = pdfjsSharedUtil.createValidAbsoluteUrl;\nexports.createObjectURL = pdfjsSharedUtil.createObjectURL;\nexports.removeNullCharacters = pdfjsSharedUtil.removeNullCharacters;\nexports.shadow = pdfjsSharedUtil.shadow;\nexports.createBlob = pdfjsSharedUtil.createBlob;\nexports.RenderingCancelledException =\n  pdfjsDisplayDOMUtils.RenderingCancelledException;\nexports.getFilenameFromUrl = pdfjsDisplayDOMUtils.getFilenameFromUrl;\nexports.addLinkAttributes = pdfjsDisplayDOMUtils.addLinkAttributes;\nexports.StatTimer = pdfjsSharedUtil.StatTimer;\n\n\n\n// WEBPACK FOOTER //\n// src/pdf.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-extend-native */\n/* globals PDFJS */\n\n// Skip compatibility checks for the extensions and if we already ran\n// this module.\nif ((typeof PDFJSDev === 'undefined' ||\n     !PDFJSDev.test('FIREFOX || MOZCENTRAL || CHROME')) &&\n    (typeof PDFJS === 'undefined' || !PDFJS.compatibilityChecked)) {\n\nvar globalScope = require('./global_scope');\n\nvar userAgent = (typeof navigator !== 'undefined' && navigator.userAgent) || '';\nvar isAndroid = /Android/.test(userAgent);\nvar isAndroidPre5 = /Android\\s[0-4][^\\d]/.test(userAgent);\nvar isChrome = userAgent.indexOf('Chrom') >= 0;\nvar isIOSChrome = userAgent.indexOf('CriOS') >= 0;\nvar isIE = userAgent.indexOf('Trident') >= 0;\nvar isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent);\nvar isSafari = /Safari\\//.test(userAgent) &&\n               !/(Chrome\\/|Android\\s)/.test(userAgent);\n\nvar hasDOM = typeof window === 'object' && typeof document === 'object';\n\n// Initializing PDFJS global object here, it case if we need to change/disable\n// some PDF.js features, e.g. range requests\nif (typeof PDFJS === 'undefined') {\n  globalScope.PDFJS = {};\n}\n\nPDFJS.compatibilityChecked = true;\n\n// URL = URL || webkitURL\n// Support: Safari<7, Android 4.2+\n(function normalizeURLObject() {\n  if (!globalScope.URL) {\n    globalScope.URL = globalScope.webkitURL;\n  }\n})();\n\n// No XMLHttpRequest#response?\n// Support: IE<11, Android <4.0\n(function checkXMLHttpRequestResponseCompatibility() {\n  if (typeof XMLHttpRequest === 'undefined') {\n    return;\n  }\n  var xhrPrototype = XMLHttpRequest.prototype;\n  var xhr = new XMLHttpRequest();\n  if (!('overrideMimeType' in xhr)) {\n    // IE10 might have response, but not overrideMimeType\n    // Support: IE10\n    Object.defineProperty(xhrPrototype, 'overrideMimeType', {\n      value: function xmlHttpRequestOverrideMimeType(mimeType) {},\n    });\n  }\n  if ('responseType' in xhr) {\n    return;\n  }\n\n  Object.defineProperty(xhrPrototype, 'responseType', {\n    get: function xmlHttpRequestGetResponseType() {\n      return this._responseType || 'text';\n    },\n    set: function xmlHttpRequestSetResponseType(value) {\n      if (value === 'text' || value === 'arraybuffer') {\n        this._responseType = value;\n        if (value === 'arraybuffer' &&\n            typeof this.overrideMimeType === 'function') {\n          this.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n      }\n    },\n  });\n\n  Object.defineProperty(xhrPrototype, 'response', {\n    get: function xmlHttpRequestResponseGet() {\n      if (this.responseType !== 'arraybuffer') {\n        return this.responseText;\n      }\n      var text = this.responseText;\n      var i, n = text.length;\n      var result = new Uint8Array(n);\n      for (i = 0; i < n; ++i) {\n        result[i] = text.charCodeAt(i) & 0xFF;\n      }\n      return result.buffer;\n    },\n  });\n})();\n\n// HTMLElement dataset property\n// Support: IE<11, Safari<5.1, Android<4.0\n(function checkDatasetProperty() {\n  if (!hasDOM) {\n    return;\n  }\n  var div = document.createElement('div');\n  if ('dataset' in div) {\n    return; // dataset property exists\n  }\n\n  Object.defineProperty(HTMLElement.prototype, 'dataset', {\n    get() {\n      if (this._dataset) {\n        return this._dataset;\n      }\n\n      var dataset = {};\n      for (var j = 0, jj = this.attributes.length; j < jj; j++) {\n        var attribute = this.attributes[j];\n        if (attribute.name.substring(0, 5) !== 'data-') {\n          continue;\n        }\n        var key = attribute.name.substring(5).replace(/\\-([a-z])/g,\n          function(all, ch) {\n            return ch.toUpperCase();\n          });\n        dataset[key] = attribute.value;\n      }\n\n      Object.defineProperty(this, '_dataset', {\n        value: dataset,\n        writable: false,\n        enumerable: false,\n      });\n      return dataset;\n    },\n    enumerable: true,\n  });\n})();\n\n// Checks if possible to use URL.createObjectURL()\n// Support: IE, Chrome on iOS\n(function checkOnBlobSupport() {\n  // sometimes IE and Chrome on iOS loosing the data created with\n  // createObjectURL(), see #3977 and #8081\n  if (isIE || isIOSChrome) {\n    PDFJS.disableCreateObjectURL = true;\n  }\n})();\n\n// Checks if navigator.language is supported\n(function checkNavigatorLanguage() {\n  if (typeof navigator === 'undefined') {\n    return;\n  }\n  if ('language' in navigator) {\n    return;\n  }\n  PDFJS.locale = navigator.userLanguage || 'en-US';\n})();\n\n// Support: Safari 6.0+, iOS\n(function checkRangeRequests() {\n  // Safari has issues with cached range requests see:\n  // https://github.com/mozilla/pdf.js/issues/3260\n  // Last tested with version 6.0.4.\n  if (isSafari || isIOS) {\n    PDFJS.disableRange = true;\n    PDFJS.disableStream = true;\n  }\n})();\n\n// Support: IE<11, Chrome<21, Android<4.4, Safari<6\n(function checkSetPresenceInImageData() {\n  if (!hasDOM) {\n    return;\n  }\n  // IE < 11 will use window.CanvasPixelArray which lacks set function.\n  if (window.CanvasPixelArray) {\n    if (typeof window.CanvasPixelArray.prototype.set !== 'function') {\n      window.CanvasPixelArray.prototype.set = function(arr) {\n        for (var i = 0, ii = this.length; i < ii; i++) {\n          this[i] = arr[i];\n        }\n      };\n    }\n  } else {\n    // Old Chrome and Android use an inaccessible CanvasPixelArray prototype.\n    // Because we cannot feature detect it, we rely on user agent parsing.\n    var polyfill = false, versionMatch;\n    if (isChrome) {\n      versionMatch = userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n      // Chrome < 21 lacks the set function.\n      polyfill = versionMatch && parseInt(versionMatch[2]) < 21;\n    } else if (isAndroid) {\n      // Android < 4.4 lacks the set function.\n      // Android >= 4.4 will contain Chrome in the user agent,\n      // thus pass the Chrome check above and not reach this block.\n      polyfill = isAndroidPre5;\n    } else if (isSafari) {\n      versionMatch = userAgent.\n        match(/Version\\/([0-9]+)\\.([0-9]+)\\.([0-9]+) Safari\\//);\n      // Safari < 6 lacks the set function.\n      polyfill = versionMatch && parseInt(versionMatch[1]) < 6;\n    }\n\n    if (polyfill) {\n      var contextPrototype = window.CanvasRenderingContext2D.prototype;\n      var createImageData = contextPrototype.createImageData;\n      contextPrototype.createImageData = function(w, h) {\n        var imageData = createImageData.call(this, w, h);\n        imageData.data.set = function(arr) {\n          for (var i = 0, ii = this.length; i < ii; i++) {\n            this[i] = arr[i];\n          }\n        };\n        return imageData;\n      };\n      // this closure will be kept referenced, so clear its vars\n      contextPrototype = null;\n    }\n  }\n})();\n\n// Support: Android, iOS\n(function checkCanvasSizeLimitation() {\n  if (isIOS || isAndroid) {\n    // 5MP\n    PDFJS.maxCanvasPixels = 5242880;\n  }\n})();\n\n// Disable fullscreen support for certain problematic configurations.\n// Support: IE11+ (when embedded).\n(function checkFullscreenSupport() {\n  if (!hasDOM) {\n    return;\n  }\n  if (isIE && window.parent !== window) {\n    PDFJS.disableFullscreen = true;\n  }\n})();\n\n// Provides document.currentScript support\n// Support: IE, Chrome<29.\n(function checkCurrentScript() {\n  if (!hasDOM) {\n    return;\n  }\n  if ('currentScript' in document) {\n    return;\n  }\n  Object.defineProperty(document, 'currentScript', {\n    get() {\n      var scripts = document.getElementsByTagName('script');\n      return scripts[scripts.length - 1];\n    },\n    enumerable: true,\n    configurable: true,\n  });\n})();\n\n// Provides `input.type = 'type'` runtime failure protection.\n// Support: IE9,10.\n(function checkInputTypeNumberAssign() {\n  if (!hasDOM) {\n    return;\n  }\n  var el = document.createElement('input');\n  try {\n    el.type = 'number';\n  } catch (ex) {\n    var inputProto = el.constructor.prototype;\n    var typeProperty = Object.getOwnPropertyDescriptor(inputProto, 'type');\n    Object.defineProperty(inputProto, 'type', {\n      get() {\n        return typeProperty.get.call(this);\n      },\n      set(value) {\n        typeProperty.set.call(this, value === 'number' ? 'text' : value);\n      },\n      enumerable: true,\n      configurable: true,\n    });\n  }\n})();\n\n// Provides correct document.readyState value for legacy browsers.\n// Support: IE9,10.\n(function checkDocumentReadyState() {\n  if (!hasDOM) {\n    return;\n  }\n  if (!document.attachEvent) {\n    return;\n  }\n  var documentProto = document.constructor.prototype;\n  var readyStateProto = Object.getOwnPropertyDescriptor(documentProto,\n                                                        'readyState');\n  Object.defineProperty(documentProto, 'readyState', {\n    get() {\n      var value = readyStateProto.get.call(this);\n      return value === 'interactive' ? 'loading' : value;\n    },\n    set(value) {\n      readyStateProto.set.call(this, value);\n    },\n    enumerable: true,\n    configurable: true,\n  });\n})();\n\n// Provides support for ChildNode.remove in legacy browsers.\n// Support: IE.\n(function checkChildNodeRemove() {\n  if (!hasDOM) {\n    return;\n  }\n  if (typeof Element.prototype.remove !== 'undefined') {\n    return;\n  }\n  Element.prototype.remove = function () {\n    if (this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n})();\n\n// Provides support for Object.values in legacy browsers.\n// Support: IE.\n(function checkObjectValues() {\n  if (Object.values) {\n    return;\n  }\n  Object.values = require('core-js/fn/object/values');\n})();\n\n// Provides support for Array.prototype.includes in legacy browsers.\n// Support: IE.\n(function checkArrayIncludes() {\n  if (Array.prototype.includes) {\n    return;\n  }\n  Array.prototype.includes = require('core-js/fn/array/includes');\n})();\n\n\n// Provides support for Number.isNaN in legacy browsers.\n// Support: IE.\n(function checkNumberIsNaN() {\n  if (Number.isNaN) {\n    return;\n  }\n  Number.isNaN = require('core-js/fn/number/is-nan');\n})();\n\n// Provides support for Number.isInteger in legacy browsers.\n// Support: IE.\n(function checkNumberIsInteger() {\n  if (Number.isInteger) {\n    return;\n  }\n  Number.isInteger = require('core-js/fn/number/is-integer');\n})();\n\n(function checkPromise() {\n  if (globalScope.Promise) {\n    return;\n  }\n  globalScope.Promise = require('core-js/fn/promise');\n})();\n\n(function checkWeakMap() {\n  if (globalScope.WeakMap) {\n    return;\n  }\n  globalScope.WeakMap = require('core-js/fn/weak-map');\n})();\n\n// Polyfill from https://github.com/Polymer/URL\n/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n(function checkURLConstructor() {\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  try {\n    if (typeof URL === 'function' &&\n        typeof URL.prototype === 'object' &&\n        ('origin' in URL.prototype)) {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    }\n  } catch (e) { }\n\n  if (hasWorkingUrl) {\n    return;\n  }\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if (h === '') {\n      invalid.call(this);\n    }\n    // XXX\n    return h.toLowerCase();\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ? `\n       [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) === -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ` (do not escape '?')\n       [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) === -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF, ALPHA = /[a-zA-Z]/,\n      ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message);\n    }\n\n    var state = stateOverride || 'scheme start',\n        cursor = 0,\n        buffer = '',\n        seenAt = false,\n        seenBracket = false,\n        errors = [];\n\n    loop: while ((input[cursor - 1] !== EOF || cursor === 0) &&\n                 !this._isInvalid) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (c === ':') {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if (this._scheme === 'file') {\n              state = 'relative';\n            } else if (this._isRelative && base &&\n                       base._scheme === this._scheme) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (c === EOF) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c);\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if (c === '?') {\n            this._query = '?';\n            state = 'query';\n          } else if (c === '#') {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !(isRelativeScheme(base._scheme))) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if (c === '/' && input[cursor + 1] === '/') {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if (this._scheme !== 'file') {\n            this._scheme = base._scheme;\n          }\n          if (c === EOF) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if (c === '/' || c === '\\\\') {\n            if (c === '\\\\') {\n              err('\\\\ is an invalid code point.');\n            }\n            state = 'relative slash';\n          } else if (c === '?') {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if (c === '#') {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor + 1];\n            var nextNextC = input[cursor + 2];\n            if (this._scheme !== 'file' || !ALPHA.test(c) ||\n                (nextC !== ':' && nextC !== '|') ||\n                (nextNextC !== EOF && nextNextC !== '/' && nextNextC !== '\\\\' &&\n                 nextNextC !== '?' && nextNextC !== '#')) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if (c === '/' || c === '\\\\') {\n            if (c === '\\\\') {\n              err('\\\\ is an invalid code point.');\n            }\n            if (this._scheme === 'file') {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if (this._scheme !== 'file') {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if (c === '/') {\n            state = 'authority second slash';\n          } else {\n            err('Expected \\'/\\', got: ' + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if (c !== '/') {\n            err('Expected \\'/\\', got: ' + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if (c !== '/' && c !== '\\\\') {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if (c === '@') {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if (cp === '\\t' || cp === '\\n' || cp === '\\r') {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (cp === ':' && this._password === null) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              if (this._password !== null) {\n                this._password += tempC;\n              } else {\n                this._username += tempC;\n              }\n            }\n            buffer = '';\n          } else if (c === EOF || c === '/' || c === '\\\\' ||\n                     c === '?' || c === '#') {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n            if (buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                (buffer[1] === ':' || buffer[1] === '|')) {\n              state = 'relative path';\n            } else if (buffer.length === 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (c === ':' && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if (stateOverride === 'hostname') {\n              break loop;\n            }\n          } else if (c === EOF || c === '/' ||\n                     c === '\\\\' || c === '?' || c === '#') {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            if (c === '[') {\n              seenBracket = true;\n            } else if (c === ']') {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (c === EOF || c === '/' || c === '\\\\' ||\n                     c === '?' || c === '#' || stateOverride) {\n            if (buffer !== '') {\n              var temp = parseInt(buffer, 10);\n              if (temp !== relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if (c === '\\\\') {\n            err('\\'\\\\\\' not allowed in path.');\n          }\n          state = 'relative path';\n          if (c !== '/' && c !== '\\\\') {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (c === EOF || c === '/' || c === '\\\\' ||\n              (!stateOverride && (c === '?' || c === '#'))) {\n            if (c === '\\\\') {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            if ((tmp = relativePathDotMapping[buffer.toLowerCase()])) {\n              buffer = tmp;\n            }\n            if (buffer === '..') {\n              this._path.pop();\n              if (c !== '/' && c !== '\\\\') {\n                this._path.push('');\n              }\n            } else if (buffer === '.' && c !== '/' && c !== '\\\\') {\n              this._path.push('');\n            } else if (buffer !== '.') {\n              if (this._scheme === 'file' && this._path.length === 0 &&\n                  buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                  buffer[1] === '|') {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if (c === '?') {\n              this._query = '?';\n              state = 'query';\n            } else if (c === '#') {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && c === '#') {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  function JURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof JURL)) {\n      base = new JURL(String(base));\n    }\n\n    this._url = url;\n    clear.call(this);\n\n    var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  JURL.prototype = {\n    toString() {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid) {\n        return this._url;\n      }\n      var authority = '';\n      if (this._username !== '' || this._password !== null) {\n        authority = this._username +\n          (this._password !== null ? ':' + this._password : '') + '@';\n      }\n\n      return this.protocol +\n          (this._isRelative ? '//' + authority + this.host : '') +\n          this.pathname + this._query + this._fragment;\n    },\n    // The named parameter should be different from the setter's function name.\n    // Otherwise Safari 5 will throw an error (see issue 8541)\n    set href(value) {\n      clear.call(this);\n      parse.call(this, value);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(value) {\n      if (this._isInvalid) {\n        return;\n      }\n      parse.call(this, value + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid ? '' : this._port ?\n          this._host + ':' + this._port : this._host;\n    },\n    set host(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid ? '' : this._isRelative ?\n          '/' + this._path.join('/') : this._schemeData;\n    },\n    set pathname(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._path = [];\n      parse.call(this, value, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || this._query === '?' ?\n          '' : this._query;\n    },\n    set search(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._query = '?';\n      if (value[0] === '?') {\n        value = value.slice(1);\n      }\n      parse.call(this, value, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || this._fragment === '#' ?\n          '' : this._fragment;\n    },\n    set hash(value) {\n      if (this._isInvalid) {\n        return;\n      }\n      this._fragment = '#';\n      if (value[0] === '#') {\n        value = value.slice(1);\n      }\n      parse.call(this, value, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'data':\n        case 'file':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n        case 'blob':\n          // Special case of blob: -- returns valid origin of _schemeData.\n          try {\n            return new JURL(this._schemeData).origin || 'null';\n          } catch (_) {\n            // Invalid _schemeData origin -- ignoring errors.\n          }\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    },\n  };\n\n  // Copy over the static methods\n  var OriginalURL = globalScope.URL;\n  if (OriginalURL) {\n    JURL.createObjectURL = function(blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    JURL.revokeObjectURL = function(url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  globalScope.URL = JURL;\n})();\n\n}\n\n\n\n// WEBPACK FOOTER //\n// src/shared/compatibility.js","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/object/values.js","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.object.values.js","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-to-array.js","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-keys-internal.js","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_to-absolute-index.js","require('../../modules/es7.array.includes');\nmodule.exports = require('../../modules/_core').Array.includes;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/array/includes.js","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.array.includes.js","require('../../modules/es6.number.is-nan');\nmodule.exports = require('../../modules/_core').Number.isNaN;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/number/is-nan.js","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.number.is-nan.js","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/number/is-integer.js","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.number.is-integer.js","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_is-integer.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/promise.js","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.string.iterator.js","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_string-at.js","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iter-create.js","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-create.js","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-dps.js","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-gpo.js","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.array.iterator.js","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iter-step.js","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.promise.js","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_iter-call.js","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_is-array-iter.js","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/core.get-iterator-method.js","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_invoke.js","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_microtask.js","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_set-species.js","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.promise.finally.js","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.promise.try.js","require('../modules/es6.object.to-string');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es7.weak-map.of');\nrequire('../modules/es7.weak-map.from');\nmodule.exports = require('../modules/_core').WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/fn/weak-map.js","'use strict';\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar validate = require('./_validate-collection');\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar tmp = {};\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es6.weak-map.js","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_array-species-create.js","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_array-species-constructor.js","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_is-array.js","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-assign.js","exports.f = Object.getOwnPropertySymbols;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-gops.js","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_collection-weak.js","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_collection.js","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_inherit-if-required.js","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_set-proto.js","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_object-gopd.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.weak-map.of.js","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_set-collection-of.js","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/es7.weak-map.from.js","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/core-js/modules/_set-collection-from.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet isReadableStreamSupported = false;\nif (typeof ReadableStream !== 'undefined') {\n  // MS Edge may say it has ReadableStream but they are not up to spec yet.\n  try {\n    // eslint-disable-next-line no-new\n    new ReadableStream({\n      start(controller) {\n        controller.close();\n      },\n    });\n    isReadableStreamSupported = true;\n  } catch (e) {\n    // The ReadableStream constructor cannot be used.\n  }\n}\nif (isReadableStreamSupported) {\n  exports.ReadableStream = ReadableStream;\n} else {\n  if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME')) {\n    throw new Error('ReadableStream polyfill is not found for Chrome bundle');\n  }\n  exports.ReadableStream =\n    require('../../external/streams/streams-lib').ReadableStream;\n}\n\n\n\n// WEBPACK FOOTER //\n// src/shared/streams_polyfill.js","/*\n * To the extent possible under law, the authors have dedicated all copyright\n * and related and neighboring rights to this software to the public\n * domain worldwide. This software is distributed without any warranty.\n *\n * You should have received a copy of the CC0 Public Domain Dedication along\n * with this software. If not, see https://creativecommons.org/publicdomain/zero/1.0/.\n */\n\n(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n/******/\n/******/  // The require function\n/******/  function __w_pdfjs_require__(moduleId) {\n/******/\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n/******/\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      i: moduleId,\n/******/      l: false,\n/******/      exports: {}\n/******/    };\n/******/\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n/******/\n/******/    // Flag the module as loaded\n/******/    module.l = true;\n/******/\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n/******/\n/******/\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __w_pdfjs_require__.m = modules;\n/******/\n/******/  // expose the module cache\n/******/  __w_pdfjs_require__.c = installedModules;\n/******/\n/******/  // identity function for calling harmony imports with the correct context\n/******/  __w_pdfjs_require__.i = function(value) { return value; };\n/******/\n/******/  // define getter function for harmony exports\n/******/  __w_pdfjs_require__.d = function(exports, name, getter) {\n/******/    if(!__w_pdfjs_require__.o(exports, name)) {\n/******/      Object.defineProperty(exports, name, {\n/******/        configurable: false,\n/******/        enumerable: true,\n/******/        get: getter\n/******/      });\n/******/    }\n/******/  };\n/******/\n/******/  // getDefaultExport function for compatibility with non-harmony modules\n/******/  __w_pdfjs_require__.n = function(module) {\n/******/    var getter = module && module.__esModule ?\n/******/      function getDefault() { return module['default']; } :\n/******/      function getModuleExports() { return module; };\n/******/    __w_pdfjs_require__.d(getter, 'a', getter);\n/******/    return getter;\n/******/  };\n/******/\n/******/  // Object.prototype.hasOwnProperty.call\n/******/  __w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/  // __webpack_public_path__\n/******/  __w_pdfjs_require__.p = \"\";\n/******/\n/******/  // Load entry module and return exports\n/******/  return __w_pdfjs_require__(__w_pdfjs_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = __w_pdfjs_require__(1),\n    assert = _require.assert;\n\nfunction IsPropertyKey(argument) {\n  return typeof argument === 'string' || (typeof argument === 'undefined' ? 'undefined' : _typeof(argument)) === 'symbol';\n}\n\nexports.typeIsObject = function (x) {\n  return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null || typeof x === 'function';\n};\n\nexports.createDataProperty = function (o, p, v) {\n  assert(exports.typeIsObject(o));\n  Object.defineProperty(o, p, { value: v, writable: true, enumerable: true, configurable: true });\n};\n\nexports.createArrayFromList = function (elements) {\n  // We use arrays to represent lists, so this is basically a no-op.\n  // Do a slice though just in case we happen to depend on the unique-ness.\n  return elements.slice();\n};\n\nexports.ArrayBufferCopy = function (dest, destOffset, src, srcOffset, n) {\n  new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n};\n\nexports.CreateIterResultObject = function (value, done) {\n  assert(typeof done === 'boolean');\n  var obj = {};\n  Object.defineProperty(obj, 'value', { value: value, enumerable: true, writable: true, configurable: true });\n  Object.defineProperty(obj, 'done', { value: done, enumerable: true, writable: true, configurable: true });\n  return obj;\n};\n\nexports.IsFiniteNonNegativeNumber = function (v) {\n  if (Number.isNaN(v)) {\n    return false;\n  }\n  if (v === Infinity) {\n    return false;\n  }\n  if (v < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nfunction Call(F, V, args) {\n  if (typeof F !== 'function') {\n    throw new TypeError('Argument is not a function');\n  }\n\n  return Function.prototype.apply.call(F, V, args);\n}\n\nexports.InvokeOrNoop = function (O, P, args) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n\n  var method = O[P];\n  if (method === undefined) {\n    return undefined;\n  }\n\n  return Call(method, O, args);\n};\n\nexports.PromiseInvokeOrNoop = function (O, P, args) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n  try {\n    return Promise.resolve(exports.InvokeOrNoop(O, P, args));\n  } catch (returnValueE) {\n    return Promise.reject(returnValueE);\n  }\n};\n\nexports.PromiseInvokeOrPerformFallback = function (O, P, args, F, argsF) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n  assert(Array.isArray(argsF));\n\n  var method = void 0;\n  try {\n    method = O[P];\n  } catch (methodE) {\n    return Promise.reject(methodE);\n  }\n\n  if (method === undefined) {\n    return F.apply(null, argsF);\n  }\n\n  try {\n    return Promise.resolve(Call(method, O, args));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\n// Not implemented correctly\nexports.TransferArrayBuffer = function (O) {\n  return O.slice();\n};\n\nexports.ValidateAndNormalizeHighWaterMark = function (highWaterMark) {\n  highWaterMark = Number(highWaterMark);\n  if (Number.isNaN(highWaterMark) || highWaterMark < 0) {\n    throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');\n  }\n\n  return highWaterMark;\n};\n\nexports.ValidateAndNormalizeQueuingStrategy = function (size, highWaterMark) {\n  if (size !== undefined && typeof size !== 'function') {\n    throw new TypeError('size property of a queuing strategy must be a function');\n  }\n\n  highWaterMark = exports.ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n  return { size: size, highWaterMark: highWaterMark };\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nfunction rethrowAssertionErrorRejection(e) {\n  // Used throughout the reference implementation, as `.catch(rethrowAssertionErrorRejection)`, to ensure any errors\n  // get shown. There are places in the spec where we do promise transformations and purposefully ignore or don't\n  // expect any errors, but assertion errors are always problematic.\n  if (e && e.constructor === AssertionError) {\n    setTimeout(function () {\n      throw e;\n    }, 0);\n  }\n};\n\nfunction AssertionError(message) {\n  this.name = 'AssertionError';\n  this.message = message || '';\n  this.stack = new Error().stack;\n}\nAssertionError.prototype = Object.create(Error.prototype);\nAssertionError.prototype.constructor = AssertionError;\n\nfunction assert(value, message) {\n  if (!value) {\n    throw new AssertionError(message);\n  }\n}\n\nmodule.exports = {\n  rethrowAssertionErrorRejection: rethrowAssertionErrorRejection,\n  AssertionError: AssertionError,\n  assert: assert\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(0),\n    InvokeOrNoop = _require.InvokeOrNoop,\n    PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n    ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n    typeIsObject = _require.typeIsObject;\n\nvar _require2 = __w_pdfjs_require__(1),\n    assert = _require2.assert,\n    rethrowAssertionErrorRejection = _require2.rethrowAssertionErrorRejection;\n\nvar _require3 = __w_pdfjs_require__(3),\n    DequeueValue = _require3.DequeueValue,\n    EnqueueValueWithSize = _require3.EnqueueValueWithSize,\n    PeekQueueValue = _require3.PeekQueueValue,\n    ResetQueue = _require3.ResetQueue;\n\nvar WritableStream = function () {\n  function WritableStream() {\n    var underlyingSink = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        size = _ref.size,\n        _ref$highWaterMark = _ref.highWaterMark,\n        highWaterMark = _ref$highWaterMark === undefined ? 1 : _ref$highWaterMark;\n\n    _classCallCheck(this, WritableStream);\n\n    this._state = 'writable';\n\n    // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n    // 'erroring' or 'errored'. May be set to an undefined value.\n    this._storedError = undefined;\n\n    this._writer = undefined;\n\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    this._writableStreamController = undefined;\n\n    // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n    // producer without waiting for the queued writes to finish.\n    this._writeRequests = [];\n\n    // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n    // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n    this._inFlightWriteRequest = undefined;\n\n    // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n    // has been detached.\n    this._closeRequest = undefined;\n\n    // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n    // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n    this._inFlightCloseRequest = undefined;\n\n    // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n    this._pendingAbortRequest = undefined;\n\n    // The backpressure signal set by the controller.\n    this._backpressure = false;\n\n    var type = underlyingSink.type;\n\n    if (type !== undefined) {\n      throw new RangeError('Invalid type is specified');\n    }\n\n    this._writableStreamController = new WritableStreamDefaultController(this, underlyingSink, size, highWaterMark);\n    this._writableStreamController.__startSteps();\n  }\n\n  _createClass(WritableStream, [{\n    key: 'abort',\n    value: function abort(reason) {\n      if (IsWritableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('abort'));\n      }\n\n      if (IsWritableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('Cannot abort a stream that already has a writer'));\n      }\n\n      return WritableStreamAbort(this, reason);\n    }\n  }, {\n    key: 'getWriter',\n    value: function getWriter() {\n      if (IsWritableStream(this) === false) {\n        throw streamBrandCheckException('getWriter');\n      }\n\n      return AcquireWritableStreamDefaultWriter(this);\n    }\n  }, {\n    key: 'locked',\n    get: function get() {\n      if (IsWritableStream(this) === false) {\n        throw streamBrandCheckException('locked');\n      }\n\n      return IsWritableStreamLocked(this);\n    }\n  }]);\n\n  return WritableStream;\n}();\n\nmodule.exports = {\n  AcquireWritableStreamDefaultWriter: AcquireWritableStreamDefaultWriter,\n  IsWritableStream: IsWritableStream,\n  IsWritableStreamLocked: IsWritableStreamLocked,\n  WritableStream: WritableStream,\n  WritableStreamAbort: WritableStreamAbort,\n  WritableStreamDefaultControllerError: WritableStreamDefaultControllerError,\n  WritableStreamDefaultWriterCloseWithErrorPropagation: WritableStreamDefaultWriterCloseWithErrorPropagation,\n  WritableStreamDefaultWriterRelease: WritableStreamDefaultWriterRelease,\n  WritableStreamDefaultWriterWrite: WritableStreamDefaultWriterWrite,\n  WritableStreamCloseQueuedOrInFlight: WritableStreamCloseQueuedOrInFlight\n};\n\n// Abstract operations for the WritableStream.\n\nfunction AcquireWritableStreamDefaultWriter(stream) {\n  return new WritableStreamDefaultWriter(stream);\n}\n\nfunction IsWritableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsWritableStreamLocked(stream) {\n  assert(IsWritableStream(stream) === true, 'IsWritableStreamLocked should only be used on known writable streams');\n\n  if (stream._writer === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamAbort(stream, reason) {\n  var state = stream._state;\n  if (state === 'closed') {\n    return Promise.resolve(undefined);\n  }\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n  var error = new TypeError('Requested to abort');\n  if (stream._pendingAbortRequest !== undefined) {\n    return Promise.reject(error);\n  }\n\n  assert(state === 'writable' || state === 'erroring', 'state must be writable or erroring');\n\n  var wasAlreadyErroring = false;\n  if (state === 'erroring') {\n    wasAlreadyErroring = true;\n    // reason will not be used, so don't keep a reference to it.\n    reason = undefined;\n  }\n\n  var promise = new Promise(function (resolve, reject) {\n    stream._pendingAbortRequest = {\n      _resolve: resolve,\n      _reject: reject,\n      _reason: reason,\n      _wasAlreadyErroring: wasAlreadyErroring\n    };\n  });\n\n  if (wasAlreadyErroring === false) {\n    WritableStreamStartErroring(stream, error);\n  }\n\n  return promise;\n}\n\n// WritableStream API exposed for controllers.\n\nfunction WritableStreamAddWriteRequest(stream) {\n  assert(IsWritableStreamLocked(stream) === true);\n  assert(stream._state === 'writable');\n\n  var promise = new Promise(function (resolve, reject) {\n    var writeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._writeRequests.push(writeRequest);\n  });\n\n  return promise;\n}\n\nfunction WritableStreamDealWithRejection(stream, error) {\n  var state = stream._state;\n\n  if (state === 'writable') {\n    WritableStreamStartErroring(stream, error);\n    return;\n  }\n\n  assert(state === 'erroring');\n  WritableStreamFinishErroring(stream);\n}\n\nfunction WritableStreamStartErroring(stream, reason) {\n  assert(stream._storedError === undefined, 'stream._storedError === undefined');\n  assert(stream._state === 'writable', 'state must be writable');\n\n  var controller = stream._writableStreamController;\n  assert(controller !== undefined, 'controller must not be undefined');\n\n  stream._state = 'erroring';\n  stream._storedError = reason;\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n  }\n\n  if (WritableStreamHasOperationMarkedInFlight(stream) === false && controller._started === true) {\n    WritableStreamFinishErroring(stream);\n  }\n}\n\nfunction WritableStreamFinishErroring(stream) {\n  assert(stream._state === 'erroring', 'stream._state === erroring');\n  assert(WritableStreamHasOperationMarkedInFlight(stream) === false, 'WritableStreamHasOperationMarkedInFlight(stream) === false');\n  stream._state = 'errored';\n  stream._writableStreamController.__errorSteps();\n\n  var storedError = stream._storedError;\n  for (var i = 0; i < stream._writeRequests.length; i++) {\n    var writeRequest = stream._writeRequests[i];\n    writeRequest._reject(storedError);\n  }\n  stream._writeRequests = [];\n\n  if (stream._pendingAbortRequest === undefined) {\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  var abortRequest = stream._pendingAbortRequest;\n  stream._pendingAbortRequest = undefined;\n\n  if (abortRequest._wasAlreadyErroring === true) {\n    abortRequest._reject(storedError);\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  var promise = stream._writableStreamController.__abortSteps(abortRequest._reason);\n  promise.then(function () {\n    abortRequest._resolve();\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n  }, function (reason) {\n    abortRequest._reject(reason);\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n  });\n}\n\nfunction WritableStreamFinishInFlightWrite(stream) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._resolve(undefined);\n  stream._inFlightWriteRequest = undefined;\n}\n\nfunction WritableStreamFinishInFlightWriteWithError(stream, error) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._reject(error);\n  stream._inFlightWriteRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  WritableStreamDealWithRejection(stream, error);\n}\n\nfunction WritableStreamFinishInFlightClose(stream) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._resolve(undefined);\n  stream._inFlightCloseRequest = undefined;\n\n  var state = stream._state;\n\n  assert(state === 'writable' || state === 'erroring');\n\n  if (state === 'erroring') {\n    // The error was too late to do anything, so it is ignored.\n    stream._storedError = undefined;\n    if (stream._pendingAbortRequest !== undefined) {\n      stream._pendingAbortRequest._resolve();\n      stream._pendingAbortRequest = undefined;\n    }\n  }\n\n  stream._state = 'closed';\n\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseResolve(writer);\n  }\n\n  assert(stream._pendingAbortRequest === undefined, 'stream._pendingAbortRequest === undefined');\n  assert(stream._storedError === undefined, 'stream._storedError === undefined');\n}\n\nfunction WritableStreamFinishInFlightCloseWithError(stream, error) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._reject(error);\n  stream._inFlightCloseRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  // Never execute sink abort() after sink close().\n  if (stream._pendingAbortRequest !== undefined) {\n    stream._pendingAbortRequest._reject(error);\n    stream._pendingAbortRequest = undefined;\n  }\n  WritableStreamDealWithRejection(stream, error);\n}\n\n// TODO(ricea): Fix alphabetical order.\nfunction WritableStreamCloseQueuedOrInFlight(stream) {\n  if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamHasOperationMarkedInFlight(stream) {\n  if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamMarkCloseRequestInFlight(stream) {\n  assert(stream._inFlightCloseRequest === undefined);\n  assert(stream._closeRequest !== undefined);\n  stream._inFlightCloseRequest = stream._closeRequest;\n  stream._closeRequest = undefined;\n}\n\nfunction WritableStreamMarkFirstWriteRequestInFlight(stream) {\n  assert(stream._inFlightWriteRequest === undefined, 'there must be no pending write request');\n  assert(stream._writeRequests.length !== 0, 'writeRequests must not be empty');\n  stream._inFlightWriteRequest = stream._writeRequests.shift();\n}\n\nfunction WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n  assert(stream._state === 'errored', '_stream_.[[state]] is `\"errored\"`');\n  if (stream._closeRequest !== undefined) {\n    assert(stream._inFlightCloseRequest === undefined);\n\n    stream._closeRequest._reject(stream._storedError);\n    stream._closeRequest = undefined;\n  }\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseReject(writer, stream._storedError);\n    writer._closedPromise.catch(function () {});\n  }\n}\n\nfunction WritableStreamUpdateBackpressure(stream, backpressure) {\n  assert(stream._state === 'writable');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  var writer = stream._writer;\n  if (writer !== undefined && backpressure !== stream._backpressure) {\n    if (backpressure === true) {\n      defaultWriterReadyPromiseReset(writer);\n    } else {\n      assert(backpressure === false);\n\n      defaultWriterReadyPromiseResolve(writer);\n    }\n  }\n\n  stream._backpressure = backpressure;\n}\n\nvar WritableStreamDefaultWriter = function () {\n  function WritableStreamDefaultWriter(stream) {\n    _classCallCheck(this, WritableStreamDefaultWriter);\n\n    if (IsWritableStream(stream) === false) {\n      throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');\n    }\n    if (IsWritableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n    }\n\n    this._ownerWritableStream = stream;\n    stream._writer = this;\n\n    var state = stream._state;\n\n    if (state === 'writable') {\n      if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._backpressure === true) {\n        defaultWriterReadyPromiseInitialize(this);\n      } else {\n        defaultWriterReadyPromiseInitializeAsResolved(this);\n      }\n\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'erroring') {\n      defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n      this._readyPromise.catch(function () {});\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'closed') {\n      defaultWriterReadyPromiseInitializeAsResolved(this);\n      defaultWriterClosedPromiseInitializeAsResolved(this);\n    } else {\n      assert(state === 'errored', 'state must be errored');\n\n      var storedError = stream._storedError;\n      defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n      this._readyPromise.catch(function () {});\n      defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n      this._closedPromise.catch(function () {});\n    }\n  }\n\n  _createClass(WritableStreamDefaultWriter, [{\n    key: 'abort',\n    value: function abort(reason) {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('abort'));\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        return Promise.reject(defaultWriterLockException('abort'));\n      }\n\n      return WritableStreamDefaultWriterAbort(this, reason);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('close'));\n      }\n\n      var stream = this._ownerWritableStream;\n\n      if (stream === undefined) {\n        return Promise.reject(defaultWriterLockException('close'));\n      }\n\n      if (WritableStreamCloseQueuedOrInFlight(stream) === true) {\n        return Promise.reject(new TypeError('cannot close an already-closing stream'));\n      }\n\n      return WritableStreamDefaultWriterClose(this);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        throw defaultWriterBrandCheckException('releaseLock');\n      }\n\n      var stream = this._ownerWritableStream;\n\n      if (stream === undefined) {\n        return;\n      }\n\n      assert(stream._writer !== undefined);\n\n      WritableStreamDefaultWriterRelease(this);\n    }\n  }, {\n    key: 'write',\n    value: function write(chunk) {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('write'));\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        return Promise.reject(defaultWriterLockException('write to'));\n      }\n\n      return WritableStreamDefaultWriterWrite(this, chunk);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        throw defaultWriterBrandCheckException('desiredSize');\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        throw defaultWriterLockException('desiredSize');\n      }\n\n      return WritableStreamDefaultWriterGetDesiredSize(this);\n    }\n  }, {\n    key: 'ready',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('ready'));\n      }\n\n      return this._readyPromise;\n    }\n  }]);\n\n  return WritableStreamDefaultWriter;\n}();\n\n// Abstract operations for the WritableStreamDefaultWriter.\n\nfunction IsWritableStreamDefaultWriter(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n    return false;\n  }\n\n  return true;\n}\n\n// A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultWriterAbort(writer, reason) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  return WritableStreamAbort(stream, reason);\n}\n\nfunction WritableStreamDefaultWriterClose(writer) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return Promise.reject(new TypeError('The stream (in ' + state + ' state) is not in the writable state and cannot be closed'));\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  var promise = new Promise(function (resolve, reject) {\n    var closeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._closeRequest = closeRequest;\n  });\n\n  if (stream._backpressure === true && state === 'writable') {\n    defaultWriterReadyPromiseResolve(writer);\n  }\n\n  WritableStreamDefaultControllerClose(stream._writableStreamController);\n\n  return promise;\n}\n\nfunction WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var state = stream._state;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.resolve();\n  }\n\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n\n  return WritableStreamDefaultWriterClose(writer);\n}\n\nfunction WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n  if (writer._closedPromiseState === 'pending') {\n    defaultWriterClosedPromiseReject(writer, error);\n  } else {\n    defaultWriterClosedPromiseResetToRejected(writer, error);\n  }\n  writer._closedPromise.catch(function () {});\n}\n\nfunction WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n  if (writer._readyPromiseState === 'pending') {\n    defaultWriterReadyPromiseReject(writer, error);\n  } else {\n    defaultWriterReadyPromiseResetToRejected(writer, error);\n  }\n  writer._readyPromise.catch(function () {});\n}\n\nfunction WritableStreamDefaultWriterGetDesiredSize(writer) {\n  var stream = writer._ownerWritableStream;\n  var state = stream._state;\n\n  if (state === 'errored' || state === 'erroring') {\n    return null;\n  }\n\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n}\n\nfunction WritableStreamDefaultWriterRelease(writer) {\n  var stream = writer._ownerWritableStream;\n  assert(stream !== undefined);\n  assert(stream._writer === writer);\n\n  var releasedError = new TypeError('Writer was released and can no longer be used to monitor the stream\\'s closedness');\n\n  WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n\n  // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n  // rejected until afterwards. This means that simply testing state will not work.\n  WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n\n  stream._writer = undefined;\n  writer._ownerWritableStream = undefined;\n}\n\nfunction WritableStreamDefaultWriterWrite(writer, chunk) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var controller = stream._writableStreamController;\n\n  var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n\n  if (stream !== writer._ownerWritableStream) {\n    return Promise.reject(defaultWriterLockException('write to'));\n  }\n\n  var state = stream._state;\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.reject(new TypeError('The stream is closing or closed and cannot be written to'));\n  }\n  if (state === 'erroring') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable');\n\n  var promise = WritableStreamAddWriteRequest(stream);\n\n  WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n\n  return promise;\n}\n\nvar WritableStreamDefaultController = function () {\n  function WritableStreamDefaultController(stream, underlyingSink, size, highWaterMark) {\n    _classCallCheck(this, WritableStreamDefaultController);\n\n    if (IsWritableStream(stream) === false) {\n      throw new TypeError('WritableStreamDefaultController can only be constructed with a WritableStream instance');\n    }\n\n    if (stream._writableStreamController !== undefined) {\n      throw new TypeError('WritableStreamDefaultController instances can only be created by the WritableStream constructor');\n    }\n\n    this._controlledWritableStream = stream;\n\n    this._underlyingSink = underlyingSink;\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = undefined;\n    this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._started = false;\n\n    var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n    this._strategySize = normalizedStrategy.size;\n    this._strategyHWM = normalizedStrategy.highWaterMark;\n\n    var backpressure = WritableStreamDefaultControllerGetBackpressure(this);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n  }\n\n  _createClass(WritableStreamDefaultController, [{\n    key: 'error',\n    value: function error(e) {\n      if (IsWritableStreamDefaultController(this) === false) {\n        throw new TypeError('WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');\n      }\n      var state = this._controlledWritableStream._state;\n      if (state !== 'writable') {\n        // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n        // just treat it as a no-op.\n        return;\n      }\n\n      WritableStreamDefaultControllerError(this, e);\n    }\n  }, {\n    key: '__abortSteps',\n    value: function __abortSteps(reason) {\n      return PromiseInvokeOrNoop(this._underlyingSink, 'abort', [reason]);\n    }\n  }, {\n    key: '__errorSteps',\n    value: function __errorSteps() {\n      ResetQueue(this);\n    }\n  }, {\n    key: '__startSteps',\n    value: function __startSteps() {\n      var _this = this;\n\n      var startResult = InvokeOrNoop(this._underlyingSink, 'start', [this]);\n      var stream = this._controlledWritableStream;\n\n      Promise.resolve(startResult).then(function () {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        _this._started = true;\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(_this);\n      }, function (r) {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        _this._started = true;\n        WritableStreamDealWithRejection(stream, r);\n      }).catch(rethrowAssertionErrorRejection);\n    }\n  }]);\n\n  return WritableStreamDefaultController;\n}();\n\n// Abstract operations implementing interface required by the WritableStream.\n\nfunction WritableStreamDefaultControllerClose(controller) {\n  EnqueueValueWithSize(controller, 'close', 0);\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\nfunction WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n  var strategySize = controller._strategySize;\n\n  if (strategySize === undefined) {\n    return 1;\n  }\n\n  try {\n    return strategySize(chunk);\n  } catch (chunkSizeE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n    return 1;\n  }\n}\n\nfunction WritableStreamDefaultControllerGetDesiredSize(controller) {\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n  var writeRecord = { chunk: chunk };\n\n  try {\n    EnqueueValueWithSize(controller, writeRecord, chunkSize);\n  } catch (enqueueE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n    return;\n  }\n\n  var stream = controller._controlledWritableStream;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._state === 'writable') {\n    var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n  }\n\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\n// Abstract operations for the WritableStreamDefaultController.\n\nfunction IsWritableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSink')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n  var stream = controller._controlledWritableStream;\n\n  if (controller._started === false) {\n    return;\n  }\n\n  if (stream._inFlightWriteRequest !== undefined) {\n    return;\n  }\n\n  var state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return;\n  }\n  if (state === 'erroring') {\n    WritableStreamFinishErroring(stream);\n    return;\n  }\n\n  if (controller._queue.length === 0) {\n    return;\n  }\n\n  var writeRecord = PeekQueueValue(controller);\n  if (writeRecord === 'close') {\n    WritableStreamDefaultControllerProcessClose(controller);\n  } else {\n    WritableStreamDefaultControllerProcessWrite(controller, writeRecord.chunk);\n  }\n}\n\nfunction WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n  if (controller._controlledWritableStream._state === 'writable') {\n    WritableStreamDefaultControllerError(controller, error);\n  }\n}\n\nfunction WritableStreamDefaultControllerProcessClose(controller) {\n  var stream = controller._controlledWritableStream;\n\n  WritableStreamMarkCloseRequestInFlight(stream);\n\n  DequeueValue(controller);\n  assert(controller._queue.length === 0, 'queue must be empty once the final write record is dequeued');\n\n  var sinkClosePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'close', []);\n  sinkClosePromise.then(function () {\n    WritableStreamFinishInFlightClose(stream);\n  }, function (reason) {\n    WritableStreamFinishInFlightCloseWithError(stream, reason);\n  }).catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n  var stream = controller._controlledWritableStream;\n\n  WritableStreamMarkFirstWriteRequestInFlight(stream);\n\n  var sinkWritePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'write', [chunk, controller]);\n  sinkWritePromise.then(function () {\n    WritableStreamFinishInFlightWrite(stream);\n\n    var state = stream._state;\n    assert(state === 'writable' || state === 'erroring');\n\n    DequeueValue(controller);\n\n    if (WritableStreamCloseQueuedOrInFlight(stream) === false && state === 'writable') {\n      var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n      WritableStreamUpdateBackpressure(stream, backpressure);\n    }\n\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n  }, function (reason) {\n    WritableStreamFinishInFlightWriteWithError(stream, reason);\n  }).catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerGetBackpressure(controller) {\n  var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n  return desiredSize <= 0;\n}\n\n// A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultControllerError(controller, error) {\n  var stream = controller._controlledWritableStream;\n\n  assert(stream._state === 'writable');\n\n  WritableStreamStartErroring(stream, error);\n}\n\n// Helper functions for the WritableStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('WritableStream.prototype.' + name + ' can only be used on a WritableStream');\n}\n\n// Helper functions for the WritableStreamDefaultWriter.\n\nfunction defaultWriterBrandCheckException(name) {\n  return new TypeError('WritableStreamDefaultWriter.prototype.' + name + ' can only be used on a WritableStreamDefaultWriter');\n}\n\nfunction defaultWriterLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released writer');\n}\n\nfunction defaultWriterClosedPromiseInitialize(writer) {\n  writer._closedPromise = new Promise(function (resolve, reject) {\n    writer._closedPromise_resolve = resolve;\n    writer._closedPromise_reject = reject;\n    writer._closedPromiseState = 'pending';\n  });\n}\n\nfunction defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseInitializeAsResolved(writer) {\n  writer._closedPromise = Promise.resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterClosedPromiseReject(writer, reason) {\n  assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n  assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n  assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n  writer._closedPromise_reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResetToRejected(writer, reason) {\n  assert(writer._closedPromise_resolve === undefined, 'writer._closedPromise_resolve === undefined');\n  assert(writer._closedPromise_reject === undefined, 'writer._closedPromise_reject === undefined');\n  assert(writer._closedPromiseState !== 'pending', 'writer._closedPromiseState is not pending');\n\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResolve(writer) {\n  assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n  assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n  assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n  writer._closedPromise_resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterReadyPromiseInitialize(writer) {\n  writer._readyPromise = new Promise(function (resolve, reject) {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsResolved(writer) {\n  writer._readyPromise = Promise.resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n\nfunction defaultWriterReadyPromiseReject(writer, reason) {\n  assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n  assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n  writer._readyPromise_reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseReset(writer) {\n  assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n  assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n\n  writer._readyPromise = new Promise(function (resolve, reject) {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseResetToRejected(writer, reason) {\n  assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n  assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseResolve(writer) {\n  assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n  assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n  writer._readyPromise_resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _require = __w_pdfjs_require__(0),\n    IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber;\n\nvar _require2 = __w_pdfjs_require__(1),\n    assert = _require2.assert;\n\nexports.DequeueValue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n  assert(container._queue.length > 0, 'Spec-level failure: should never dequeue from an empty queue.');\n\n  var pair = container._queue.shift();\n  container._queueTotalSize -= pair.size;\n  if (container._queueTotalSize < 0) {\n    container._queueTotalSize = 0;\n  }\n\n  return pair.value;\n};\n\nexports.EnqueueValueWithSize = function (container, value, size) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and ' + '[[queueTotalSize]].');\n\n  size = Number(size);\n  if (!IsFiniteNonNegativeNumber(size)) {\n    throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n  }\n\n  container._queue.push({ value: value, size: size });\n  container._queueTotalSize += size;\n};\n\nexports.PeekQueueValue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n  assert(container._queue.length > 0, 'Spec-level failure: should never peek at an empty queue.');\n\n  var pair = container._queue[0];\n  return pair.value;\n};\n\nexports.ResetQueue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n\n  container._queue = [];\n  container._queueTotalSize = 0;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(0),\n    ArrayBufferCopy = _require.ArrayBufferCopy,\n    CreateIterResultObject = _require.CreateIterResultObject,\n    IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber,\n    InvokeOrNoop = _require.InvokeOrNoop,\n    PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n    TransferArrayBuffer = _require.TransferArrayBuffer,\n    ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n    ValidateAndNormalizeHighWaterMark = _require.ValidateAndNormalizeHighWaterMark;\n\nvar _require2 = __w_pdfjs_require__(0),\n    createArrayFromList = _require2.createArrayFromList,\n    createDataProperty = _require2.createDataProperty,\n    typeIsObject = _require2.typeIsObject;\n\nvar _require3 = __w_pdfjs_require__(1),\n    assert = _require3.assert,\n    rethrowAssertionErrorRejection = _require3.rethrowAssertionErrorRejection;\n\nvar _require4 = __w_pdfjs_require__(3),\n    DequeueValue = _require4.DequeueValue,\n    EnqueueValueWithSize = _require4.EnqueueValueWithSize,\n    ResetQueue = _require4.ResetQueue;\n\nvar _require5 = __w_pdfjs_require__(2),\n    AcquireWritableStreamDefaultWriter = _require5.AcquireWritableStreamDefaultWriter,\n    IsWritableStream = _require5.IsWritableStream,\n    IsWritableStreamLocked = _require5.IsWritableStreamLocked,\n    WritableStreamAbort = _require5.WritableStreamAbort,\n    WritableStreamDefaultWriterCloseWithErrorPropagation = _require5.WritableStreamDefaultWriterCloseWithErrorPropagation,\n    WritableStreamDefaultWriterRelease = _require5.WritableStreamDefaultWriterRelease,\n    WritableStreamDefaultWriterWrite = _require5.WritableStreamDefaultWriterWrite,\n    WritableStreamCloseQueuedOrInFlight = _require5.WritableStreamCloseQueuedOrInFlight;\n\nvar ReadableStream = function () {\n  function ReadableStream() {\n    var underlyingSource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        size = _ref.size,\n        highWaterMark = _ref.highWaterMark;\n\n    _classCallCheck(this, ReadableStream);\n\n    // Exposed to controllers.\n    this._state = 'readable';\n\n    this._reader = undefined;\n    this._storedError = undefined;\n\n    this._disturbed = false;\n\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    this._readableStreamController = undefined;\n    var type = underlyingSource.type;\n    var typeString = String(type);\n    if (typeString === 'bytes') {\n      if (highWaterMark === undefined) {\n        highWaterMark = 0;\n      }\n      this._readableStreamController = new ReadableByteStreamController(this, underlyingSource, highWaterMark);\n    } else if (type === undefined) {\n      if (highWaterMark === undefined) {\n        highWaterMark = 1;\n      }\n      this._readableStreamController = new ReadableStreamDefaultController(this, underlyingSource, size, highWaterMark);\n    } else {\n      throw new RangeError('Invalid type is specified');\n    }\n  }\n\n  _createClass(ReadableStream, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (IsReadableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('cancel'));\n      }\n\n      if (IsReadableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('Cannot cancel a stream that already has a reader'));\n      }\n\n      return ReadableStreamCancel(this, reason);\n    }\n  }, {\n    key: 'getReader',\n    value: function getReader() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          mode = _ref2.mode;\n\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('getReader');\n      }\n\n      if (mode === undefined) {\n        return AcquireReadableStreamDefaultReader(this);\n      }\n\n      mode = String(mode);\n\n      if (mode === 'byob') {\n        return AcquireReadableStreamBYOBReader(this);\n      }\n\n      throw new RangeError('Invalid mode is specified');\n    }\n  }, {\n    key: 'pipeThrough',\n    value: function pipeThrough(_ref3, options) {\n      var writable = _ref3.writable,\n          readable = _ref3.readable;\n\n      var promise = this.pipeTo(writable, options);\n\n      ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise);\n\n      return readable;\n    }\n  }, {\n    key: 'pipeTo',\n    value: function pipeTo(dest) {\n      var _this = this;\n\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          preventClose = _ref4.preventClose,\n          preventAbort = _ref4.preventAbort,\n          preventCancel = _ref4.preventCancel;\n\n      if (IsReadableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('pipeTo'));\n      }\n      if (IsWritableStream(dest) === false) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo\\'s first argument must be a WritableStream'));\n      }\n\n      preventClose = Boolean(preventClose);\n      preventAbort = Boolean(preventAbort);\n      preventCancel = Boolean(preventCancel);\n\n      if (IsReadableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n      }\n      if (IsWritableStreamLocked(dest) === true) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n      }\n\n      var reader = AcquireReadableStreamDefaultReader(this);\n      var writer = AcquireWritableStreamDefaultWriter(dest);\n\n      var shuttingDown = false;\n\n      // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n      var currentWrite = Promise.resolve();\n\n      return new Promise(function (resolve, reject) {\n        // Using reader and writer, read all chunks from this and write them to dest\n        // - Backpressure must be enforced\n        // - Shutdown must stop all activity\n        function pipeLoop() {\n          currentWrite = Promise.resolve();\n\n          if (shuttingDown === true) {\n            return Promise.resolve();\n          }\n\n          return writer._readyPromise.then(function () {\n            return ReadableStreamDefaultReaderRead(reader).then(function (_ref5) {\n              var value = _ref5.value,\n                  done = _ref5.done;\n\n              if (done === true) {\n                return;\n              }\n\n              currentWrite = WritableStreamDefaultWriterWrite(writer, value).catch(function () {});\n            });\n          }).then(pipeLoop);\n        }\n\n        // Errors must be propagated forward\n        isOrBecomesErrored(_this, reader._closedPromise, function (storedError) {\n          if (preventAbort === false) {\n            shutdownWithAction(function () {\n              return WritableStreamAbort(dest, storedError);\n            }, true, storedError);\n          } else {\n            shutdown(true, storedError);\n          }\n        });\n\n        // Errors must be propagated backward\n        isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n          if (preventCancel === false) {\n            shutdownWithAction(function () {\n              return ReadableStreamCancel(_this, storedError);\n            }, true, storedError);\n          } else {\n            shutdown(true, storedError);\n          }\n        });\n\n        // Closing must be propagated forward\n        isOrBecomesClosed(_this, reader._closedPromise, function () {\n          if (preventClose === false) {\n            shutdownWithAction(function () {\n              return WritableStreamDefaultWriterCloseWithErrorPropagation(writer);\n            });\n          } else {\n            shutdown();\n          }\n        });\n\n        // Closing must be propagated backward\n        if (WritableStreamCloseQueuedOrInFlight(dest) === true || dest._state === 'closed') {\n          var destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n\n          if (preventCancel === false) {\n            shutdownWithAction(function () {\n              return ReadableStreamCancel(_this, destClosed);\n            }, true, destClosed);\n          } else {\n            shutdown(true, destClosed);\n          }\n        }\n\n        pipeLoop().catch(function (err) {\n          currentWrite = Promise.resolve();\n          rethrowAssertionErrorRejection(err);\n        });\n\n        function waitForWritesToFinish() {\n          // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n          // for that too.\n          var oldCurrentWrite = currentWrite;\n          return currentWrite.then(function () {\n            return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined;\n          });\n        }\n\n        function isOrBecomesErrored(stream, promise, action) {\n          if (stream._state === 'errored') {\n            action(stream._storedError);\n          } else {\n            promise.catch(action).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function isOrBecomesClosed(stream, promise, action) {\n          if (stream._state === 'closed') {\n            action();\n          } else {\n            promise.then(action).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function shutdownWithAction(action, originalIsError, originalError) {\n          if (shuttingDown === true) {\n            return;\n          }\n          shuttingDown = true;\n\n          if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n            waitForWritesToFinish().then(doTheRest);\n          } else {\n            doTheRest();\n          }\n\n          function doTheRest() {\n            action().then(function () {\n              return finalize(originalIsError, originalError);\n            }, function (newError) {\n              return finalize(true, newError);\n            }).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function shutdown(isError, error) {\n          if (shuttingDown === true) {\n            return;\n          }\n          shuttingDown = true;\n\n          if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n            waitForWritesToFinish().then(function () {\n              return finalize(isError, error);\n            }).catch(rethrowAssertionErrorRejection);\n          } else {\n            finalize(isError, error);\n          }\n        }\n\n        function finalize(isError, error) {\n          WritableStreamDefaultWriterRelease(writer);\n          ReadableStreamReaderGenericRelease(reader);\n\n          if (isError) {\n            reject(error);\n          } else {\n            resolve(undefined);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'tee',\n    value: function tee() {\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('tee');\n      }\n\n      var branches = ReadableStreamTee(this, false);\n      return createArrayFromList(branches);\n    }\n  }, {\n    key: 'locked',\n    get: function get() {\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('locked');\n      }\n\n      return IsReadableStreamLocked(this);\n    }\n  }]);\n\n  return ReadableStream;\n}();\n\nmodule.exports = {\n  ReadableStream: ReadableStream,\n  IsReadableStreamDisturbed: IsReadableStreamDisturbed,\n  ReadableStreamDefaultControllerClose: ReadableStreamDefaultControllerClose,\n  ReadableStreamDefaultControllerEnqueue: ReadableStreamDefaultControllerEnqueue,\n  ReadableStreamDefaultControllerError: ReadableStreamDefaultControllerError,\n  ReadableStreamDefaultControllerGetDesiredSize: ReadableStreamDefaultControllerGetDesiredSize\n};\n\n// Abstract operations for the ReadableStream.\n\nfunction AcquireReadableStreamBYOBReader(stream) {\n  return new ReadableStreamBYOBReader(stream);\n}\n\nfunction AcquireReadableStreamDefaultReader(stream) {\n  return new ReadableStreamDefaultReader(stream);\n}\n\nfunction IsReadableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDisturbed(stream) {\n  assert(IsReadableStream(stream) === true, 'IsReadableStreamDisturbed should only be used on known readable streams');\n\n  return stream._disturbed;\n}\n\nfunction IsReadableStreamLocked(stream) {\n  assert(IsReadableStream(stream) === true, 'IsReadableStreamLocked should only be used on known readable streams');\n\n  if (stream._reader === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamTee(stream, cloneForBranch2) {\n  assert(IsReadableStream(stream) === true);\n  assert(typeof cloneForBranch2 === 'boolean');\n\n  var reader = AcquireReadableStreamDefaultReader(stream);\n\n  var teeState = {\n    closedOrErrored: false,\n    canceled1: false,\n    canceled2: false,\n    reason1: undefined,\n    reason2: undefined\n  };\n  teeState.promise = new Promise(function (resolve) {\n    teeState._resolve = resolve;\n  });\n\n  var pull = create_ReadableStreamTeePullFunction();\n  pull._reader = reader;\n  pull._teeState = teeState;\n  pull._cloneForBranch2 = cloneForBranch2;\n\n  var cancel1 = create_ReadableStreamTeeBranch1CancelFunction();\n  cancel1._stream = stream;\n  cancel1._teeState = teeState;\n\n  var cancel2 = create_ReadableStreamTeeBranch2CancelFunction();\n  cancel2._stream = stream;\n  cancel2._teeState = teeState;\n\n  var underlyingSource1 = Object.create(Object.prototype);\n  createDataProperty(underlyingSource1, 'pull', pull);\n  createDataProperty(underlyingSource1, 'cancel', cancel1);\n  var branch1Stream = new ReadableStream(underlyingSource1);\n\n  var underlyingSource2 = Object.create(Object.prototype);\n  createDataProperty(underlyingSource2, 'pull', pull);\n  createDataProperty(underlyingSource2, 'cancel', cancel2);\n  var branch2Stream = new ReadableStream(underlyingSource2);\n\n  pull._branch1 = branch1Stream._readableStreamController;\n  pull._branch2 = branch2Stream._readableStreamController;\n\n  reader._closedPromise.catch(function (r) {\n    if (teeState.closedOrErrored === true) {\n      return;\n    }\n\n    ReadableStreamDefaultControllerError(pull._branch1, r);\n    ReadableStreamDefaultControllerError(pull._branch2, r);\n    teeState.closedOrErrored = true;\n  });\n\n  return [branch1Stream, branch2Stream];\n}\n\nfunction create_ReadableStreamTeePullFunction() {\n  function f() {\n    var reader = f._reader,\n        branch1 = f._branch1,\n        branch2 = f._branch2,\n        teeState = f._teeState;\n\n\n    return ReadableStreamDefaultReaderRead(reader).then(function (result) {\n      assert(typeIsObject(result));\n      var value = result.value;\n      var done = result.done;\n      assert(typeof done === 'boolean');\n\n      if (done === true && teeState.closedOrErrored === false) {\n        if (teeState.canceled1 === false) {\n          ReadableStreamDefaultControllerClose(branch1);\n        }\n        if (teeState.canceled2 === false) {\n          ReadableStreamDefaultControllerClose(branch2);\n        }\n        teeState.closedOrErrored = true;\n      }\n\n      if (teeState.closedOrErrored === true) {\n        return;\n      }\n\n      var value1 = value;\n      var value2 = value;\n\n      // There is no way to access the cloning code right now in the reference implementation.\n      // If we add one then we'll need an implementation for serializable objects.\n      // if (teeState.canceled2 === false && cloneForBranch2 === true) {\n      //   value2 = StructuredDeserialize(StructuredSerialize(value2));\n      // }\n\n      if (teeState.canceled1 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch1, value1);\n      }\n\n      if (teeState.canceled2 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch2, value2);\n      }\n    });\n  }\n  return f;\n}\n\nfunction create_ReadableStreamTeeBranch1CancelFunction() {\n  function f(reason) {\n    var stream = f._stream,\n        teeState = f._teeState;\n\n\n    teeState.canceled1 = true;\n    teeState.reason1 = reason;\n    if (teeState.canceled2 === true) {\n      var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n      var cancelResult = ReadableStreamCancel(stream, compositeReason);\n      teeState._resolve(cancelResult);\n    }\n    return teeState.promise;\n  }\n  return f;\n}\n\nfunction create_ReadableStreamTeeBranch2CancelFunction() {\n  function f(reason) {\n    var stream = f._stream,\n        teeState = f._teeState;\n\n\n    teeState.canceled2 = true;\n    teeState.reason2 = reason;\n    if (teeState.canceled1 === true) {\n      var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n      var cancelResult = ReadableStreamCancel(stream, compositeReason);\n      teeState._resolve(cancelResult);\n    }\n    return teeState.promise;\n  }\n  return f;\n}\n\n// ReadableStream API exposed for controllers.\n\nfunction ReadableStreamAddReadIntoRequest(stream) {\n  assert(IsReadableStreamBYOBReader(stream._reader) === true);\n  assert(stream._state === 'readable' || stream._state === 'closed');\n\n  var promise = new Promise(function (resolve, reject) {\n    var readIntoRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._reader._readIntoRequests.push(readIntoRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamAddReadRequest(stream) {\n  assert(IsReadableStreamDefaultReader(stream._reader) === true);\n  assert(stream._state === 'readable');\n\n  var promise = new Promise(function (resolve, reject) {\n    var readRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._reader._readRequests.push(readRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamCancel(stream, reason) {\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(undefined);\n  }\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  ReadableStreamClose(stream);\n\n  var sourceCancelPromise = stream._readableStreamController.__cancelSteps(reason);\n  return sourceCancelPromise.then(function () {\n    return undefined;\n  });\n}\n\nfunction ReadableStreamClose(stream) {\n  assert(stream._state === 'readable');\n\n  stream._state = 'closed';\n\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (var i = 0; i < reader._readRequests.length; i++) {\n      var _resolve = reader._readRequests[i]._resolve;\n\n      _resolve(CreateIterResultObject(undefined, true));\n    }\n    reader._readRequests = [];\n  }\n\n  defaultReaderClosedPromiseResolve(reader);\n\n  return undefined;\n}\n\nfunction ReadableStreamError(stream, e) {\n  assert(IsReadableStream(stream) === true, 'stream must be ReadableStream');\n  assert(stream._state === 'readable', 'state must be readable');\n\n  stream._state = 'errored';\n  stream._storedError = e;\n\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (var i = 0; i < reader._readRequests.length; i++) {\n      var readRequest = reader._readRequests[i];\n      readRequest._reject(e);\n    }\n\n    reader._readRequests = [];\n  } else {\n    assert(IsReadableStreamBYOBReader(reader), 'reader must be ReadableStreamBYOBReader');\n\n    for (var _i = 0; _i < reader._readIntoRequests.length; _i++) {\n      var readIntoRequest = reader._readIntoRequests[_i];\n      readIntoRequest._reject(e);\n    }\n\n    reader._readIntoRequests = [];\n  }\n\n  defaultReaderClosedPromiseReject(reader, e);\n  reader._closedPromise.catch(function () {});\n}\n\nfunction ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n  var reader = stream._reader;\n\n  assert(reader._readIntoRequests.length > 0);\n\n  var readIntoRequest = reader._readIntoRequests.shift();\n  readIntoRequest._resolve(CreateIterResultObject(chunk, done));\n}\n\nfunction ReadableStreamFulfillReadRequest(stream, chunk, done) {\n  var reader = stream._reader;\n\n  assert(reader._readRequests.length > 0);\n\n  var readRequest = reader._readRequests.shift();\n  readRequest._resolve(CreateIterResultObject(chunk, done));\n}\n\nfunction ReadableStreamGetNumReadIntoRequests(stream) {\n  return stream._reader._readIntoRequests.length;\n}\n\nfunction ReadableStreamGetNumReadRequests(stream) {\n  return stream._reader._readRequests.length;\n}\n\nfunction ReadableStreamHasBYOBReader(stream) {\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamBYOBReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamHasDefaultReader(stream) {\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\n// Readers\n\nvar ReadableStreamDefaultReader = function () {\n  function ReadableStreamDefaultReader(stream) {\n    _classCallCheck(this, ReadableStreamDefaultReader);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');\n    }\n    if (IsReadableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readRequests = [];\n  }\n\n  _createClass(ReadableStreamDefaultReader, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('cancel'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('cancel'));\n      }\n\n      return ReadableStreamReaderGenericCancel(this, reason);\n    }\n  }, {\n    key: 'read',\n    value: function read() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('read'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('read from'));\n      }\n\n      return ReadableStreamDefaultReaderRead(this);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        throw defaultReaderBrandCheckException('releaseLock');\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return;\n      }\n\n      if (this._readRequests.length > 0) {\n        throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n      }\n\n      ReadableStreamReaderGenericRelease(this);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }]);\n\n  return ReadableStreamDefaultReader;\n}();\n\nvar ReadableStreamBYOBReader = function () {\n  function ReadableStreamBYOBReader(stream) {\n    _classCallCheck(this, ReadableStreamBYOBReader);\n\n    if (!IsReadableStream(stream)) {\n      throw new TypeError('ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a ' + 'byte source');\n    }\n    if (IsReadableByteStreamController(stream._readableStreamController) === false) {\n      throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' + 'source');\n    }\n    if (IsReadableStreamLocked(stream)) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readIntoRequests = [];\n  }\n\n  _createClass(ReadableStreamBYOBReader, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('cancel'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('cancel'));\n      }\n\n      return ReadableStreamReaderGenericCancel(this, reason);\n    }\n  }, {\n    key: 'read',\n    value: function read(view) {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('read'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('read from'));\n      }\n\n      if (!ArrayBuffer.isView(view)) {\n        return Promise.reject(new TypeError('view must be an array buffer view'));\n      }\n\n      if (view.byteLength === 0) {\n        return Promise.reject(new TypeError('view must have non-zero byteLength'));\n      }\n\n      return ReadableStreamBYOBReaderRead(this, view);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (!IsReadableStreamBYOBReader(this)) {\n        throw byobReaderBrandCheckException('releaseLock');\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return;\n      }\n\n      if (this._readIntoRequests.length > 0) {\n        throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n      }\n\n      ReadableStreamReaderGenericRelease(this);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }]);\n\n  return ReadableStreamBYOBReader;\n}();\n\n// Abstract operations for the readers.\n\nfunction IsReadableStreamBYOBReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDefaultReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamReaderGenericInitialize(reader, stream) {\n  reader._ownerReadableStream = stream;\n  stream._reader = reader;\n\n  if (stream._state === 'readable') {\n    defaultReaderClosedPromiseInitialize(reader);\n  } else if (stream._state === 'closed') {\n    defaultReaderClosedPromiseInitializeAsResolved(reader);\n  } else {\n    assert(stream._state === 'errored', 'state must be errored');\n\n    defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n    reader._closedPromise.catch(function () {});\n  }\n}\n\n// A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n// check.\n\nfunction ReadableStreamReaderGenericCancel(reader, reason) {\n  var stream = reader._ownerReadableStream;\n  assert(stream !== undefined);\n  return ReadableStreamCancel(stream, reason);\n}\n\nfunction ReadableStreamReaderGenericRelease(reader) {\n  assert(reader._ownerReadableStream !== undefined);\n  assert(reader._ownerReadableStream._reader === reader);\n\n  if (reader._ownerReadableStream._state === 'readable') {\n    defaultReaderClosedPromiseReject(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  } else {\n    defaultReaderClosedPromiseResetToRejected(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  }\n  reader._closedPromise.catch(function () {});\n\n  reader._ownerReadableStream._reader = undefined;\n  reader._ownerReadableStream = undefined;\n}\n\nfunction ReadableStreamBYOBReaderRead(reader, view) {\n  var stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  // Controllers must implement this.\n  return ReadableByteStreamControllerPullInto(stream._readableStreamController, view);\n}\n\nfunction ReadableStreamDefaultReaderRead(reader) {\n  var stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(CreateIterResultObject(undefined, true));\n  }\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(stream._state === 'readable');\n\n  return stream._readableStreamController.__pullSteps();\n}\n\n// Controllers\n\nvar ReadableStreamDefaultController = function () {\n  function ReadableStreamDefaultController(stream, underlyingSource, size, highWaterMark) {\n    _classCallCheck(this, ReadableStreamDefaultController);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableStreamDefaultController can only be constructed with a ReadableStream instance');\n    }\n\n    if (stream._readableStreamController !== undefined) {\n      throw new TypeError('ReadableStreamDefaultController instances can only be created by the ReadableStream constructor');\n    }\n\n    this._controlledReadableStream = stream;\n\n    this._underlyingSource = underlyingSource;\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = undefined;\n    this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._started = false;\n    this._closeRequested = false;\n    this._pullAgain = false;\n    this._pulling = false;\n\n    var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n    this._strategySize = normalizedStrategy.size;\n    this._strategyHWM = normalizedStrategy.highWaterMark;\n\n    var controller = this;\n\n    var startResult = InvokeOrNoop(underlyingSource, 'start', [this]);\n    Promise.resolve(startResult).then(function () {\n      controller._started = true;\n\n      assert(controller._pulling === false);\n      assert(controller._pullAgain === false);\n\n      ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }, function (r) {\n      ReadableStreamDefaultControllerErrorIfNeeded(controller, r);\n    }).catch(rethrowAssertionErrorRejection);\n  }\n\n  _createClass(ReadableStreamDefaultController, [{\n    key: 'close',\n    value: function close() {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('close');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('The stream has already been closed; do not close it again!');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n      }\n\n      ReadableStreamDefaultControllerClose(this);\n    }\n  }, {\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('enqueue');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('stream is closed or draining');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n      }\n\n      return ReadableStreamDefaultControllerEnqueue(this, chunk);\n    }\n  }, {\n    key: 'error',\n    value: function error(e) {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('error');\n      }\n\n      var stream = this._controlledReadableStream;\n      if (stream._state !== 'readable') {\n        throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n      }\n\n      ReadableStreamDefaultControllerError(this, e);\n    }\n  }, {\n    key: '__cancelSteps',\n    value: function __cancelSteps(reason) {\n      ResetQueue(this);\n      return PromiseInvokeOrNoop(this._underlyingSource, 'cancel', [reason]);\n    }\n  }, {\n    key: '__pullSteps',\n    value: function __pullSteps() {\n      var stream = this._controlledReadableStream;\n\n      if (this._queue.length > 0) {\n        var chunk = DequeueValue(this);\n\n        if (this._closeRequested === true && this._queue.length === 0) {\n          ReadableStreamClose(stream);\n        } else {\n          ReadableStreamDefaultControllerCallPullIfNeeded(this);\n        }\n\n        return Promise.resolve(CreateIterResultObject(chunk, false));\n      }\n\n      var pendingPromise = ReadableStreamAddReadRequest(stream);\n      ReadableStreamDefaultControllerCallPullIfNeeded(this);\n      return pendingPromise;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('desiredSize');\n      }\n\n      return ReadableStreamDefaultControllerGetDesiredSize(this);\n    }\n  }]);\n\n  return ReadableStreamDefaultController;\n}();\n\n// Abstract operations for the ReadableStreamDefaultController.\n\nfunction IsReadableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSource')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n  var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  var pullPromise = PromiseInvokeOrNoop(controller._underlyingSource, 'pull', [controller]);\n  pullPromise.then(function () {\n    controller._pulling = false;\n\n    if (controller._pullAgain === true) {\n      controller._pullAgain = false;\n      return ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    return undefined;\n  }, function (e) {\n    ReadableStreamDefaultControllerErrorIfNeeded(controller, e);\n  }).catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerShouldCallPull(controller) {\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state === 'closed' || stream._state === 'errored') {\n    return false;\n  }\n\n  if (controller._closeRequested === true) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n  if (desiredSize > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction ReadableStreamDefaultControllerClose(controller) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  controller._closeRequested = true;\n\n  if (controller._queue.length === 0) {\n    ReadableStreamClose(stream);\n  }\n}\n\nfunction ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    ReadableStreamFulfillReadRequest(stream, chunk, false);\n  } else {\n    var chunkSize = 1;\n\n    if (controller._strategySize !== undefined) {\n      var strategySize = controller._strategySize;\n      try {\n        chunkSize = strategySize(chunk);\n      } catch (chunkSizeE) {\n        ReadableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n        throw chunkSizeE;\n      }\n    }\n\n    try {\n      EnqueueValueWithSize(controller, chunk, chunkSize);\n    } catch (enqueueE) {\n      ReadableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n      throw enqueueE;\n    }\n  }\n\n  ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerError(controller, e) {\n  var stream = controller._controlledReadableStream;\n\n  assert(stream._state === 'readable');\n\n  ResetQueue(controller);\n\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableStreamDefaultControllerErrorIfNeeded(controller, e) {\n  if (controller._controlledReadableStream._state === 'readable') {\n    ReadableStreamDefaultControllerError(controller, e);\n  }\n}\n\nfunction ReadableStreamDefaultControllerGetDesiredSize(controller) {\n  var stream = controller._controlledReadableStream;\n  var state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nvar ReadableStreamBYOBRequest = function () {\n  function ReadableStreamBYOBRequest(controller, view) {\n    _classCallCheck(this, ReadableStreamBYOBRequest);\n\n    this._associatedReadableByteStreamController = controller;\n    this._view = view;\n  }\n\n  _createClass(ReadableStreamBYOBRequest, [{\n    key: 'respond',\n    value: function respond(bytesWritten) {\n      if (IsReadableStreamBYOBRequest(this) === false) {\n        throw byobRequestBrandCheckException('respond');\n      }\n\n      if (this._associatedReadableByteStreamController === undefined) {\n        throw new TypeError('This BYOB request has been invalidated');\n      }\n\n      ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n    }\n  }, {\n    key: 'respondWithNewView',\n    value: function respondWithNewView(view) {\n      if (IsReadableStreamBYOBRequest(this) === false) {\n        throw byobRequestBrandCheckException('respond');\n      }\n\n      if (this._associatedReadableByteStreamController === undefined) {\n        throw new TypeError('This BYOB request has been invalidated');\n      }\n\n      if (!ArrayBuffer.isView(view)) {\n        throw new TypeError('You can only respond with array buffer views');\n      }\n\n      ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n    }\n  }, {\n    key: 'view',\n    get: function get() {\n      return this._view;\n    }\n  }]);\n\n  return ReadableStreamBYOBRequest;\n}();\n\nvar ReadableByteStreamController = function () {\n  function ReadableByteStreamController(stream, underlyingByteSource, highWaterMark) {\n    _classCallCheck(this, ReadableByteStreamController);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableByteStreamController can only be constructed with a ReadableStream instance given ' + 'a byte source');\n    }\n\n    if (stream._readableStreamController !== undefined) {\n      throw new TypeError('ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte ' + 'source');\n    }\n\n    this._controlledReadableStream = stream;\n\n    this._underlyingByteSource = underlyingByteSource;\n\n    this._pullAgain = false;\n    this._pulling = false;\n\n    ReadableByteStreamControllerClearPendingPullIntos(this);\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._closeRequested = false;\n    this._started = false;\n\n    this._strategyHWM = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n    var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n    if (autoAllocateChunkSize !== undefined) {\n      if (Number.isInteger(autoAllocateChunkSize) === false || autoAllocateChunkSize <= 0) {\n        throw new RangeError('autoAllocateChunkSize must be a positive integer');\n      }\n    }\n    this._autoAllocateChunkSize = autoAllocateChunkSize;\n\n    this._pendingPullIntos = [];\n\n    var controller = this;\n\n    var startResult = InvokeOrNoop(underlyingByteSource, 'start', [this]);\n    Promise.resolve(startResult).then(function () {\n      controller._started = true;\n\n      assert(controller._pulling === false);\n      assert(controller._pullAgain === false);\n\n      ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }, function (r) {\n      if (stream._state === 'readable') {\n        ReadableByteStreamControllerError(controller, r);\n      }\n    }).catch(rethrowAssertionErrorRejection);\n  }\n\n  _createClass(ReadableByteStreamController, [{\n    key: 'close',\n    value: function close() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('close');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('The stream has already been closed; do not close it again!');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n      }\n\n      ReadableByteStreamControllerClose(this);\n    }\n  }, {\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('enqueue');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('stream is closed or draining');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n      }\n\n      if (!ArrayBuffer.isView(chunk)) {\n        throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');\n      }\n\n      ReadableByteStreamControllerEnqueue(this, chunk);\n    }\n  }, {\n    key: 'error',\n    value: function error(e) {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('error');\n      }\n\n      var stream = this._controlledReadableStream;\n      if (stream._state !== 'readable') {\n        throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n      }\n\n      ReadableByteStreamControllerError(this, e);\n    }\n  }, {\n    key: '__cancelSteps',\n    value: function __cancelSteps(reason) {\n      if (this._pendingPullIntos.length > 0) {\n        var firstDescriptor = this._pendingPullIntos[0];\n        firstDescriptor.bytesFilled = 0;\n      }\n\n      ResetQueue(this);\n\n      return PromiseInvokeOrNoop(this._underlyingByteSource, 'cancel', [reason]);\n    }\n  }, {\n    key: '__pullSteps',\n    value: function __pullSteps() {\n      var stream = this._controlledReadableStream;\n      assert(ReadableStreamHasDefaultReader(stream) === true);\n\n      if (this._queueTotalSize > 0) {\n        assert(ReadableStreamGetNumReadRequests(stream) === 0);\n\n        var entry = this._queue.shift();\n        this._queueTotalSize -= entry.byteLength;\n\n        ReadableByteStreamControllerHandleQueueDrain(this);\n\n        var view = void 0;\n        try {\n          view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n        } catch (viewE) {\n          return Promise.reject(viewE);\n        }\n\n        return Promise.resolve(CreateIterResultObject(view, false));\n      }\n\n      var autoAllocateChunkSize = this._autoAllocateChunkSize;\n      if (autoAllocateChunkSize !== undefined) {\n        var buffer = void 0;\n        try {\n          buffer = new ArrayBuffer(autoAllocateChunkSize);\n        } catch (bufferE) {\n          return Promise.reject(bufferE);\n        }\n\n        var pullIntoDescriptor = {\n          buffer: buffer,\n          byteOffset: 0,\n          byteLength: autoAllocateChunkSize,\n          bytesFilled: 0,\n          elementSize: 1,\n          ctor: Uint8Array,\n          readerType: 'default'\n        };\n\n        this._pendingPullIntos.push(pullIntoDescriptor);\n      }\n\n      var promise = ReadableStreamAddReadRequest(stream);\n\n      ReadableByteStreamControllerCallPullIfNeeded(this);\n\n      return promise;\n    }\n  }, {\n    key: 'byobRequest',\n    get: function get() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('byobRequest');\n      }\n\n      if (this._byobRequest === undefined && this._pendingPullIntos.length > 0) {\n        var firstDescriptor = this._pendingPullIntos[0];\n        var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n\n        this._byobRequest = new ReadableStreamBYOBRequest(this, view);\n      }\n\n      return this._byobRequest;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('desiredSize');\n      }\n\n      return ReadableByteStreamControllerGetDesiredSize(this);\n    }\n  }]);\n\n  return ReadableByteStreamController;\n}();\n\n// Abstract operations for the ReadableByteStreamController.\n\nfunction IsReadableByteStreamController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingByteSource')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamBYOBRequest(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableByteStreamControllerCallPullIfNeeded(controller) {\n  var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  // TODO: Test controller argument\n  var pullPromise = PromiseInvokeOrNoop(controller._underlyingByteSource, 'pull', [controller]);\n  pullPromise.then(function () {\n    controller._pulling = false;\n\n    if (controller._pullAgain === true) {\n      controller._pullAgain = false;\n      ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n  }, function (e) {\n    if (controller._controlledReadableStream._state === 'readable') {\n      ReadableByteStreamControllerError(controller, e);\n    }\n  }).catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableByteStreamControllerClearPendingPullIntos(controller) {\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  controller._pendingPullIntos = [];\n}\n\nfunction ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n  assert(stream._state !== 'errored', 'state must not be errored');\n\n  var done = false;\n  if (stream._state === 'closed') {\n    assert(pullIntoDescriptor.bytesFilled === 0);\n    done = true;\n  }\n\n  var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n  if (pullIntoDescriptor.readerType === 'default') {\n    ReadableStreamFulfillReadRequest(stream, filledView, done);\n  } else {\n    assert(pullIntoDescriptor.readerType === 'byob');\n    ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n  }\n}\n\nfunction ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n  var bytesFilled = pullIntoDescriptor.bytesFilled;\n  var elementSize = pullIntoDescriptor.elementSize;\n\n  assert(bytesFilled <= pullIntoDescriptor.byteLength);\n  assert(bytesFilled % elementSize === 0);\n\n  return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n}\n\nfunction ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n  controller._queue.push({ buffer: buffer, byteOffset: byteOffset, byteLength: byteLength });\n  controller._queueTotalSize += byteLength;\n}\n\nfunction ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n  var elementSize = pullIntoDescriptor.elementSize;\n\n  var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n\n  var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n  var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n  var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n\n  var totalBytesToCopyRemaining = maxBytesToCopy;\n  var ready = false;\n  if (maxAlignedBytes > currentAlignedBytes) {\n    totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n    ready = true;\n  }\n\n  var queue = controller._queue;\n\n  while (totalBytesToCopyRemaining > 0) {\n    var headOfQueue = queue[0];\n\n    var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n\n    var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    ArrayBufferCopy(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n\n    if (headOfQueue.byteLength === bytesToCopy) {\n      queue.shift();\n    } else {\n      headOfQueue.byteOffset += bytesToCopy;\n      headOfQueue.byteLength -= bytesToCopy;\n    }\n    controller._queueTotalSize -= bytesToCopy;\n\n    ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n\n    totalBytesToCopyRemaining -= bytesToCopy;\n  }\n\n  if (ready === false) {\n    assert(controller._queueTotalSize === 0, 'queue must be empty');\n    assert(pullIntoDescriptor.bytesFilled > 0);\n    assert(pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize);\n  }\n\n  return ready;\n}\n\nfunction ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n  assert(controller._pendingPullIntos.length === 0 || controller._pendingPullIntos[0] === pullIntoDescriptor);\n\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  pullIntoDescriptor.bytesFilled += size;\n}\n\nfunction ReadableByteStreamControllerHandleQueueDrain(controller) {\n  assert(controller._controlledReadableStream._state === 'readable');\n\n  if (controller._queueTotalSize === 0 && controller._closeRequested === true) {\n    ReadableStreamClose(controller._controlledReadableStream);\n  } else {\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n  }\n}\n\nfunction ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n  if (controller._byobRequest === undefined) {\n    return;\n  }\n\n  controller._byobRequest._associatedReadableByteStreamController = undefined;\n  controller._byobRequest._view = undefined;\n  controller._byobRequest = undefined;\n}\n\nfunction ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n  assert(controller._closeRequested === false);\n\n  while (controller._pendingPullIntos.length > 0) {\n    if (controller._queueTotalSize === 0) {\n      return;\n    }\n\n    var pullIntoDescriptor = controller._pendingPullIntos[0];\n\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n      ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerPullInto(controller, view) {\n  var stream = controller._controlledReadableStream;\n\n  var elementSize = 1;\n  if (view.constructor !== DataView) {\n    elementSize = view.constructor.BYTES_PER_ELEMENT;\n  }\n\n  var ctor = view.constructor;\n\n  var pullIntoDescriptor = {\n    buffer: view.buffer,\n    byteOffset: view.byteOffset,\n    byteLength: view.byteLength,\n    bytesFilled: 0,\n    elementSize: elementSize,\n    ctor: ctor,\n    readerType: 'byob'\n  };\n\n  if (controller._pendingPullIntos.length > 0) {\n    pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n    controller._pendingPullIntos.push(pullIntoDescriptor);\n\n    // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n    // - No change happens on desiredSize\n    // - The source has already been notified of that there's at least 1 pending read(view)\n\n    return ReadableStreamAddReadIntoRequest(stream);\n  }\n\n  if (stream._state === 'closed') {\n    var emptyView = new view.constructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n    return Promise.resolve(CreateIterResultObject(emptyView, true));\n  }\n\n  if (controller._queueTotalSize > 0) {\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n\n      ReadableByteStreamControllerHandleQueueDrain(controller);\n\n      return Promise.resolve(CreateIterResultObject(filledView, false));\n    }\n\n    if (controller._closeRequested === true) {\n      var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      return Promise.reject(e);\n    }\n  }\n\n  pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n  controller._pendingPullIntos.push(pullIntoDescriptor);\n\n  var promise = ReadableStreamAddReadIntoRequest(stream);\n\n  ReadableByteStreamControllerCallPullIfNeeded(controller);\n\n  return promise;\n}\n\nfunction ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n  firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n\n  assert(firstDescriptor.bytesFilled === 0, 'bytesFilled must be 0');\n\n  var stream = controller._controlledReadableStream;\n  if (ReadableStreamHasBYOBReader(stream) === true) {\n    while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n      var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n      ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n  if (pullIntoDescriptor.bytesFilled + bytesWritten > pullIntoDescriptor.byteLength) {\n    throw new RangeError('bytesWritten out of range');\n  }\n\n  ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n\n  if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n    // TODO: Figure out whether we should detach the buffer or not here.\n    return;\n  }\n\n  ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n  var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n  if (remainderSize > 0) {\n    var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    var remainder = pullIntoDescriptor.buffer.slice(end - remainderSize, end);\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n  }\n\n  pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n  pullIntoDescriptor.bytesFilled -= remainderSize;\n  ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n\n  ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n}\n\nfunction ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n  var firstDescriptor = controller._pendingPullIntos[0];\n\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state === 'closed') {\n    if (bytesWritten !== 0) {\n      throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n    }\n\n    ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n  } else {\n    assert(stream._state === 'readable');\n\n    ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n  }\n}\n\nfunction ReadableByteStreamControllerShiftPendingPullInto(controller) {\n  var descriptor = controller._pendingPullIntos.shift();\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  return descriptor;\n}\n\nfunction ReadableByteStreamControllerShouldCallPull(controller) {\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state !== 'readable') {\n    return false;\n  }\n\n  if (controller._closeRequested === true) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (ReadableStreamHasDefaultReader(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  if (ReadableStreamHasBYOBReader(stream) === true && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n    return true;\n  }\n\n  if (ReadableByteStreamControllerGetDesiredSize(controller) > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// A client of ReadableByteStreamController may use these functions directly to bypass state check.\n\nfunction ReadableByteStreamControllerClose(controller) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  if (controller._queueTotalSize > 0) {\n    controller._closeRequested = true;\n\n    return;\n  }\n\n  if (controller._pendingPullIntos.length > 0) {\n    var firstPendingPullInto = controller._pendingPullIntos[0];\n    if (firstPendingPullInto.bytesFilled > 0) {\n      var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      throw e;\n    }\n  }\n\n  ReadableStreamClose(stream);\n}\n\nfunction ReadableByteStreamControllerEnqueue(controller, chunk) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  var buffer = chunk.buffer;\n  var byteOffset = chunk.byteOffset;\n  var byteLength = chunk.byteLength;\n  var transferredBuffer = TransferArrayBuffer(buffer);\n\n  if (ReadableStreamHasDefaultReader(stream) === true) {\n    if (ReadableStreamGetNumReadRequests(stream) === 0) {\n      ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    } else {\n      assert(controller._queue.length === 0);\n\n      var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n      ReadableStreamFulfillReadRequest(stream, transferredView, false);\n    }\n  } else if (ReadableStreamHasBYOBReader(stream) === true) {\n    // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n  } else {\n    assert(IsReadableStreamLocked(stream) === false, 'stream must not be locked');\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n  }\n}\n\nfunction ReadableByteStreamControllerError(controller, e) {\n  var stream = controller._controlledReadableStream;\n\n  assert(stream._state === 'readable');\n\n  ReadableByteStreamControllerClearPendingPullIntos(controller);\n\n  ResetQueue(controller);\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableByteStreamControllerGetDesiredSize(controller) {\n  var stream = controller._controlledReadableStream;\n  var state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction ReadableByteStreamControllerRespond(controller, bytesWritten) {\n  bytesWritten = Number(bytesWritten);\n  if (IsFiniteNonNegativeNumber(bytesWritten) === false) {\n    throw new RangeError('bytesWritten must be a finite');\n  }\n\n  assert(controller._pendingPullIntos.length > 0);\n\n  ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n}\n\nfunction ReadableByteStreamControllerRespondWithNewView(controller, view) {\n  assert(controller._pendingPullIntos.length > 0);\n\n  var firstDescriptor = controller._pendingPullIntos[0];\n\n  if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n    throw new RangeError('The region specified by view does not match byobRequest');\n  }\n  if (firstDescriptor.byteLength !== view.byteLength) {\n    throw new RangeError('The buffer of view has different capacity than byobRequest');\n  }\n\n  firstDescriptor.buffer = view.buffer;\n\n  ReadableByteStreamControllerRespondInternal(controller, view.byteLength);\n}\n\n// Helper functions for the ReadableStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('ReadableStream.prototype.' + name + ' can only be used on a ReadableStream');\n}\n\n// Helper functions for the readers.\n\nfunction readerLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released reader');\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction defaultReaderBrandCheckException(name) {\n  return new TypeError('ReadableStreamDefaultReader.prototype.' + name + ' can only be used on a ReadableStreamDefaultReader');\n}\n\nfunction defaultReaderClosedPromiseInitialize(reader) {\n  reader._closedPromise = new Promise(function (resolve, reject) {\n    reader._closedPromise_resolve = resolve;\n    reader._closedPromise_reject = reject;\n  });\n}\n\nfunction defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n  reader._closedPromise = Promise.reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseInitializeAsResolved(reader) {\n  reader._closedPromise = Promise.resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseReject(reader, reason) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseResetToRejected(reader, reason) {\n  assert(reader._closedPromise_resolve === undefined);\n  assert(reader._closedPromise_reject === undefined);\n\n  reader._closedPromise = Promise.reject(reason);\n}\n\nfunction defaultReaderClosedPromiseResolve(reader) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction byobReaderBrandCheckException(name) {\n  return new TypeError('ReadableStreamBYOBReader.prototype.' + name + ' can only be used on a ReadableStreamBYOBReader');\n}\n\n// Helper functions for the ReadableStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError('ReadableStreamDefaultController.prototype.' + name + ' can only be used on a ReadableStreamDefaultController');\n}\n\n// Helper functions for the ReadableStreamBYOBRequest.\n\nfunction byobRequestBrandCheckException(name) {\n  return new TypeError('ReadableStreamBYOBRequest.prototype.' + name + ' can only be used on a ReadableStreamBYOBRequest');\n}\n\n// Helper functions for the ReadableByteStreamController.\n\nfunction byteStreamControllerBrandCheckException(name) {\n  return new TypeError('ReadableByteStreamController.prototype.' + name + ' can only be used on a ReadableByteStreamController');\n}\n\n// Helper function for ReadableStream pipeThrough\n\nfunction ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise) {\n  try {\n    // This relies on the brand-check that is enforced by Promise.prototype.then(). As with the rest of the reference\n    // implementation, it doesn't attempt to do the right thing if someone has modified the global environment.\n    Promise.prototype.then.call(promise, undefined, function () {});\n  } catch (e) {\n    // The brand check failed, therefore the internal slot is not present and there's nothing further to do.\n  }\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar transformStream = __w_pdfjs_require__(6);\nvar readableStream = __w_pdfjs_require__(4);\nvar writableStream = __w_pdfjs_require__(2);\n\nexports.TransformStream = transformStream.TransformStream;\nexports.ReadableStream = readableStream.ReadableStream;\nexports.IsReadableStreamDisturbed = readableStream.IsReadableStreamDisturbed;\nexports.ReadableStreamDefaultControllerClose = readableStream.ReadableStreamDefaultControllerClose;\nexports.ReadableStreamDefaultControllerEnqueue = readableStream.ReadableStreamDefaultControllerEnqueue;\nexports.ReadableStreamDefaultControllerError = readableStream.ReadableStreamDefaultControllerError;\nexports.ReadableStreamDefaultControllerGetDesiredSize = readableStream.ReadableStreamDefaultControllerGetDesiredSize;\nexports.AcquireWritableStreamDefaultWriter = writableStream.AcquireWritableStreamDefaultWriter;\nexports.IsWritableStream = writableStream.IsWritableStream;\nexports.IsWritableStreamLocked = writableStream.IsWritableStreamLocked;\nexports.WritableStream = writableStream.WritableStream;\nexports.WritableStreamAbort = writableStream.WritableStreamAbort;\nexports.WritableStreamDefaultControllerError = writableStream.WritableStreamDefaultControllerError;\nexports.WritableStreamDefaultWriterCloseWithErrorPropagation = writableStream.WritableStreamDefaultWriterCloseWithErrorPropagation;\nexports.WritableStreamDefaultWriterRelease = writableStream.WritableStreamDefaultWriterRelease;\nexports.WritableStreamDefaultWriterWrite = writableStream.WritableStreamDefaultWriterWrite;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(1),\n    assert = _require.assert;\n\nvar _require2 = __w_pdfjs_require__(0),\n    InvokeOrNoop = _require2.InvokeOrNoop,\n    PromiseInvokeOrPerformFallback = _require2.PromiseInvokeOrPerformFallback,\n    PromiseInvokeOrNoop = _require2.PromiseInvokeOrNoop,\n    typeIsObject = _require2.typeIsObject;\n\nvar _require3 = __w_pdfjs_require__(4),\n    ReadableStream = _require3.ReadableStream,\n    ReadableStreamDefaultControllerClose = _require3.ReadableStreamDefaultControllerClose,\n    ReadableStreamDefaultControllerEnqueue = _require3.ReadableStreamDefaultControllerEnqueue,\n    ReadableStreamDefaultControllerError = _require3.ReadableStreamDefaultControllerError,\n    ReadableStreamDefaultControllerGetDesiredSize = _require3.ReadableStreamDefaultControllerGetDesiredSize;\n\nvar _require4 = __w_pdfjs_require__(2),\n    WritableStream = _require4.WritableStream,\n    WritableStreamDefaultControllerError = _require4.WritableStreamDefaultControllerError;\n\n// Methods on the transform stream controller object\n\nfunction TransformStreamCloseReadable(transformStream) {\n  // console.log('TransformStreamCloseReadable()');\n\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  if (transformStream._readableClosed === true) {\n    throw new TypeError('Readable side is already closed');\n  }\n\n  TransformStreamCloseReadableInternal(transformStream);\n}\n\nfunction TransformStreamEnqueueToReadable(transformStream, chunk) {\n  // console.log('TransformStreamEnqueueToReadable()');\n\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  if (transformStream._readableClosed === true) {\n    throw new TypeError('Readable side is already closed');\n  }\n\n  // We throttle transformer.transform invocation based on the backpressure of the ReadableStream, but we still\n  // accept TransformStreamEnqueueToReadable() calls.\n\n  var controller = transformStream._readableController;\n\n  try {\n    ReadableStreamDefaultControllerEnqueue(controller, chunk);\n  } catch (e) {\n    // This happens when readableStrategy.size() throws.\n    // The ReadableStream has already errored itself.\n    transformStream._readableClosed = true;\n    TransformStreamErrorIfNeeded(transformStream, e);\n\n    throw transformStream._storedError;\n  }\n\n  var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n  var maybeBackpressure = desiredSize <= 0;\n\n  if (maybeBackpressure === true && transformStream._backpressure === false) {\n    // This allows pull() again. When desiredSize is 0, it's possible that a pull() will happen immediately (but\n    // asynchronously) after this because of pending read()s and set _backpressure back to false.\n    //\n    // If pull() could be called from inside enqueue(), then this logic would be wrong. This cannot happen\n    // because there is always a promise pending from start() or pull() when _backpressure is false.\n    TransformStreamSetBackpressure(transformStream, true);\n  }\n}\n\nfunction TransformStreamError(transformStream, e) {\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  TransformStreamErrorInternal(transformStream, e);\n}\n\n// Abstract operations.\n\nfunction TransformStreamCloseReadableInternal(transformStream) {\n  assert(transformStream._errored === false);\n  assert(transformStream._readableClosed === false);\n\n  try {\n    ReadableStreamDefaultControllerClose(transformStream._readableController);\n  } catch (e) {\n    assert(false);\n  }\n\n  transformStream._readableClosed = true;\n}\n\nfunction TransformStreamErrorIfNeeded(transformStream, e) {\n  if (transformStream._errored === false) {\n    TransformStreamErrorInternal(transformStream, e);\n  }\n}\n\nfunction TransformStreamErrorInternal(transformStream, e) {\n  // console.log('TransformStreamErrorInternal()');\n\n  assert(transformStream._errored === false);\n\n  transformStream._errored = true;\n  transformStream._storedError = e;\n\n  if (transformStream._writableDone === false) {\n    WritableStreamDefaultControllerError(transformStream._writableController, e);\n  }\n  if (transformStream._readableClosed === false) {\n    ReadableStreamDefaultControllerError(transformStream._readableController, e);\n  }\n}\n\n// Used for preventing the next write() call on TransformStreamSink until there\n// is no longer backpressure.\nfunction TransformStreamReadableReadyPromise(transformStream) {\n  assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n  if (transformStream._backpressure === false) {\n    return Promise.resolve();\n  }\n\n  assert(transformStream._backpressure === true, '_backpressure should have been initialized');\n\n  return transformStream._backpressureChangePromise;\n}\n\nfunction TransformStreamSetBackpressure(transformStream, backpressure) {\n  // console.log(`TransformStreamSetBackpressure(${backpressure})`);\n\n  // Passes also when called during construction.\n  assert(transformStream._backpressure !== backpressure, 'TransformStreamSetBackpressure() should be called only when backpressure is changed');\n\n  if (transformStream._backpressureChangePromise !== undefined) {\n    // The fulfillment value is just for a sanity check.\n    transformStream._backpressureChangePromise_resolve(backpressure);\n  }\n\n  transformStream._backpressureChangePromise = new Promise(function (resolve) {\n    transformStream._backpressureChangePromise_resolve = resolve;\n  });\n\n  transformStream._backpressureChangePromise.then(function (resolution) {\n    assert(resolution !== backpressure, '_backpressureChangePromise should be fulfilled only when backpressure is changed');\n  });\n\n  transformStream._backpressure = backpressure;\n}\n\nfunction TransformStreamDefaultTransform(chunk, transformStreamController) {\n  var transformStream = transformStreamController._controlledTransformStream;\n  TransformStreamEnqueueToReadable(transformStream, chunk);\n  return Promise.resolve();\n}\n\nfunction TransformStreamTransform(transformStream, chunk) {\n  // console.log('TransformStreamTransform()');\n\n  assert(transformStream._errored === false);\n  assert(transformStream._transforming === false);\n  assert(transformStream._backpressure === false);\n\n  transformStream._transforming = true;\n\n  var transformer = transformStream._transformer;\n  var controller = transformStream._transformStreamController;\n\n  var transformPromise = PromiseInvokeOrPerformFallback(transformer, 'transform', [chunk, controller], TransformStreamDefaultTransform, [chunk, controller]);\n\n  return transformPromise.then(function () {\n    transformStream._transforming = false;\n\n    return TransformStreamReadableReadyPromise(transformStream);\n  }, function (e) {\n    TransformStreamErrorIfNeeded(transformStream, e);\n    return Promise.reject(e);\n  });\n}\n\nfunction IsTransformStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsTransformStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nvar TransformStreamSink = function () {\n  function TransformStreamSink(transformStream, startPromise) {\n    _classCallCheck(this, TransformStreamSink);\n\n    this._transformStream = transformStream;\n    this._startPromise = startPromise;\n  }\n\n  _createClass(TransformStreamSink, [{\n    key: 'start',\n    value: function start(c) {\n      var transformStream = this._transformStream;\n\n      transformStream._writableController = c;\n\n      return this._startPromise.then(function () {\n        return TransformStreamReadableReadyPromise(transformStream);\n      });\n    }\n  }, {\n    key: 'write',\n    value: function write(chunk) {\n      // console.log('TransformStreamSink.write()');\n\n      var transformStream = this._transformStream;\n\n      return TransformStreamTransform(transformStream, chunk);\n    }\n  }, {\n    key: 'abort',\n    value: function abort() {\n      var transformStream = this._transformStream;\n      transformStream._writableDone = true;\n      TransformStreamErrorInternal(transformStream, new TypeError('Writable side aborted'));\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      // console.log('TransformStreamSink.close()');\n\n      var transformStream = this._transformStream;\n\n      assert(transformStream._transforming === false);\n\n      transformStream._writableDone = true;\n\n      var flushPromise = PromiseInvokeOrNoop(transformStream._transformer, 'flush', [transformStream._transformStreamController]);\n      // Return a promise that is fulfilled with undefined on success.\n      return flushPromise.then(function () {\n        if (transformStream._errored === true) {\n          return Promise.reject(transformStream._storedError);\n        }\n        if (transformStream._readableClosed === false) {\n          TransformStreamCloseReadableInternal(transformStream);\n        }\n        return Promise.resolve();\n      }).catch(function (r) {\n        TransformStreamErrorIfNeeded(transformStream, r);\n        return Promise.reject(transformStream._storedError);\n      });\n    }\n  }]);\n\n  return TransformStreamSink;\n}();\n\nvar TransformStreamSource = function () {\n  function TransformStreamSource(transformStream, startPromise) {\n    _classCallCheck(this, TransformStreamSource);\n\n    this._transformStream = transformStream;\n    this._startPromise = startPromise;\n  }\n\n  _createClass(TransformStreamSource, [{\n    key: 'start',\n    value: function start(c) {\n      var transformStream = this._transformStream;\n\n      transformStream._readableController = c;\n\n      return this._startPromise.then(function () {\n        // Prevent the first pull() call until there is backpressure.\n\n        assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n        if (transformStream._backpressure === true) {\n          return Promise.resolve();\n        }\n\n        assert(transformStream._backpressure === false, '_backpressure should have been initialized');\n\n        return transformStream._backpressureChangePromise;\n      });\n    }\n  }, {\n    key: 'pull',\n    value: function pull() {\n      // console.log('TransformStreamSource.pull()');\n\n      var transformStream = this._transformStream;\n\n      // Invariant. Enforced by the promises returned by start() and pull().\n      assert(transformStream._backpressure === true, 'pull() should be never called while _backpressure is false');\n\n      assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n      TransformStreamSetBackpressure(transformStream, false);\n\n      // Prevent the next pull() call until there is backpressure.\n      return transformStream._backpressureChangePromise;\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      var transformStream = this._transformStream;\n      transformStream._readableClosed = true;\n      TransformStreamErrorInternal(transformStream, new TypeError('Readable side canceled'));\n    }\n  }]);\n\n  return TransformStreamSource;\n}();\n\nvar TransformStreamDefaultController = function () {\n  function TransformStreamDefaultController(transformStream) {\n    _classCallCheck(this, TransformStreamDefaultController);\n\n    if (IsTransformStream(transformStream) === false) {\n      throw new TypeError('TransformStreamDefaultController can only be ' + 'constructed with a TransformStream instance');\n    }\n\n    if (transformStream._transformStreamController !== undefined) {\n      throw new TypeError('TransformStreamDefaultController instances can ' + 'only be created by the TransformStream constructor');\n    }\n\n    this._controlledTransformStream = transformStream;\n  }\n\n  _createClass(TransformStreamDefaultController, [{\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('enqueue');\n      }\n\n      TransformStreamEnqueueToReadable(this._controlledTransformStream, chunk);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('close');\n      }\n\n      TransformStreamCloseReadable(this._controlledTransformStream);\n    }\n  }, {\n    key: 'error',\n    value: function error(reason) {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('error');\n      }\n\n      TransformStreamError(this._controlledTransformStream, reason);\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('desiredSize');\n      }\n\n      var transformStream = this._controlledTransformStream;\n      var readableController = transformStream._readableController;\n\n      return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n    }\n  }]);\n\n  return TransformStreamDefaultController;\n}();\n\nvar TransformStream = function () {\n  function TransformStream() {\n    var transformer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransformStream);\n\n    this._transformer = transformer;\n    var readableStrategy = transformer.readableStrategy,\n        writableStrategy = transformer.writableStrategy;\n\n\n    this._transforming = false;\n    this._errored = false;\n    this._storedError = undefined;\n\n    this._writableController = undefined;\n    this._readableController = undefined;\n    this._transformStreamController = undefined;\n\n    this._writableDone = false;\n    this._readableClosed = false;\n\n    this._backpressure = undefined;\n    this._backpressureChangePromise = undefined;\n    this._backpressureChangePromise_resolve = undefined;\n\n    this._transformStreamController = new TransformStreamDefaultController(this);\n\n    var startPromise_resolve = void 0;\n    var startPromise = new Promise(function (resolve) {\n      startPromise_resolve = resolve;\n    });\n\n    var source = new TransformStreamSource(this, startPromise);\n\n    this._readable = new ReadableStream(source, readableStrategy);\n\n    var sink = new TransformStreamSink(this, startPromise);\n\n    this._writable = new WritableStream(sink, writableStrategy);\n\n    assert(this._writableController !== undefined);\n    assert(this._readableController !== undefined);\n\n    var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(this._readableController);\n    // Set _backpressure based on desiredSize. As there is no read() at this point, we can just interpret\n    // desiredSize being non-positive as backpressure.\n    TransformStreamSetBackpressure(this, desiredSize <= 0);\n\n    var transformStream = this;\n    var startResult = InvokeOrNoop(transformer, 'start', [transformStream._transformStreamController]);\n    startPromise_resolve(startResult);\n    startPromise.catch(function (e) {\n      // The underlyingSink and underlyingSource will error the readable and writable ends on their own.\n      if (transformStream._errored === false) {\n        transformStream._errored = true;\n        transformStream._storedError = e;\n      }\n    });\n  }\n\n  _createClass(TransformStream, [{\n    key: 'readable',\n    get: function get() {\n      if (IsTransformStream(this) === false) {\n        throw streamBrandCheckException('readable');\n      }\n\n      return this._readable;\n    }\n  }, {\n    key: 'writable',\n    get: function get() {\n      if (IsTransformStream(this) === false) {\n        throw streamBrandCheckException('writable');\n      }\n\n      return this._writable;\n    }\n  }]);\n\n  return TransformStream;\n}();\n\nmodule.exports = { TransformStream: TransformStream };\n\n// Helper functions for the TransformStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError('TransformStreamDefaultController.prototype.' + name + ' can only be used on a TransformStreamDefaultController');\n}\n\n// Helper functions for the TransformStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('TransformStream.prototype.' + name + ' can only be used on a TransformStream');\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\nmodule.exports = __w_pdfjs_require__(5);\n\n\n/***/ })\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// external/streams/streams-lib.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes, CustomStyle, DEFAULT_LINK_REL, getFilenameFromUrl,\n  isExternalLinkTargetSet, isValidUrl, LinkTarget\n} from './dom_utils';\nimport {\n  createBlob, createObjectURL, createPromiseCapability, getVerbosityLevel,\n  InvalidPDFException, isLittleEndian, MissingPDFException, OPS, PageViewport,\n  PasswordException, PasswordResponses, removeNullCharacters, setVerbosityLevel,\n  shadow, UnexpectedResponseException, UnknownErrorException,\n  UNSUPPORTED_FEATURES, Util, VERBOSITY_LEVELS\n} from '../shared/util';\nimport {\n  getDocument, LoopbackPort, PDFDataRangeTransport, PDFWorker\n} from './api';\nimport { AnnotationLayer } from './annotation_layer';\nimport globalScope from '../shared/global_scope';\nimport { Metadata } from './metadata';\nimport { renderTextLayer } from './text_layer';\nimport { SVGGraphics } from './svg';\n\n// The global PDFJS object is now deprecated and will not be supported in\n// the future. The members below are maintained for backward  compatibility\n// and shall not be extended or modified. If the global.js is included as\n// a module, we will create a global PDFJS object instance or use existing.\nif (!globalScope.PDFJS) {\n  globalScope.PDFJS = {};\n}\nvar PDFJS = globalScope.PDFJS;\n\nif (typeof PDFJSDev !== 'undefined') {\n  PDFJS.version = PDFJSDev.eval('BUNDLE_VERSION');\n  PDFJS.build = PDFJSDev.eval('BUNDLE_BUILD');\n}\n\nPDFJS.pdfBug = false;\n\nif (PDFJS.verbosity !== undefined) {\n  setVerbosityLevel(PDFJS.verbosity);\n}\ndelete PDFJS.verbosity;\nObject.defineProperty(PDFJS, 'verbosity', {\n  get() {\n    return getVerbosityLevel();\n  },\n  set(level) {\n    setVerbosityLevel(level);\n  },\n  enumerable: true,\n  configurable: true,\n});\n\nPDFJS.VERBOSITY_LEVELS = VERBOSITY_LEVELS;\nPDFJS.OPS = OPS;\nPDFJS.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\nPDFJS.isValidUrl = isValidUrl;\nPDFJS.shadow = shadow;\nPDFJS.createBlob = createBlob;\nPDFJS.createObjectURL = function PDFJS_createObjectURL(data, contentType) {\n  return createObjectURL(data, contentType, PDFJS.disableCreateObjectURL);\n};\nObject.defineProperty(PDFJS, 'isLittleEndian', {\n  configurable: true,\n  get: function PDFJS_isLittleEndian() {\n    return shadow(PDFJS, 'isLittleEndian', isLittleEndian());\n  },\n});\nPDFJS.removeNullCharacters = removeNullCharacters;\nPDFJS.PasswordResponses = PasswordResponses;\nPDFJS.PasswordException = PasswordException;\nPDFJS.UnknownErrorException = UnknownErrorException;\nPDFJS.InvalidPDFException = InvalidPDFException;\nPDFJS.MissingPDFException = MissingPDFException;\nPDFJS.UnexpectedResponseException = UnexpectedResponseException;\nPDFJS.Util = Util;\nPDFJS.PageViewport = PageViewport;\nPDFJS.createPromiseCapability = createPromiseCapability;\n\n/**\n * The maximum allowed image size in total pixels e.g. width * height. Images\n * above this value will not be drawn. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxImageSize = (PDFJS.maxImageSize === undefined ?\n                      -1 : PDFJS.maxImageSize);\n\n/**\n * The url of where the predefined Adobe CMaps are located. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.cMapUrl = (PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl);\n\n/**\n * Specifies if CMaps are binary packed.\n * @var {boolean}\n */\nPDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n\n/**\n * By default fonts are converted to OpenType fonts and loaded via font face\n * rules. If disabled, the font will be rendered using a built in font\n * renderer that constructs the glyphs with primitive path commands.\n * @var {boolean}\n */\nPDFJS.disableFontFace = (PDFJS.disableFontFace === undefined ?\n                         false : PDFJS.disableFontFace);\n\n/**\n * Path for image resources, mainly for annotation icons. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.imageResourcesPath = (PDFJS.imageResourcesPath === undefined ?\n                            '' : PDFJS.imageResourcesPath);\n\n/**\n * Disable the web worker and run all code on the main thread. This will\n * happen automatically if the browser doesn't support workers or sending\n * typed arrays to workers.\n * @var {boolean}\n */\nPDFJS.disableWorker = (PDFJS.disableWorker === undefined ?\n                       false : PDFJS.disableWorker);\n\n/**\n * Path and filename of the worker file. Required when the worker is enabled\n * in development mode. If unspecified in the production build, the worker\n * will be loaded based on the location of the pdf.js file. It is recommended\n * that the workerSrc is set in a custom application to prevent issues caused\n * by third-party frameworks and libraries.\n * @var {string}\n */\nPDFJS.workerSrc = (PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc);\n\n/**\n * Defines global port for worker process. Overrides workerSrc and\n * disableWorker setting.\n */\nPDFJS.workerPort = (PDFJS.workerPort === undefined ? null : PDFJS.workerPort);\n\n/**\n * Disable range request loading of PDF files. When enabled and if the server\n * supports partial content requests then the PDF will be fetched in chunks.\n * Enabled (false) by default.\n * @var {boolean}\n */\nPDFJS.disableRange = (PDFJS.disableRange === undefined ?\n                      false : PDFJS.disableRange);\n\n/**\n * Disable streaming of PDF file data. By default PDF.js attempts to load PDF\n * in chunks. This default behavior can be disabled.\n * @var {boolean}\n */\nPDFJS.disableStream = (PDFJS.disableStream === undefined ?\n                       false : PDFJS.disableStream);\n\n/**\n * Disable pre-fetching of PDF file data. When range requests are enabled\n * PDF.js will automatically keep fetching more data even if it isn't needed\n * to display the current page. This default behavior can be disabled.\n *\n * NOTE: It is also necessary to disable streaming, see above,\n *       in order for disabling of pre-fetching to work correctly.\n * @var {boolean}\n */\nPDFJS.disableAutoFetch = (PDFJS.disableAutoFetch === undefined ?\n                          false : PDFJS.disableAutoFetch);\n\n/**\n * Enables special hooks for debugging PDF.js.\n * @var {boolean}\n */\nPDFJS.pdfBug = (PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug);\n\n/**\n * Enables transfer usage in postMessage for ArrayBuffers.\n * @var {boolean}\n */\nPDFJS.postMessageTransfers = (PDFJS.postMessageTransfers === undefined ?\n                              true : PDFJS.postMessageTransfers);\n\n/**\n * Disables URL.createObjectURL usage.\n * @var {boolean}\n */\nPDFJS.disableCreateObjectURL = (PDFJS.disableCreateObjectURL === undefined ?\n                                false : PDFJS.disableCreateObjectURL);\n\n/**\n * Disables WebGL usage.\n * @var {boolean}\n */\nPDFJS.disableWebGL = (PDFJS.disableWebGL === undefined ?\n                      true : PDFJS.disableWebGL);\n\n/**\n * Specifies the |target| attribute for external links.\n * The constants from PDFJS.LinkTarget should be used:\n *  - NONE [default]\n *  - SELF\n *  - BLANK\n *  - PARENT\n *  - TOP\n * @var {number}\n */\nPDFJS.externalLinkTarget = (PDFJS.externalLinkTarget === undefined ?\n                            LinkTarget.NONE : PDFJS.externalLinkTarget);\n\n/**\n * Specifies the |rel| attribute for external links. Defaults to stripping\n * the referrer.\n * @var {string}\n */\nPDFJS.externalLinkRel = (PDFJS.externalLinkRel === undefined ?\n                         DEFAULT_LINK_REL : PDFJS.externalLinkRel);\n\n/**\n  * Determines if we can eval strings as JS. Primarily used to improve\n  * performance for font rendering.\n  * @var {boolean}\n  */\nPDFJS.isEvalSupported = (PDFJS.isEvalSupported === undefined ?\n                         true : PDFJS.isEvalSupported);\n\nPDFJS.getDocument = getDocument;\nPDFJS.LoopbackPort = LoopbackPort;\nPDFJS.PDFDataRangeTransport = PDFDataRangeTransport;\nPDFJS.PDFWorker = PDFWorker;\n\nPDFJS.CustomStyle = CustomStyle;\nPDFJS.LinkTarget = LinkTarget;\nPDFJS.addLinkAttributes = addLinkAttributes;\nPDFJS.getFilenameFromUrl = getFilenameFromUrl;\nPDFJS.isExternalLinkTargetSet = isExternalLinkTargetSet;\n\nPDFJS.AnnotationLayer = AnnotationLayer;\n\nPDFJS.renderTextLayer = renderTextLayer;\n\nPDFJS.Metadata = Metadata;\n\nPDFJS.SVGGraphics = SVGGraphics;\n\nexport {\n  globalScope,\n  PDFJS,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/global.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert, bytesToString, isEvalSupported, shadow, string32, warn\n} from '../shared/util';\n\nfunction FontLoader(docId) {\n  this.docId = docId;\n  this.styleElement = null;\n  if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n    this.nativeFontFaces = [];\n    this.loadTestFontId = 0;\n    this.loadingContext = {\n      requests: [],\n      nextRequestId: 0,\n    };\n  }\n}\nFontLoader.prototype = {\n  insertRule: function fontLoaderInsertRule(rule) {\n    var styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = document.createElement('style');\n      styleElement.id = 'PDFJS_FONT_STYLE_TAG_' + this.docId;\n      document.documentElement.getElementsByTagName('head')[0].appendChild(\n        styleElement);\n    }\n\n    var styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  },\n\n  clear: function fontLoaderClear() {\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n    if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n      this.nativeFontFaces.forEach(function(nativeFontFace) {\n        document.fonts.delete(nativeFontFace);\n      });\n      this.nativeFontFaces.length = 0;\n    }\n  },\n};\n\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n  var getLoadTestFont = function () {\n    // This is a CFF font with 1 glyph for '.' that fills its entire width and\n    // height.\n    return atob(\n      'T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' +\n      'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' +\n      'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' +\n      'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' +\n      'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' +\n      'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' +\n      'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' +\n      'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' +\n      'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' +\n      'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' +\n      'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' +\n      'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' +\n      'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' +\n      'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' +\n      'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' +\n      'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' +\n      'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' +\n      'ABAAAAAAAAAAAD6AAAAAAAAA==');\n  };\n  Object.defineProperty(FontLoader.prototype, 'loadTestFont', {\n    get() {\n      return shadow(this, 'loadTestFont', getLoadTestFont());\n    },\n    configurable: true,\n  });\n\n  FontLoader.prototype.addNativeFontFace =\n      function fontLoader_addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    document.fonts.add(nativeFontFace);\n  };\n\n  FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n    var rules = [];\n    var fontsToLoad = [];\n    var fontLoadPromises = [];\n    var getNativeFontPromise = function(nativeFontFace) {\n      // Return a promise that is always fulfilled, even when the font fails to\n      // load.\n      return nativeFontFace.loaded.catch(function(e) {\n        warn('Failed to load font \"' + nativeFontFace.family + '\": ' + e);\n      });\n    };\n    // Firefox Font Loading API does not work with mozPrintCallback --\n    // disabling it in this case.\n    var isFontLoadingAPISupported = FontLoader.isFontLoadingAPISupported &&\n                                    !FontLoader.isSyncFontLoadingSupported;\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n\n      // Add the font to the DOM only once or skip if the font\n      // is already loaded.\n      if (font.attached || font.loading === false) {\n        continue;\n      }\n      font.attached = true;\n\n      if (isFontLoadingAPISupported) {\n        var nativeFontFace = font.createNativeFontFace();\n        if (nativeFontFace) {\n          this.addNativeFontFace(nativeFontFace);\n          fontLoadPromises.push(getNativeFontPromise(nativeFontFace));\n        }\n      } else {\n        var rule = font.createFontFaceRule();\n        if (rule) {\n          this.insertRule(rule);\n          rules.push(rule);\n          fontsToLoad.push(font);\n        }\n      }\n    }\n\n    var request = this.queueLoadingCallback(callback);\n    if (isFontLoadingAPISupported) {\n      Promise.all(fontLoadPromises).then(function() {\n        request.complete();\n      });\n    } else if (rules.length > 0 && !FontLoader.isSyncFontLoadingSupported) {\n      this.prepareFontLoadEvent(rules, fontsToLoad, request);\n    } else {\n      request.complete();\n    }\n  };\n\n  FontLoader.prototype.queueLoadingCallback =\n      function FontLoader_queueLoadingCallback(callback) {\n    function LoadLoader_completeRequest() {\n      assert(!request.end, 'completeRequest() cannot be called twice');\n      request.end = Date.now();\n\n      // sending all completed requests in order how they were queued\n      while (context.requests.length > 0 && context.requests[0].end) {\n        var otherRequest = context.requests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    var context = this.loadingContext;\n    var requestId = 'pdfjs-font-loading-' + (context.nextRequestId++);\n    var request = {\n      id: requestId,\n      complete: LoadLoader_completeRequest,\n      callback,\n      started: Date.now(),\n    };\n    context.requests.push(request);\n    return request;\n  };\n\n  FontLoader.prototype.prepareFontLoadEvent =\n        function fontLoaderPrepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is\n      // ready. It's assumed fonts are loaded in order, so add a known test\n      // font after the desired fonts and then test for the loading of that\n      // test font.\n\n      function int32(data, offset) {\n        return (data.charCodeAt(offset) << 24) |\n               (data.charCodeAt(offset + 1) << 16) |\n               (data.charCodeAt(offset + 2) << 8) |\n               (data.charCodeAt(offset + 3) & 0xff);\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        var chunk1 = s.substr(0, offset);\n        var chunk2 = s.substr(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      var i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      var canvas = document.createElement('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n\n      var called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn('Load test font never loaded.');\n          callback();\n          return;\n        }\n        ctx.font = '30px ' + name;\n        ctx.fillText('.', 0, 20);\n        var imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      var data = this.loadTestFont;\n      var COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length,\n                          loadTestFontId);\n      // CFF checksum is important for IE, adjusting it\n      var CFF_CHECKSUM_OFFSET = 16;\n      var XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) { // align to 4 bytes boundary\n        checksum = (checksum - XXXX_VALUE +\n                    int32(loadTestFontId + 'XXX', i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n      var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' +\n                 url + '}';\n      this.insertRule(rule);\n\n      var names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      var div = document.createElement('div');\n      div.setAttribute('style',\n                       'visibility: hidden;' +\n                       'width: 10px; height: 10px;' +\n                       'position: absolute; top: 0px; left: 0px;');\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        var span = document.createElement('span');\n        span.textContent = 'Hi';\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, function() {\n        document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n  };\n} else {\n  FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n      if (font.attached) {\n        continue;\n      }\n\n      font.attached = true;\n      var rule = font.createFontFaceRule();\n      if (rule) {\n        this.insertRule(rule);\n      }\n    }\n\n    setTimeout(callback);\n  };\n}\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n  FontLoader.isFontLoadingAPISupported = typeof document !== 'undefined' &&\n                                         !!document.fonts;\n}\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL || CHROME')) {\n  var isSyncFontLoadingSupported = function isSyncFontLoadingSupported() {\n    if (typeof navigator === 'undefined') {\n      // node.js - we can pretend sync font loading is supported.\n      return true;\n    }\n\n    var supported = false;\n\n    // User agent string sniffing is bad, but there is no reliable way to tell\n    // if font is fully loaded and ready to be used with canvas.\n    var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n    if (m && m[1] >= 14) {\n      supported = true;\n    }\n    // TODO other browsers\n    return supported;\n  };\n  Object.defineProperty(FontLoader, 'isSyncFontLoadingSupported', {\n    get() {\n      return shadow(FontLoader, 'isSyncFontLoadingSupported',\n                    isSyncFontLoadingSupported());\n    },\n    enumerable: true,\n    configurable: true,\n  });\n}\n\nvar IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, 'value', isEvalSupported());\n  },\n};\n\nvar FontFaceObject = (function FontFaceObjectClosure() {\n  function FontFaceObject(translatedData, options) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (var i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.options = options;\n  }\n  FontFaceObject.prototype = {\n    createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n      if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('MOZCENTRAL')) {\n        throw new Error('Not implemented: createNativeFontFace');\n      }\n\n      if (!this.data) {\n        return null;\n      }\n\n      if (this.options.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n      if (this.options.fontRegistry) {\n        this.options.fontRegistry.registerFont(this);\n      }\n      return nativeFontFace;\n    },\n\n    createFontFaceRule: function FontFaceObject_createFontFaceRule() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (this.options.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var data = bytesToString(new Uint8Array(this.data));\n      var fontName = this.loadedName;\n\n      // Add the font-face rule to the document\n      var url = ('url(data:' + this.mimetype + ';base64,' + btoa(data) + ');');\n      var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n\n      if (this.options.fontRegistry) {\n        this.options.fontRegistry.registerFont(this, url);\n      }\n\n      return rule;\n    },\n\n    getPathGenerator:\n        function FontFaceObject_getPathGenerator(objs, character) {\n      if (!(character in this.compiledGlyphs)) {\n        var cmds = objs.get(this.loadedName + '_path_' + character);\n        var current, i, len;\n\n        // If we can, compile cmds into JS for MAXIMUM SPEED\n        if (this.options.isEvalSupported && IsEvalSupportedCached.value) {\n          var args, js = '';\n          for (i = 0, len = cmds.length; i < len; i++) {\n            current = cmds[i];\n\n            if (current.args !== undefined) {\n              args = current.args.join(',');\n            } else {\n              args = '';\n            }\n\n            js += 'c.' + current.cmd + '(' + args + ');\\n';\n          }\n          // eslint-disable-next-line no-new-func\n          this.compiledGlyphs[character] = new Function('c', 'size', js);\n        } else {\n          // But fall back on using Function.prototype.apply() if we're\n          // blocked from using eval() for whatever reason (like CSP policies)\n          this.compiledGlyphs[character] = function(c, size) {\n            for (i = 0, len = cmds.length; i < len; i++) {\n              current = cmds[i];\n\n              if (current.cmd === 'scale') {\n                current.args = [size, -size];\n              }\n\n              c[current.cmd].apply(c, current.args);\n            }\n          };\n        }\n      }\n      return this.compiledGlyphs[character];\n    },\n  };\n\n  return FontFaceObject;\n})();\n\nexport {\n  FontFaceObject,\n  FontLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/font_loader.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX, IDENTITY_MATRIX, ImageKind, info, isLittleEndian, isNum,\n  OPS, shadow, TextRenderingMode, Util, warn\n} from '../shared/util';\nimport { getShadingPatternFromIR, TilingPattern } from './pattern_helper';\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nvar IsLittleEndianCached = {\n  get value() {\n    return shadow(IsLittleEndianCached, 'value', isLittleEndian());\n  },\n};\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, 'mozCurrentTransform', {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5]\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * (-sinValue) + m[2] * cosValue,\n        m[1] * (-sinValue) + m[3] * cosValue,\n        m[4],\n        m[5]\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(id, width, height,\n                                                 trackTransform) {\n      var canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (var id in this.cache) {\n        var canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width, height = imgData.height;\n  var i, j, j0, width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7, data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height), pos = 0, ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128, elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = (elem & mask) ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding iteresting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) +\n            (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p], p0 = p, pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else { // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2 | type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n      --count;\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function(c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (var i = 0, ii = outlines.length; i < ii; i++) {\n      var o = outlines[i];\n      c.moveTo(o[0], o[1]);\n      for (var j = 2, jj = o.length; j < jj; j += 2) {\n        c.lineTo(o[j], o[j + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = '#000000';\n    this.strokeColor = '#000000';\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(canvasCtx, commonObjs, objs, canvasFactory,\n                          webGLContext, imageLayer) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this.cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData) {\n    if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0, destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xFFFFFFFF;\n      var black = IsLittleEndianCached.value ? 0xFF000000 : 0x000000FF;\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          var k = 0;\n          var kEnd = (srcDiff > fullSrcDiff) ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = (srcByte & 128) ? white : black;\n            dest32[destPos++] = (srcByte & 64) ? white : black;\n            dest32[destPos++] = (srcByte & 32) ? white : black;\n            dest32[destPos++] = (srcByte & 16) ? white : black;\n            dest32[destPos++] = (srcByte & 8) ? white : black;\n            dest32[destPos++] = (srcByte & 4) ? white : black;\n            dest32[destPos++] = (srcByte & 2) ? white : black;\n            dest32[destPos++] = (srcByte & 1) ? white : black;\n          }\n          for (; k < kEnd; k++) {\n             if (mask === 0) {\n               srcByte = src[srcPos++];\n               mask = 128;\n             }\n\n            dest32[destPos++] = (srcByte & mask) ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--;) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = (elem & mask) ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha',\n                      'lineWidth', 'lineCap', 'lineJoin', 'miterLimit',\n                      'globalCompositeOperation', 'font'];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = '#000000';\n    ctx.fillStyle = '#000000';\n    ctx.fillRule = 'nonzero';\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.font = '10px sans-serif';\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y = (maskData[i - 3] * 77) +  // * 0.3 / 255 * 0x10000\n              (maskData[i - 2] * 152) + // * 0.59 ....\n              (maskData[i - 1] * 28);   // * 0.11 ....\n      layerData[i] = transferMap ?\n        (layerData[i] * transferMap[y >> 8]) >> 8 :\n        (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(maskCtx, layerCtx, width, height,\n                               subtype, backdrop, transferMap) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === 'Luminosity') {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY,\n                     smask.offsetX, smask.offsetY);\n\n    var backdrop = smask.backdrop || null;\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      let composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop,\n        },\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height,\n                        smask.subtype, backdrop, smask.transferMap);\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n\n    beginDrawing({ transform, viewport, transparency,\n                   background = null, }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || 'rgb(255, 255, 255)';\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        var transparentCanvas = this.cachedCanvases.getCanvas(\n          'transparent', width, height, true);\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(this.ctx,\n                                 this.compositeCtx.mozCurrentTransform);\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n                                    operatorList,\n                                    executionStartIdx, continueCallback,\n                                    stepper) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations = (argsArrayLen - i > EXECUTION_STEPS &&\n                             typeof continueCallback === 'function');\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var depObjId = deps[n];\n            var common = depObjId[0] === 'g' && depObjId[1] === '_';\n            var objsPool = common ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.isResolved(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      if (this.current.activeSMask !== null) {\n        this.endSMaskGroup();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {\n      // Maybe if we one day fully support color spaces this will be important\n      // for now we can ignore.\n      // TODO set rendering intent?\n    },\n    setFlatness: function CanvasGraphics_setFlatness(flatness) {\n      // There's no way to control this with canvas, but we can safely ignore.\n      // TODO set flatness?\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            this.setRenderingIntent(value);\n            break;\n          case 'FL':\n            this.setFlatness(value);\n            break;\n          case 'Font':\n            this.setFont(value[0], value[1]);\n            break;\n          case 'CA':\n            this.current.strokeAlpha = state[1];\n            break;\n          case 'ca':\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case 'BM':\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case 'SMask':\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (this.stateStack.length > 0 &&\n                  (this.stateStack[this.stateStack.length - 1].activeSMask ===\n                   this.current.activeSMask)) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = 'smaskGroupAt' + this.groupLevel;\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'source-over'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx,\n                   this.webGLContext);\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform);\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      var groupCtx = this.current.resumeSMaskCtx;\n      var currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx,\n                   this.webGLContext);\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform);\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (this.current.activeSMask !== null && (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n          this.current.activeSMask)) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this.cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this.cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x, y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            this.ctx.moveTo(x, y);\n            this.ctx.lineTo(xw, y);\n            this.ctx.lineTo(xw, yh);\n            this.ctx.lineTo(x, yh);\n            this.ctx.lineTo(x, y);\n            this.ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3],\n                              x, y);\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(x, y, args[j], args[j + 1],\n                              args[j + 2], args[j + 3]);\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // Prevent drawing too thin lines by enforcing a minimum line width.\n      ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n                               this.current.lineWidth);\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (strokeColor && strokeColor.hasOwnProperty('type') &&\n          strokeColor.type === 'Pattern') {\n        // for patterns, we transform to pattern space, calculate\n        // the pattern, call stroke, and restore to user space\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.stroke();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.pendingEOFill) {\n        ctx.fill('evenodd');\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 ||\n          current.fontMatrix[3] === 0) {\n        warn('Invalid font matrix for font ' + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || 'sans-serif';\n      var bold = fontObj.black ? '900' : (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n      var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE :\n                            size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n      this.current.fontSizeScale = size / browserFontSize;\n\n      var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n      this.ctx.font = rule;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar: function CanvasGraphics_paintChar(character, x, y) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode = textRenderingMode &\n        TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(textRenderingMode &\n        TextRenderingMode.ADD_TO_PATH_FLAG);\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fill();\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fillText(character, x, y);\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      var ctx = this.canvasFactory.create(10, 10).context;\n      ctx.scale(1.5, 1);\n      ctx.fillText('I', 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, 'isFontSubpixelAAEnabled', enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var spacingDir = vertical ? 1 : -1;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (current.patternFill) {\n        // TODO: Some shading patterns are not applied correctly to text,\n        //       e.g. issues 3988 and 5432, and ShowText-ShadingPattern.pdf.\n        ctx.fillStyle = current.fillColor.getPattern(ctx, this);\n      }\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode = current.textRenderingMode &\n          TextRenderingMode.FILL_STROKE_MASK;\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          this.cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += spacingDir * glyph * fontSize / 1000;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          var measuredWidth = ctx.measureText(character).width * 1000 /\n            fontSize * fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            var characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX += (width - measuredWidth) / 2000 *\n              fontSize / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (glyph.isInFont || font.missingFile) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY);\n            if (accent) {\n              scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n              scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n              this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n            }\n          }\n        }\n\n        var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var spacingDir = font.vertical ? 1 : -1;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this.cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = spacingDir * glyph * fontSize / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth,\n                                                                        yWidth,\n                                                                        llx,\n                                                                        lly,\n                                                                        urx,\n                                                                        ury) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === 'TilingPattern') {\n        var color = IR[1];\n        var baseTransform = this.baseTransform ||\n                            this.ctx.mozCurrentTransform.slice();\n        var canvasGraphicsFactory = {\n          createCanvasGraphics: (ctx) => {\n            return new CanvasGraphics(ctx, this.commonObjs, this.objs,\n                                      this.canvasFactory);\n          },\n        };\n        pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory,\n                                    baseTransform);\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      throw new Error('Should not call beginInlineImage');\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      throw new Error('Should not call beginImageData');\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix,\n                                                                        bbox) {\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info('TODO: Support non-isolated groups.');\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn('Knockout groups not supported.');\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error('Bounding box is required.');\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n                    group.bbox,\n                    currentCtx.mozCurrentTransform);\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [0,\n                          0,\n                          currentCtx.canvas.width,\n                          currentCtx.canvas.height];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1, scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = 'groupAt' + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += '_smask_' + ((this.smaskCounter++) % 2);\n      }\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'source-over'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform,\n                                                             matrix) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n      var domImage = this.objs.get(objId);\n      if (!domImage) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.save();\n\n      var ctx = this.ctx;\n      // scale the image to the unit square\n      ctx.scale(1 / w, -1 / h);\n\n      ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height,\n                    0, -h, w, h);\n      if (this.imageLayer) {\n        var currentTransform = ctx.mozCurrentTransformInverse;\n        var position = this.getCanvasPosition(0, 0);\n        this.imageLayer.appendImage({\n          objId,\n          left: position[0],\n          top: position[1],\n          width: w / currentTransform[0],\n          height: h / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      var ctx = this.ctx;\n      var width = img.width, height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled =\n            compileType3Glyph({ data: img.data, width, height, });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                     width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat:\n      function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX,\n                                                          scaleY, positions) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                     width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n          0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup:\n      function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width, height = image.height;\n\n        var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                       width, height);\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = 'source-in';\n\n        maskCtx.fillStyle = isPatternFill ?\n                            fillColor.getPattern(maskCtx, this) : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                      0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat:\n      function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY,\n                                                          positions) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({ transform: [scaleX, 0, 0, scaleY, positions[i],\n                   positions[i + 1]], x: 0, y: 0, w: width, h: height, });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject:\n      function CanvasGraphics_paintInlineImageXObject(imgData) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0], b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2], d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // instanceof HTMLElement does not work in jsdom node.js module\n      if (imgData instanceof HTMLElement || !imgData.data) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas('inlineImage',\n                                                  width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width, paintHeight = height;\n      var tmpCanvasId = 'prescale1';\n      // Vertial or horizontal scaling shall not be more than 2 to not loose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size\n      while ((widthScale > 2 && paintWidth > 1) ||\n             (heightScale > 2 && paintHeight > 1)) {\n        var newWidth = paintWidth, newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId,\n                                                  newWidth, newHeight);\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                     0, 0, newWidth, newHeight);\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n      }\n      ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                0, -height, width, height);\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup:\n      function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h,\n                      0, -1, 1, 1);\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask:\n      function CanvasGraphics_paintSolidColorImageMask() {\n        this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    paintXObject: function CanvasGraphics_paintXObject() {\n      warn('Unsupported \\'paintXObject\\' command.');\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      // TODO Marked content.\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n                                        tag, properties) {\n      // TODO Marked content.\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      // TODO Marked content.\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip('evenodd');\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n      if (this.cachedGetSinglePixelWidth === null) {\n        // NOTE: The `save` and `restore` commands used below is a workaround\n        // that is necessary in order to prevent `mozCurrentTransformInverse`\n        // from intermittently returning incorrect values in Firefox, see:\n        // https://github.com/mozilla/pdf.js/issues/7188.\n        this.ctx.save();\n        var inverse = this.ctx.mozCurrentTransformInverse;\n        this.ctx.restore();\n        // max of the current horizontal and vertical scale\n        this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(\n          (inverse[0] * inverse[0] + inverse[1] * inverse[1]),\n          (inverse[2] * inverse[2] + inverse[3] * inverse[3])));\n      }\n      return this.cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      var transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5]\n      ];\n    },\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport {\n  CanvasGraphics,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/canvas.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, Util } from '../shared/util';\n\nvar ShadingIRs = {};\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var colorStops = raw[2];\n    var p0 = raw[3];\n    var p1 = raw[4];\n    var r0 = raw[5];\n    var r1 = raw[6];\n    return {\n      type: 'Pattern',\n      getPattern: function RadialAxial_getPattern(ctx) {\n        var grad;\n        if (type === 'axial') {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === 'radial') {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords, colors = context.colors;\n    var bytes = data.data, rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2; p2 = p3; p3 = tmp; tmp = c2; c2 = c3; c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1], c1g = colors[c1 + 1], c1b = colors[c1 + 2];\n    var c2r = colors[c2], c2g = colors[c2 + 1], c2b = colors[c2 + 2];\n    var c3r = colors[c3], c3g = colors[c3 + 1], c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1), maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    var k;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n      k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        k = k < 0 ? 0 : k > 1 ? 1 : k;\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case 'lattice':\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(data, context,\n              ps[q], ps[q + 1], ps[q + verticesPerRow],\n              cs[q], cs[q + 1], cs[q + verticesPerRow]);\n            drawTriangle(data, context,\n              ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n          }\n        }\n        break;\n      case 'triangles':\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(data, context,\n            ps[i], ps[i + 1], ps[i + 2],\n            cs[i], cs[i + 1], cs[i + 2]);\n        }\n        break;\n      default:\n        throw new Error('illegal figure');\n    }\n  }\n\n  function createMeshCanvas(bounds, combinesScale, coords, colors, figures,\n                            backgroundColor, cachedCanvases, webGLContext) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    var BORDER_SIZE = 2;\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    var paddedWidth = width + BORDER_SIZE * 2;\n    var paddedHeight = height + BORDER_SIZE * 2;\n\n    var canvas, tmpCanvas, i, ii;\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context,\n      });\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n                                           false);\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n                                           false);\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    // var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: 'Pattern',\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0],\n                     scale[1] * matrixScale[1]];\n          }\n        }\n\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords,\n          colors, figures, shadingFill ? null : background,\n          owner.cachedCanvases, owner.webGLContext);\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(temporaryPatternCanvas.offsetX,\n                      temporaryPatternCanvas.offsetY);\n        ctx.scale(temporaryPatternCanvas.scaleX,\n                  temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: 'Pattern',\n      getPattern: function Dummy_fromIR_getPattern() {\n        return 'hotpink';\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.type = 'Pattern';\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info('TilingType: ' + tilingType);\n\n      var x0 = bbox[0], y0 = bbox[1], x1 = bbox[2], y1 = bbox[3];\n\n      var topLeft = [x0, y0];\n      // we want the canvas to be as large as the step size\n      var botRight = [x0 + xstep, y0 + ystep];\n\n      var width = botRight[0] - topLeft[0];\n      var height = botRight[1] - topLeft[1];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform);\n      var combinedScale = [matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1]];\n\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])),\n        MAX_PATTERN_SIZE);\n\n      height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])),\n        MAX_PATTERN_SIZE);\n\n      var tmpCanvas = owner.cachedCanvases.getCanvas('pattern',\n        width, height, true);\n      var tmpCtx = tmpCanvas.context;\n      var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n      this.setScale(width, height, xstep, ystep);\n      this.transformToScale(graphics);\n\n      // transform coordinates to pattern space\n      var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n      graphics.transform.apply(graphics, tmpTranslate);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n      return tmpCanvas.canvas;\n    },\n\n    setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n      this.scale = [width / xstep, height / ystep];\n    },\n\n    transformToScale: function TilingPattern_transformToScale(graphics) {\n      var scale = this.scale;\n      var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n      graphics.transform.apply(graphics, tmpScale);\n    },\n\n    scaleToContext: function TilingPattern_scaleToContext() {\n      var scale = this.scale;\n      this.ctx.scale(1 / scale[0], 1 / scale[1]);\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext:\n      function setFillAndStrokeStyleToContext(graphics, paintType, color) {\n        let context = graphics.ctx, current = graphics.current;\n        switch (paintType) {\n          case PaintType.COLORED:\n            var ctx = this.ctx;\n            context.fillStyle = ctx.fillStyle;\n            context.strokeStyle = ctx.strokeStyle;\n            current.fillColor = ctx.fillStyle;\n            current.strokeColor = ctx.strokeStyle;\n            break;\n          case PaintType.UNCOLORED:\n            var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n            context.fillStyle = cssColor;\n            context.strokeStyle = cssColor;\n            // Set color needed by image masks (fixes issues 3226 and 8741).\n            current.fillColor = cssColor;\n            current.strokeColor = cssColor;\n            break;\n          default:\n            throw new FormatError(`Unsupported paint type: ${paintType}`);\n        }\n      },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      ctx = this.ctx;\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n      this.scaleToContext();\n\n      return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport {\n  getShadingPatternFromIR,\n  TilingPattern,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/pattern_helper.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability } from '../shared/util';\n\n /** @implements {IPDFStream} */\nvar PDFDataTransportStream = (function PDFDataTransportStreamClosure() {\n  function PDFDataTransportStream(params, pdfDataRangeTransport) {\n    assert(pdfDataRangeTransport);\n\n    this._queuedChunks = [];\n    var initialData = params.initialData;\n    if (initialData && initialData.length > 0) {\n      let buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isRangeSupported = !(params.disableRange);\n    this._isStreamingSupported = !(params.disableStream);\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk, });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded) => {\n      this._onProgress({ loaded, });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener((chunk) => {\n      this._onReceiveData({ chunk, });\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n  PDFDataTransportStream.prototype = {\n    _onReceiveData: function PDFDataTransportStream_onReceiveData(args) {\n       let buffer = new Uint8Array(args.chunk).buffer;\n       if (args.begin === undefined) {\n         if (this._fullRequestReader) {\n           this._fullRequestReader._enqueue(buffer);\n         } else {\n           this._queuedChunks.push(buffer);\n         }\n       } else {\n         var found = this._rangeReaders.some(function (rangeReader) {\n           if (rangeReader._begin !== args.begin) {\n             return false;\n           }\n           rangeReader._enqueue(buffer);\n           return true;\n         });\n         assert(found);\n       }\n    },\n\n    _onProgress: function PDFDataTransportStream_onDataProgress(evt) {\n       if (this._rangeReaders.length > 0) {\n         // Reporting to first range reader.\n         var firstReader = this._rangeReaders[0];\n         if (firstReader.onProgress) {\n           firstReader.onProgress({ loaded: evt.loaded, });\n         }\n       }\n    },\n\n    _removeRangeReader:\n        function PDFDataTransportStream_removeRangeReader(reader) {\n      var i = this._rangeReaders.indexOf(reader);\n      if (i >= 0) {\n        this._rangeReaders.splice(i, 1);\n      }\n    },\n\n    getFullReader: function PDFDataTransportStream_getFullReader() {\n      assert(!this._fullRequestReader);\n      var queuedChunks = this._queuedChunks;\n      this._queuedChunks = null;\n      return new PDFDataTransportStreamReader(this, queuedChunks);\n    },\n\n    getRangeReader: function PDFDataTransportStream_getRangeReader(begin, end) {\n      var reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n      this._pdfDataRangeTransport.requestDataRange(begin, end);\n      this._rangeReaders.push(reader);\n      return reader;\n    },\n\n    cancelAllRequests:\n        function PDFDataTransportStream_cancelAllRequests(reason) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader.cancel(reason);\n      }\n      var readers = this._rangeReaders.slice(0);\n      readers.forEach(function (rangeReader) {\n        rangeReader.cancel(reason);\n      });\n      this._pdfDataRangeTransport.abort();\n    },\n  };\n\n  /** @implements {IPDFStreamReader} */\n  function PDFDataTransportStreamReader(stream, queuedChunks) {\n    this._stream = stream;\n    this._done = false;\n    this._queuedChunks = queuedChunks || [];\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null; // not used\n  }\n  PDFDataTransportStreamReader.prototype = {\n    _enqueue: function PDFDataTransportStreamReader_enqueue(chunk) {\n      if (this._done) {\n        return; // ignore new data\n      }\n      if (this._requests.length > 0) {\n        var requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: chunk, done: false, });\n        return;\n      }\n      this._queuedChunks.push(chunk);\n    },\n\n    get headersReady() {\n      return this._headersReady;\n    },\n\n    get isRangeSupported() {\n      return this._stream._isRangeSupported;\n    },\n\n    get isStreamingSupported() {\n      return this._stream._isStreamingSupported;\n    },\n\n    get contentLength() {\n      return this._stream._contentLength;\n    },\n\n    read: function PDFDataTransportStreamReader_read() {\n      if (this._queuedChunks.length > 0) {\n        var chunk = this._queuedChunks.shift();\n        return Promise.resolve({ value: chunk, done: false, });\n      }\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      var requestCapability = createPromiseCapability();\n      this._requests.push(requestCapability);\n      return requestCapability.promise;\n    },\n\n    cancel: function PDFDataTransportStreamReader_cancel(reason) {\n      this._done = true;\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true, });\n      });\n      this._requests = [];\n    },\n  };\n\n  /** @implements {IPDFStreamRangeReader} */\n  function PDFDataTransportStreamRangeReader(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n  PDFDataTransportStreamRangeReader.prototype = {\n    _enqueue: function PDFDataTransportStreamRangeReader_enqueue(chunk) {\n      if (this._done) {\n        return; // ignore new data\n      }\n      if (this._requests.length === 0) {\n        this._queuedChunk = chunk;\n      } else {\n        var requestsCapability = this._requests.shift();\n        requestsCapability.resolve({ value: chunk, done: false, });\n        this._requests.forEach(function (requestCapability) {\n          requestCapability.resolve({ value: undefined, done: true, });\n        });\n        this._requests = [];\n      }\n      this._done = true;\n      this._stream._removeRangeReader(this);\n    },\n\n    get isStreamingSupported() {\n      return false;\n    },\n\n    read: function PDFDataTransportStreamRangeReader_read() {\n      if (this._queuedChunk) {\n        let chunk = this._queuedChunk;\n        this._queuedChunk = null;\n        return Promise.resolve({ value: chunk, done: false, });\n      }\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      var requestCapability = createPromiseCapability();\n      this._requests.push(requestCapability);\n      return requestCapability.promise;\n    },\n\n    cancel: function PDFDataTransportStreamRangeReader_cancel(reason) {\n      this._done = true;\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true, });\n      });\n      this._requests = [];\n      this._stream._removeRangeReader(this);\n    },\n  };\n\n  return PDFDataTransportStream;\n})();\n\nexport {\n  PDFDataTransportStream,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/transport_stream.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { shadow } from '../shared/util';\n\nclass WebGLContext {\n  constructor({ enable = false, }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n    return shadow(this, 'isEnabled', enabled);\n  }\n\n  composeSMask({ layer, mask, properties, }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({ width, height, backgroundColor, figures, context, }) {\n    return WebGLUtils.drawFigures(width, height, backgroundColor, figures,\n                                  context);\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n}\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error('Error during shader compilation: ' + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error('Error during program linking: ' + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement('canvas');\n    currentGL = currentCanvas.getContext('webgl',\n      { premultipliedalpha: false, });\n  }\n\n  var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n\n  var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n    cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n\n    var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n    var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n    var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width, height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache, canvas = cache.canvas, gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(cache.resolutionLocation, properties.backdrop[0],\n                   properties.backdrop[1], properties.backdrop[2], 1);\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(cache.subtypeLocation,\n                 properties.subtype === 'Luminosity' ? 1 : 0);\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n\n  var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n    cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache, canvas = cache.canvas, gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case 'lattice':\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case 'triangles':\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords, colorsMap = context.colors;\n    var pIndex = 0, cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i], ps = figure.coords, cs = figure.colors;\n      switch (figure.type) {\n        case 'lattice':\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case 'triangles':\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255,\n                    backgroundColor[2] / 255, 1.0);\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false,\n                           0, 0);\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) { }\n      return false;\n    },\n\n    composeSMask,\n\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache && smaskCache.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n      if (figuresCache && figuresCache.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n      smaskCache = null;\n      figuresCache = null;\n    },\n  };\n})();\n\nexport {\n  WebGLContext,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/webgl.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nlet fs = __non_webpack_require__('fs');\nlet http = __non_webpack_require__('http');\nlet https = __non_webpack_require__('https');\nlet url = __non_webpack_require__('url');\n\nimport {\n  AbortException, assert, createPromiseCapability\n} from '../shared/util';\nimport { validateRangeRequestCapabilities } from './network_utils';\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = url.parse(source.url);\n    this.isHttp = this.url.protocol === 'http:' ||\n                  this.url.protocol === 'https:';\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === 'file:' || !this.url.host;\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequest = null;\n    this._rangeRequestReaders = [];\n  }\n\n  getFullReader() {\n    assert(!this._fullRequest);\n    this._fullRequest = this.isFsUrl ?\n      new PDFNodeStreamFsFullReader(this) :\n      new PDFNodeStreamFullReader(this);\n    return this._fullRequest;\n  }\n\n  getRangeReader(start, end) {\n    let rangeReader = this.isFsUrl ?\n      new PDFNodeStreamFsRangeReader(this, start, end) :\n      new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequest) {\n      this._fullRequest.cancel(reason);\n    }\n\n    let readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function(reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._errored = false;\n    this._reason = null;\n    this.onProgress = null;\n    let source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  read() {\n    return this._readCapability.promise.then(() => {\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      if (this._errored) {\n        return Promise.reject(this._reason);\n      }\n\n      let chunk = this._readableStream.read();\n      if (chunk === null) {\n        this._readCapability = createPromiseCapability();\n        return this.read();\n      }\n      this._loaded += chunk.length;\n      if (this.onProgress) {\n        this.onProgress({\n          loaded: this._loaded,\n          total: this._contentLength,\n        });\n      }\n      // Ensure that `read()` method returns ArrayBuffer.\n      let buffer = new Uint8Array(chunk).buffer;\n      return Promise.resolve({ value: buffer, done: false, });\n    });\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._errored = true;\n    this._reason = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on('readable', () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on('end', () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on('error', (reason) => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException('streaming is disabled'));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._errored) {\n      this._readableStream.destroy(this._reason);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._errored = false;\n    this._reason = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    let source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  read() {\n    return this._readCapability.promise.then(() => {\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      if (this._errored) {\n        return Promise.reject(this._reason);\n      }\n\n      let chunk = this._readableStream.read();\n      if (chunk === null) {\n        this._readCapability = createPromiseCapability();\n        return this.read();\n      }\n      this._loaded += chunk.length;\n      if (this.onProgress) {\n        this.onProgress({ loaded: this._loaded, });\n      }\n      // Ensure that `read()` method returns ArrayBuffer.\n      let buffer = new Uint8Array(chunk).buffer;\n      return Promise.resolve({ value: buffer, done: false, });\n    });\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._errored = true;\n    this._reason = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on('readable', () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on('end', () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on('error', (reason) => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._errored) {\n      this._readableStream.destroy(this._reason);\n    }\n  }\n}\n\nfunction createRequestOptions(url, headers) {\n  return {\n    protocol: url.protocol,\n    auth: url.auth,\n    host: url.hostname,\n    port: url.port,\n    path: url.path,\n    method: 'GET',\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let handleResponse = (response) => {\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      let { allowRangeRequests, suggestedLength, } =\n      validateRangeRequestCapabilities({\n        getResponseHeader: (name) => {\n          // Make sure that headers name are in lower case, as mentioned\n          // here: https://nodejs.org/api/http.html#http_message_headers.\n          return this._readableStream.headers[name.toLowerCase()];\n        },\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n      if (allowRangeRequests) {\n        this._isRangeSupported = true;\n      }\n      // Setting right content length.\n      this._contentLength = suggestedLength;\n    };\n\n    this._request = null;\n    if (this._url.protocol === 'http:') {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse);\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse);\n    }\n\n    this._request.on('error', (reason) => {\n      this._errored = true;\n      this._reason = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (let property in stream.httpHeaders) {\n      let value = stream.httpHeaders[property];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders['Range'] = `bytes=${start}-${end - 1}`;\n\n    this._request = null;\n    if (this._url.protocol === 'http:') {\n      this._request = http.request(createRequestOptions(\n        this._url, this._httpHeaders), (response) => {\n          this._setReadableStream(response);\n        });\n    } else {\n      this._request = https.request(createRequestOptions(\n        this._url, this._httpHeaders), (response) => {\n          this._setReadableStream(response);\n        });\n    }\n\n    this._request.on('error', (reason) => {\n      this._errored = true;\n      this._reason = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURI(this._url.path);\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        this._errored = true;\n        this._reason = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._setReadableStream(\n      fs.createReadStream(decodeURI(this._url.path), { start, end: end - 1, }));\n  }\n}\n\nexport {\n  PDFNodeStream,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/node_stream.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException, assert, createPromiseCapability\n} from '../shared/util';\nimport {\n  createResponseStatusError, validateRangeRequestCapabilities,\n  validateResponseStatus\n} from './network_utils';\n\nfunction createFetchOptions(headers, withCredentials) {\n  return {\n    method: 'GET',\n    headers,\n    mode: 'cors',\n    credentials: withCredentials ? 'include' : 'same-origin',\n    redirect: 'follow',\n  };\n}\n\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    let reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    let readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function(reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    let source = stream.source;\n    this._withCredentials = source.withCredentials;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isRangeSupported = !source.disableRange;\n    this._isStreamingSupported = !source.disableStream;\n\n    this._headers = new Headers();\n    for (let property in this._stream.httpHeaders) {\n      let value = this._stream.httpHeaders[property];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n      this._headers.append(property, value);\n    }\n\n    let url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials)).\n        then((response) => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n\n      let { allowRangeRequests, suggestedLength, } =\n        validateRangeRequestCapabilities({\n          getResponseHeader: (name) => {\n            return response.headers.get(name);\n          },\n          isHttp: this._stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n      this._contentLength = suggestedLength;\n      this._isRangeSupported = allowRangeRequests;\n\n      // We need to stop reading when range is supported and streaming is\n      // disabled.\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException('streaming is disabled'));\n      }\n    }).catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  read() {\n    return this._headersCapability.promise.then(() => {\n      return this._reader.read().then(({ value, done, }) => {\n        if (done) {\n          return Promise.resolve({ value, done, });\n        }\n        this._loaded += value.byteLength;\n        if (this.onProgress) {\n          this.onProgress({\n            loaded: this._loaded,\n            total: this._contentLength,\n          });\n        }\n        let buffer = new Uint8Array(value).buffer;\n        return Promise.resolve({ value: buffer, done: false, });\n      });\n    });\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n  }\n}\n\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    let source = stream.source;\n    this._withCredentials = source.withCredentials;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    this._headers = new Headers();\n    for (let property in this._stream.httpHeaders) {\n      let value = this._stream.httpHeaders[property];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n      this._headers.append(property, value);\n    }\n\n    let rangeStr = begin + '-' + (end - 1);\n    this._headers.append('Range', 'bytes=' + rangeStr);\n    let url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials)).\n        then((response) => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    });\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  read() {\n    return this._readCapability.promise.then(() => {\n      return this._reader.read().then(({ value, done, }) => {\n        if (done) {\n          return Promise.resolve({ value, done, });\n        }\n        this._loaded += value.byteLength;\n        if (this.onProgress) {\n          this.onProgress({ loaded: this._loaded, });\n        }\n        let buffer = new Uint8Array(value).buffer;\n        return Promise.resolve({ value: buffer, done: false, });\n      });\n    });\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n  }\n}\n\nexport {\n  PDFFetchStream,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/fetch_stream.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability, stringToBytes } from '../shared/util';\nimport {\n  createResponseStatusError, validateRangeRequestCapabilities\n} from './network_utils';\nimport globalScope from '../shared/global_scope';\n\nif (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n  throw new Error('Module \"./network\" shall not ' +\n                  'be used with FIREFOX or MOZCENTRAL build.');\n}\n\nvar OK_RESPONSE = 200;\nvar PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction NetworkManager(url, args) {\n  this.url = url;\n  args = args || {};\n  this.isHttp = /^https?:/i.test(url);\n  this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n  this.withCredentials = args.withCredentials || false;\n  this.getXhr = args.getXhr ||\n    function NetworkManager_getXhr() {\n      return new XMLHttpRequest();\n    };\n\n  this.currXhrId = 0;\n  this.pendingRequests = Object.create(null);\n  this.loadedRequests = Object.create(null);\n}\n\nfunction getArrayBuffer(xhr) {\n  var data = xhr.response;\n  if (typeof data !== 'string') {\n    return data;\n  }\n  let array = stringToBytes(data);\n  return array.buffer;\n}\n\nvar supportsMozChunked =\n  typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME') ? false :\n    (function supportsMozChunkedClosure() {\n  try {\n    var x = new XMLHttpRequest();\n    // Firefox 37- required .open() to be called before setting responseType.\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=707484\n    // Even though the URL is not visited, .open() could fail if the URL is\n    // blocked, e.g. via the connect-src CSP directive or the NoScript addon.\n    // When this error occurs, this feature detection method will mistakenly\n    // report that moz-chunked-arraybuffer is not supported in Firefox 37-.\n    x.open('GET', globalScope.location.href);\n    x.responseType = 'moz-chunked-arraybuffer';\n    return x.responseType === 'moz-chunked-arraybuffer';\n  } catch (e) {\n    return false;\n  }\n})();\n\nNetworkManager.prototype = {\n  requestRange: function NetworkManager_requestRange(begin, end, listeners) {\n    var args = {\n      begin,\n      end,\n    };\n    for (var prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  },\n\n  requestFull: function NetworkManager_requestFull(listeners) {\n    return this.request(listeners);\n  },\n\n  request: function NetworkManager_request(args) {\n    var xhr = this.getXhr();\n    var xhrId = this.currXhrId++;\n    var pendingRequest = this.pendingRequests[xhrId] = {\n      xhr,\n    };\n\n    xhr.open('GET', this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (var property in this.httpHeaders) {\n      var value = this.httpHeaders[property];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && 'begin' in args && 'end' in args) {\n      var rangeStr = args.begin + '-' + (args.end - 1);\n      xhr.setRequestHeader('Range', 'bytes=' + rangeStr);\n      pendingRequest.expectedStatus = 206;\n    } else {\n      pendingRequest.expectedStatus = 200;\n    }\n\n    var useMozChunkedLoading = supportsMozChunked && !!args.onProgressiveData;\n    if (useMozChunkedLoading) {\n      xhr.responseType = 'moz-chunked-arraybuffer';\n      pendingRequest.onProgressiveData = args.onProgressiveData;\n      pendingRequest.mozChunked = true;\n    } else {\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if (args.onError) {\n      xhr.onerror = function(evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  },\n\n  onProgress: function NetworkManager_onProgress(xhrId, evt) {\n    var pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.mozChunked) {\n      var chunk = getArrayBuffer(pendingRequest.xhr);\n      pendingRequest.onProgressiveData(chunk);\n    }\n\n    var onProgress = pendingRequest.onProgress;\n    if (onProgress) {\n      onProgress(evt);\n    }\n  },\n\n  onStateChange: function NetworkManager_onStateChange(xhrId, evt) {\n    var pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    var xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // success status == 0 can be on ftp, file and other protocols\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    var xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    var ok_response_on_range_request =\n        xhrStatus === OK_RESPONSE &&\n        pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (!ok_response_on_range_request &&\n        xhrStatus !== pendingRequest.expectedStatus) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    this.loadedRequests[xhrId] = true;\n\n    var chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      var rangeHeader = xhr.getResponseHeader('Content-Range');\n      var matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      var begin = parseInt(matches[1], 10);\n      pendingRequest.onDone({\n        begin,\n        chunk,\n      });\n    } else if (pendingRequest.onProgressiveData) {\n      pendingRequest.onDone(null);\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  },\n\n  hasPendingRequests: function NetworkManager_hasPendingRequests() {\n    for (var xhrId in this.pendingRequests) {\n      return true;\n    }\n    return false;\n  },\n\n  getRequestXhr: function NetworkManager_getXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  },\n\n  isStreamingRequest: function NetworkManager_isStreamingRequest(xhrId) {\n    return !!(this.pendingRequests[xhrId].onProgressiveData);\n  },\n\n  isPendingRequest: function NetworkManager_isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  },\n\n  isLoadedRequest: function NetworkManager_isLoadedRequest(xhrId) {\n    return xhrId in this.loadedRequests;\n  },\n\n  abortAllRequests: function NetworkManager_abortAllRequests() {\n    for (var xhrId in this.pendingRequests) {\n      this.abortRequest(xhrId | 0);\n    }\n  },\n\n  abortRequest: function NetworkManager_abortRequest(xhrId) {\n    var xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  },\n};\n\n/** @implements {IPDFStream} */\nfunction PDFNetworkStream(source) {\n  this._source = source;\n  this._manager = new NetworkManager(source.url, {\n    httpHeaders: source.httpHeaders,\n    withCredentials: source.withCredentials,\n  });\n  this._rangeChunkSize = source.rangeChunkSize;\n  this._fullRequestReader = null;\n  this._rangeRequestReaders = [];\n}\n\nPDFNetworkStream.prototype = {\n  _onRangeRequestReaderClosed:\n      function PDFNetworkStream_onRangeRequestReaderClosed(reader) {\n    var i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  },\n\n  getFullReader: function PDFNetworkStream_getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader =\n      new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  },\n\n  getRangeReader: function PDFNetworkStream_getRangeReader(begin, end) {\n    var reader = new PDFNetworkStreamRangeRequestReader(this._manager,\n                                                        begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  },\n\n  cancelAllRequests: function PDFNetworkStream_cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    var readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  },\n};\n\n/** @implements {IPDFStreamReader} */\nfunction PDFNetworkStreamFullRequestReader(manager, source) {\n  this._manager = manager;\n\n  var args = {\n    onHeadersReceived: this._onHeadersReceived.bind(this),\n    onProgressiveData: source.disableStream ? null :\n                       this._onProgressiveData.bind(this),\n    onDone: this._onDone.bind(this),\n    onError: this._onError.bind(this),\n    onProgress: this._onProgress.bind(this),\n  };\n  this._url = source.url;\n  this._fullRequestId = manager.requestFull(args);\n  this._headersReceivedCapability = createPromiseCapability();\n  this._disableRange = source.disableRange || false;\n  this._contentLength = source.length; // optional\n  this._rangeChunkSize = source.rangeChunkSize;\n  if (!this._rangeChunkSize && !this._disableRange) {\n    this._disableRange = true;\n  }\n\n  this._isStreamingSupported = false;\n  this._isRangeSupported = false;\n\n  this._cachedChunks = [];\n  this._requests = [];\n  this._done = false;\n  this._storedError = undefined;\n\n  this.onProgress = null;\n}\n\nPDFNetworkStreamFullRequestReader.prototype = {\n  _onHeadersReceived:\n      function PDFNetworkStreamFullRequestReader_onHeadersReceived() {\n    var fullRequestXhrId = this._fullRequestId;\n    var fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    let { allowRangeRequests, suggestedLength, } =\n      validateRangeRequestCapabilities({\n        getResponseHeader: (name) => {\n          return fullRequestXhr.getResponseHeader(name);\n        },\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n\n    var networkManager = this._manager;\n    if (networkManager.isStreamingRequest(fullRequestXhrId)) {\n      // We can continue fetching when progressive loading is enabled,\n      // and we don't need the autoFetch feature.\n      this._isStreamingSupported = true;\n    } else if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range\n      // requests.\n      networkManager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  },\n\n  _onProgressiveData:\n      function PDFNetworkStreamFullRequestReader_onProgressiveData(chunk) {\n    if (this._requests.length > 0) {\n      var requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false, });\n    } else {\n      this._cachedChunks.push(chunk);\n    }\n  },\n\n  _onDone: function PDFNetworkStreamFullRequestReader_onDone(args) {\n    if (args) {\n      this._onProgressiveData(args.chunk);\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n  },\n\n  _onError: function PDFNetworkStreamFullRequestReader_onError(status) {\n    var url = this._url;\n    var exception = createResponseStatusError(status, url);\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  },\n\n  _onProgress: function PDFNetworkStreamFullRequestReader_onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  },\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  },\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  },\n\n  get contentLength() {\n    return this._contentLength;\n  },\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  },\n\n  read: function PDFNetworkStreamFullRequestReader_read() {\n    if (this._storedError) {\n      return Promise.reject(this._storedError);\n    }\n    if (this._cachedChunks.length > 0) {\n      var chunk = this._cachedChunks.shift();\n      return Promise.resolve({ value: chunk, done: false, });\n    }\n    if (this._done) {\n      return Promise.resolve({ value: undefined, done: true, });\n    }\n    var requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  },\n\n  cancel: function PDFNetworkStreamFullRequestReader_cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  },\n};\n\n/** @implements {IPDFStreamRangeReader} */\nfunction PDFNetworkStreamRangeRequestReader(manager, begin, end) {\n  this._manager = manager;\n  var args = {\n    onDone: this._onDone.bind(this),\n    onProgress: this._onProgress.bind(this),\n  };\n  this._requestId = manager.requestRange(begin, end, args);\n  this._requests = [];\n  this._queuedChunk = null;\n  this._done = false;\n\n  this.onProgress = null;\n  this.onClosed = null;\n}\n\nPDFNetworkStreamRangeRequestReader.prototype = {\n  _close: function PDFNetworkStreamRangeRequestReader_close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  },\n\n  _onDone: function PDFNetworkStreamRangeRequestReader_onDone(data) {\n    var chunk = data.chunk;\n    if (this._requests.length > 0) {\n      var requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false, });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    this._close();\n  },\n\n  _onProgress: function PDFNetworkStreamRangeRequestReader_onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  },\n\n  get isStreamingSupported() {\n    return false; // TODO allow progressive range bytes loading\n  },\n\n  read: function PDFNetworkStreamRangeRequestReader_read() {\n    if (this._queuedChunk !== null) {\n      var chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return Promise.resolve({ value: chunk, done: false, });\n    }\n    if (this._done) {\n      return Promise.resolve({ value: undefined, done: true, });\n    }\n    var requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  },\n\n  cancel: function PDFNetworkStreamRangeRequestReader_cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  },\n};\n\nexport {\n  PDFNetworkStream,\n  NetworkManager,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/network.js"]},"metadata":{},"sourceType":"script","externalDependencies":[]}